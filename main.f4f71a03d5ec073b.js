"use strict";(self.webpackChunkbora_bora_ai=self.webpackChunkbora_bora_ai||[]).push([[792],{359:()=>{let ot=null,ys=1;const ho=Symbol("SIGNAL");function se(n){const e=ot;return ot=n,e}const Lg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yI(n){if((!hc(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==ys)){if(!n.producerMustRecompute(n)&&!Hg(n))return n.dirty=!1,void(n.lastCleanEpoch=ys);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ys}}function Ug(n){return n&&(n.nextProducerIndex=0),se(n)}function Hg(n){ed(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(yI(t),r!==t.version))return!0}return!1}function jg(n){if(ed(n),hc(n))for(let e=0;e<n.producerNode.length;e++)Ju(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ju(n,e){if(function II(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),1===n.liveConsumerNode.length&&function SI(n){return void 0!==n.producerNode}(n))for(let r=0;r<n.producerNode.length;r++)Ju(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ed(i),i.producerIndexOfThis[r]=e}}function hc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ed(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let DI=null;function be(n){return"function"==typeof n}function $g(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const zg=$g(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function nd(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ht{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(o){e=o instanceof zg?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{kI(o)}catch(s){e=e??[],s instanceof zg?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zg(e)}}add(e){var t;if(e&&e!==this)if(this.closed)kI(e);else{if(e instanceof ht){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&nd(t,e)}remove(e){const{_finalizers:t}=this;t&&nd(t,e),e instanceof ht&&e._removeParent(this)}}ht.EMPTY=(()=>{const n=new ht;return n.closed=!0,n})();const RI=ht.EMPTY;function MI(n){return n instanceof ht||n&&"closed"in n&&be(n.remove)&&be(n.add)&&be(n.unsubscribe)}function kI(n){be(n)?n():n.unsubscribe()}const fo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rd={setTimeout(n,e,...t){const{delegate:r}=rd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=rd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function OI(n){rd.setTimeout(()=>{const{onUnhandledError:e}=fo;if(!e)throw n;e(n)})}function Gg(){}const rU=qg("C",void 0,void 0);function qg(n,e,t){return{kind:n,value:e,error:t}}let po=null;function id(n){if(fo.useDeprecatedSynchronousErrorHandling){const e=!po;if(e&&(po={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=po;if(po=null,t)throw r}}else n()}class Kg extends ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,MI(e)&&e.add(this)):this.destination=uU}static create(e,t,r){return new fc(e,t,r)}next(e){this.isStopped?Yg(function oU(n){return qg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Yg(function iU(n){return qg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yg(rU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const aU=Function.prototype.bind;function Wg(n,e){return aU.call(n,e)}class cU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){od(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){od(r)}else od(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){od(t)}}}class fc extends Kg{constructor(e,t,r){let i;if(super(),be(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&fo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wg(e.next,o),error:e.error&&Wg(e.error,o),complete:e.complete&&Wg(e.complete,o)}):i=e}this.destination=new cU(i)}}function od(n){fo.useDeprecatedSynchronousErrorHandling?function sU(n){fo.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=n)}(n):OI(n)}function Yg(n,e){const{onStoppedNotification:t}=fo;t&&rd.setTimeout(()=>t(n,e))}const uU={closed:!0,next:Gg,error:function lU(n){throw n},complete:Gg},Qg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Oi(n){return n}function NI(n){return 0===n.length?Oi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function fU(n){return n&&n instanceof Kg||function hU(n){return n&&be(n.next)&&be(n.error)&&be(n.complete)}(n)&&MI(n)}(t)?t:new fc(t,r,i);return id(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=xI(r))((i,o)=>{const s=new fc({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Qg](){return this}pipe(...t){return NI(t)(this)}toPromise(t){return new(t=xI(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function xI(n){var e;return null!==(e=n??fo.Promise)&&void 0!==e?e:Promise}const pU=$g(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let re=(()=>{class n extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new PI(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pU}next(t){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?RI:(this.currentObservers=null,o.push(t),new ht(()=>{this.currentObservers=null,nd(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Xe;return t.source=this,t}}return n.create=(e,t)=>new PI(e,t),n})();class PI extends re{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:RI}}class kt extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function FI(n){return be(n?.lift)}function st(n){return e=>{if(FI(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(n,e,t,r,i){return new mU(n,e,t,r,i)}class mU extends Kg{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Z(n,e){return st((t,r)=>{let i=0;t.subscribe(Ze(r,o=>{r.next(n.call(e,o,i++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const tS="https://g.co/ng/security#xss";class T extends Error{constructor(e,t){super(function bs(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ai(n){return{toString:n}.toString()}const Es="__parameters__";function Ts(n,e,t){return ai(()=>{const r=function iv(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Es)?c[Es]:Object.defineProperty(c,Es,{value:[]})[Es];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const ze=globalThis;function De(n){for(let e in n)if(n[e]===De)return e;throw Error("Could not find renamed property on target object.")}function gH(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ct(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ct).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ov(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const vH=De({__forward_ref__:De});function sv(n){return n.__forward_ref__=sv,n.toString=function(){return Ct(this())},n}function q(n){return ud(n)?n():n}function ud(n){return"function"==typeof n&&n.hasOwnProperty(vH)&&n.__forward_ref__===sv}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ne(n){return{providers:n.providers||[],imports:n.imports||[]}}function dd(n){return oS(n,fd)||oS(n,sS)}function oS(n,e){return n.hasOwnProperty(e)?n[e]:null}function hd(n){return n&&(n.hasOwnProperty(av)||n.hasOwnProperty(wH))?n[av]:null}const fd=De({\u0275prov:De}),av=De({\u0275inj:De}),sS=De({ngInjectableDef:De}),wH=De({ngInjectorDef:De});class D{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hv(n){return n&&!!n.\u0275providers}const mc=De({\u0275cmp:De}),fv=De({\u0275dir:De}),pv=De({\u0275pipe:De}),cS=De({\u0275mod:De}),ci=De({\u0275fac:De}),gc=De({__NG_ELEMENT_ID__:De}),lS=De({__NG_ENV_ID__:De});function ee(n){return"string"==typeof n?n:null==n?"":String(n)}function mv(n,e){throw new T(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{});let gv;function uS(){return gv}function _n(n){const e=gv;return gv=n,e}function dS(n,e,t){const r=dd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&de.Optional?null:void 0!==e?e:void mv()}const vc={},vv="__NG_DI_FLAG__",pd="ngTempTokenPath",RH=/\n/gm,hS="__source";let Is;function Pi(n){const e=Is;return Is=n,e}function OH(n,e=de.Default){if(void 0===Is)throw new T(-203,!1);return null===Is?dS(n,void 0,e):Is.get(n,e&de.Optional?null:void 0,e)}function C(n,e=de.Default){return(uS()||OH)(q(n),e)}function w(n,e=de.Default){return C(n,md(e))}function md(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _v(n){const e=[];for(let t=0;t<n.length;t++){const r=q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){const a=r[s],c=NH(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(C(i,o))}else e.push(C(r))}return e}function _c(n,e){return n[vv]=e,n.prototype[vv]=e,n}function NH(n){return n[vv]}const go=_c(Ts("Optional"),8),yc=_c(Ts("SkipSelf"),4);function vo(n,e){return n.hasOwnProperty(ci)?n[ci]:null}function Ss(n,e){n.forEach(t=>Array.isArray(t)?Ss(t,e):e(t))}function pS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function gd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Rn(n,e,t){let r=Ds(n,e);return r>=0?n[1|r]=t:(r=~r,function mS(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function bv(n,e){const t=Ds(n,e);if(t>=0)return n[1|t]}function Ds(n,e){return function gS(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Or={},ve=[],ir=new D(""),vS=new D("",-1),Cv=new D("");class _d{get(e,t=vc){if(t===vc){const r=new Error(`NullInjectorError: No provider for ${Ct(e)}!`);throw r.name="NullInjectorError",r}return t}}var yd=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(yd||{}),or=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(or||{}),Fi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Fi||{});function HH(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Ev(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];yS(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function _S(n){return 3===n||4===n||6===n}function yS(n){return 64===n.charCodeAt(0)}function bc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||bS(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function bS(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const CS="ng-template";function jH(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==HH(e[i+1].toLowerCase(),t,0))return!0}else if(wv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===t)return!0}return!1}function wv(n){return 4===n.type&&n.value!==CS}function VH(n,e,t){return e===(4!==n.type||t?n.value:CS)}function $H(n,e,t){let r=4;const i=n.attrs,o=null!==i?function qH(n){for(let e=0;e<n.length;e++)if(_S(n[e]))return e;return n.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!VH(n,c,t)||""===c&&1===e.length){if(sr(r))return!1;s=!0}}else if(8&r){if(null===i||!jH(n,i,c,t)){if(sr(r))return!1;s=!0}}else{const l=e[++a],u=zH(c,i,wv(n),t);if(-1===u){if(sr(r))return!1;s=!0;continue}if(""!==l){let d;if(d=u>o?"":i[u+1].toLowerCase(),2&r&&l!==d){if(sr(r))return!1;s=!0}}}}else{if(!s&&!sr(r)&&!sr(c))return!1;if(s&&sr(c))continue;s=!1,r=c|1&r}}return sr(r)||s}function sr(n){return!(1&n)}function zH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function KH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function ES(n,e,t=!1){for(let r=0;r<e.length;r++)if($H(n,e[r],t))return!0;return!1}function WH(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function wS(n,e){return n?":not("+e.trim()+")":e}function YH(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!sr(s)&&(e+=wS(o,i),i=""),r=s,o=o||!sr(r);t++}return""!==i&&(e+=wS(o,i)),e}function Ge(n){return ai(()=>{const e=IS(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||or.Emulated,styles:n.styles||ve,_:null,schemas:n.schemas||null,tView:null,id:""};SS(t);const r=n.dependencies;return t.directiveDefs=bd(r,!1),t.pipeDefs=bd(r,!0),t.id=function t2(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function ZH(n){return le(n)||Et(n)}function JH(n){return null!==n}function Pe(n){return ai(()=>({type:n.type,bootstrap:n.bootstrap||ve,declarations:n.declarations||ve,imports:n.imports||ve,exports:n.exports||ve,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function TS(n,e){if(null==n)return Or;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let o,s,a=Fi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Fi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function F(n){return ai(()=>{const e=IS(n);return SS(e),e})}function le(n){return n[mc]||null}function Et(n){return n[fv]||null}function Pt(n){return n[pv]||null}function qt(n,e){const t=n[cS]||null;if(!t&&!0===e)throw new Error(`Type ${Ct(n)} does not have '\u0275mod' property.`);return t}function IS(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Or,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ve,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:TS(n.inputs,e),outputs:TS(n.outputs),debugInfo:null}}function SS(n){n.features?.forEach(e=>e(n))}function bd(n,e){if(!n)return null;const t=e?Pt:ZH;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(JH)}function n2(...n){return{\u0275providers:Tv(0,n),\u0275fromNgModule:!0}}function Tv(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Ss(e,s=>{const a=s;Ed(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&DS(i,o),t}function DS(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Iv(i,o=>{e(o,r)})}}function Ed(n,e,t,r){if(!(n=q(n)))return!1;let i=null,o=hd(n);const s=!o&&le(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=hd(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Ed(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Ss(o.imports,u=>{Ed(u,e,t,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&DS(l,e)}if(!a){const l=vo(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:Cv,useValue:i,multi:!0},i),e({provide:ir,useValue:()=>C(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=n;Iv(c,u=>{e(u,l)})}}}return i!==n&&void 0!==n.providers}function Iv(n,e){for(let t of n)hv(t)&&(t=t.\u0275providers),Array.isArray(t)?Iv(t,e):e(t)}const r2=De({provide:String,useValue:De});function Sv(n){return null!==n&&"object"==typeof n&&r2 in n}function _o(n){return"function"==typeof n}const Dv=new D(""),wd={},s2={};let Av;function Td(){return void 0===Av&&(Av=new _d),Av}class en{}class As extends en{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mv(e,s=>this.processProvider(s)),this.records.set(vS,Rs(void 0,this)),i.has("environment")&&this.records.set(en,Rs(void 0,this));const o=this.records.get(Dv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cv,ve,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=se(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Pi(this),r=_n(void 0);try{return e()}finally{Pi(t),_n(r)}}get(e,t=vc,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lS))return e[lS](this);r=md(r);const o=Pi(this),s=_n(void 0);try{if(!(r&de.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function d2(n){return"function"==typeof n||"object"==typeof n&&n instanceof D}(e)&&dd(e);c=l&&this.injectableDefInScope(l)?Rs(Rv(e),wd):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&de.Self?Td():this.parent).get(e,t=r&de.Optional&&t===vc?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[pd]=a[pd]||[]).unshift(Ct(e)),o)throw a;return function xH(n,e,t,r){const i=n[pd];throw e[hS]&&i.unshift(e[hS]),n.message=function PH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ct(e);if(Array.isArray(e))i=e.map(Ct).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ct(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(RH,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[pd]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{_n(s),Pi(o)}}resolveInjectorInitializers(){const e=se(null),t=Pi(this),r=_n(void 0);try{const o=this.get(ir,ve,de.Self);for(const s of o)s()}finally{Pi(t),_n(r),se(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ct(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let t=_o(e=q(e))?e:q(e&&e.provide);const r=function c2(n){return Sv(n)?Rs(void 0,n.useValue):Rs(MS(n),wd)}(e);if(!_o(e)&&!0===e.multi){let i=this.records.get(t);i||(i=Rs(void 0,wd,!0),i.factory=()=>_v(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){const r=se(null);try{return t.value===wd&&(t.value=s2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function u2(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Rv(n){const e=dd(n),t=null!==e?e.factory:vo(n);if(null!==t)return t;if(n instanceof D)throw new T(204,!1);if(n instanceof Function)return function a2(n){if(n.length>0)throw new T(204,!1);const t=function EH(n){return n&&(n[fd]||n[sS])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new T(204,!1)}function MS(n,e,t){let r;if(_o(n)){const i=q(n);return vo(i)||Rv(i)}if(Sv(n))r=()=>q(n.useValue);else if(function RS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(..._v(n.deps||[]));else if(function AS(n){return!(!n||!n.useExisting)}(n))r=()=>C(q(n.useExisting));else{const i=q(n&&(n.useClass||n.provide));if(!function l2(n){return!!n.deps}(n))return vo(i)||Rv(i);r=()=>new i(..._v(n.deps))}return r}function Rs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Mv(n,e){for(const t of n)Array.isArray(t)?Mv(t,e):t&&hv(t)?Mv(t.\u0275providers,e):e(t)}function Nr(n,e){n instanceof As&&n.assertNotDestroyed();const r=Pi(n),i=_n(void 0);try{return e()}finally{Pi(r),_n(i)}}function kS(){return void 0!==uS()||null!=function kH(){return Is}()}function Id(n){if(!kS())throw new T(-203,!1)}const qe=0,k=1,j=2,pt=3,ar=4,Ft=5,tn=6,ks=7,Ue=8,mt=9,xr=10,Y=11,Ec=12,NS=13,Os=14,Ke=15,yo=16,Ns=17,li=18,xs=19,xS=20,Bi=21,Dd=22,qn=23,H=25,Ov=1,Pr=7,Ps=9,at=10;var Rd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Rd||{});function Ot(n){return Array.isArray(n)&&"object"==typeof n[Ov]}function Kt(n){return Array.isArray(n)&&!0===n[Ov]}function Nv(n){return!!(4&n.flags)}function bo(n){return n.componentOffset>-1}function Md(n){return!(1&~n.flags)}function cr(n){return!!n.template}function Tc(n){return!!(512&n[j])}class T2{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function BS(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function lr(){return US}function US(n){return n.type.prototype.ngOnChanges&&(n.setInput=S2),I2}function I2(){const n=jS(this),e=n?.current;if(e){const t=n.previous;if(t===Or)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function S2(n,e,t,r,i){const o=this.declaredInputs[r],s=jS(n)||function D2(n,e){return n[HS]=e}(n,{previous:Or,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new T2(l&&l.currentValue,t,c===Or),BS(n,e,i,t)}lr.ngInherit=!0;const HS="__ngSimpleChanges__";function jS(n){return n[HS]||null}const Fr=function(n,e,t){};function _e(n){for(;Array.isArray(n);)n=n[qe];return n}function Ic(n,e){return _e(e[n])}function nn(n,e){return _e(e[n.index])}function Sc(n,e){return n.data[e]}function Mn(n,e){const t=e[n];return Ot(t)?t:t[qe]}function Bv(n){return!(128&~n[j])}function Kn(n,e){return null==e?null:n[e]}function zS(n){n[Ns]=0}function GS(n){1024&n[j]||(n[j]|=1024,Bv(n)&&kd(n))}function Dc(n){return!!(9216&n[j]||n[qn]?.dirty)}function Uv(n){n[xr].changeDetectionScheduler?.notify(7),64&n[j]&&(n[j]|=1024),Dc(n)&&kd(n)}function kd(n){n[xr].changeDetectionScheduler?.notify(0);let e=ui(n);for(;null!==e&&!(8192&e[j])&&(e[j]|=8192,Bv(e));)e=ui(e)}function Od(n,e){if(!(256&~n[j]))throw new T(911,!1);null===n[Bi]&&(n[Bi]=[]),n[Bi].push(e)}function ui(n){const e=n[pt];return Kt(e)?e[pt]:e}const Q={lFrame:iD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let KS=!1;function WS(){return Q.bindingsEnabled}function Eo(){return null!==Q.skipHydrationRootTNode}function I(){return Q.lFrame.lView}function ae(){return Q.lFrame.tView}function xd(n){return Q.lFrame.contextLView=n,n[Ue]}function Pd(n){return Q.lFrame.contextLView=null,n}function Ae(){let n=YS();for(;null!==n&&64===n.type;)n=n.parent;return n}function YS(){return Q.lFrame.currentTNode}function ur(n,e){const t=Q.lFrame;t.currentTNode=n,t.isParent=e}function Vv(){return Q.lFrame.isParent}function $v(){Q.lFrame.isParent=!1}function ZS(){return KS}function JS(n){KS=n}function dr(){return Q.lFrame.bindingIndex++}function hi(n){const e=Q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function j2(n,e){const t=Q.lFrame;t.bindingIndex=t.bindingRootIndex=n,zv(e)}function zv(n){Q.lFrame.currentDirectiveIndex=n}function qv(){return Q.lFrame.currentQueryIndex}function Fd(n){Q.lFrame.currentQueryIndex=n}function $2(n){const e=n[k];return 2===e.type?e.declTNode:1===e.type?n[Ft]:null}function nD(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&de.Host||(i=$2(o),null===i||(o=o[Os],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Q.lFrame=rD();return r.currentTNode=e,r.lView=n,!0}function Kv(n){const e=rD(),t=n[k];Q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function rD(){const n=Q.lFrame,e=null===n?null:n.child;return null===e?iD(n):e}function iD(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function oD(){const n=Q.lFrame;return Q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const sD=oD;function Wv(){const n=oD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Lt(){return Q.lFrame.selectedIndex}function wo(n){Q.lFrame.selectedIndex=n}function He(){const n=Q.lFrame;return Sc(n.tView,n.selectedIndex)}let cD=!0;function Rc(){return cD}function Lr(n){cD=n}function Ld(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Bd(n,e,t){lD(n,e,3,t)}function Ud(n,e,t,r){(3&n[j])===t&&lD(n,e,t,r)}function Yv(n,e){let t=n[j];(3&t)===e&&(t&=16383,t+=1,n[j]=t)}function lD(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Ns]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Ns]+=65536),(a<o||-1==o)&&(Q2(n,t,e,c),n[Ns]=(4294901760&n[Ns])+c+2),c++}function uD(n,e){Fr(4,n,e);const t=se(null);try{e.call(n)}finally{se(t),Fr(5,n,e)}}function Q2(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[j]>>14<n[Ns]>>16&&(3&n[j])===e&&(n[j]+=16384,uD(a,o)):uD(a,o)}const Fs=-1;class Mc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}const Xv={};class To{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=md(r);const i=this.injector.get(e,Xv,r);return i!==Xv||t===Xv?i:this.parentInjector.get(e,t,r)}}function Zv(n){return n!==Fs}function kc(n){return 32767&n}function Oc(n,e){let t=function ej(n){return n>>16}(n),r=e;for(;t>0;)r=r[Os],t--;return r}let Jv=!0;function Hd(n){const e=Jv;return Jv=n,e}const hD=255,fD=5;let nj=0;const Br={};function jd(n,e){const t=pD(n,e);if(-1!==t)return t;const r=e[k];r.firstCreatePass&&(n.injectorIndex=e.length,e_(r.data,n),e_(e,null),e_(r.blueprint,null));const i=Vd(n,e),o=n.injectorIndex;if(Zv(i)){const s=kc(i),a=Oc(i,e),c=a[k].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function e_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pD(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Vd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=CD(i),null===r)return Fs;if(t++,i=i[Os],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Fs}function t_(n,e,t){!function rj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(gc)&&(r=t[gc]),null==r&&(r=t[gc]=nj++);const i=r&hD;e.data[n+(i>>fD)]|=1<<i}(n,e,t)}function mD(n,e,t){if(t&de.Optional||void 0!==n)return n;mv()}function gD(n,e,t,r){if(t&de.Optional&&void 0===r&&(r=null),!(t&(de.Self|de.Host))){const i=n[mt],o=_n(void 0);try{return i?i.get(e,r,t&de.Optional):dS(e,r,t&de.Optional)}finally{_n(o)}}return mD(r,0,t)}function vD(n,e,t,r=de.Default,i){if(null!==n){if(2048&e[j]&&!(r&de.Self)){const s=function cj(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[j]&&!(512&s[j]);){const a=_D(o,s,t,r|de.Self,Br);if(a!==Br)return a;let c=o.parent;if(!c){const l=s[xS];if(l){const u=l.get(t,Br,r);if(u!==Br)return u}c=CD(s),s=s[Os]}o=c}return i}(n,e,t,r,Br);if(s!==Br)return s}const o=_D(n,e,t,r,Br);if(o!==Br)return o}return gD(e,t,r,i)}function _D(n,e,t,r,i){const o=function sj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(gc)?n[gc]:void 0;return"number"==typeof e?e>=0?e&hD:aj:e}(t);if("function"==typeof o){if(!nD(e,n,r))return r&de.Host?mD(i,0,r):gD(e,t,r,i);try{let s;if(s=o(r),null!=s||r&de.Optional)return s;mv()}finally{sD()}}else if("number"==typeof o){let s=null,a=pD(n,e),c=Fs,l=r&de.Host?e[Ke][Ft]:null;for((-1===a||r&de.SkipSelf)&&(c=-1===a?Vd(n,e):e[a+8],c!==Fs&&bD(r,!1)?(s=e[k],a=kc(c),e=Oc(c,e)):a=-1);-1!==a;){const u=e[k];if(yD(o,a,u.data)){const d=oj(a,e,t,s,r,l);if(d!==Br)return d}c=e[a+8],c!==Fs&&bD(r,e[k].data[a+8]===l)&&yD(o,a,e)?(s=u,a=kc(c),e=Oc(c,e)):a=-1}}return i}function oj(n,e,t,r,i,o){const s=e[k],a=s.data[n+8],u=$d(a,s,t,null==r?bo(a)&&Jv:r!=s&&!!(3&a.type),i&de.Host&&o===a);return null!==u?Io(e,s,u,a):Br}function $d(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=s[c];if(f&&cr(f)&&f.type===t)return c}return null}function Io(n,e,t,r){let i=n[t];const o=e.data;if(function X2(n){return n instanceof Mc}(i)){const s=i;s.resolving&&function SH(n,e){throw e&&e.join(" > "),new T(-200,n)}(function Ee(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ee(n)}(o[t]));const a=Hd(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?_n(s.injectImpl):null;nD(n,r,de.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Y2(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=US(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&_n(l),Hd(a),s.resolving=!1,sD()}}return i}function yD(n,e,t){return!!(t[e+(n>>fD)]&1<<n)}function bD(n,e){return!(n&de.Self||n&de.Host&&e)}class Tt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vD(this._tNode,this._lView,e,md(r),t)}}function aj(){return new Tt(Ae(),I())}function ct(n){return ai(()=>{const e=n.prototype.constructor,t=e[ci]||n_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ci]||n_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function n_(n){return ud(n)?()=>{const e=n_(q(n));return e&&e()}:vo(n)}function CD(n){const e=n[k],t=e.type;return 2===t?e.declTNode:1===t?n[Ft]:null}function Us(n){return function ij(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(_S(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ae(),n)}function SD(n,e=null,t=null,r){const i=DD(n,e,t,r);return i.resolveInjectorInitializers(),i}function DD(n,e=null,t=null,r,i=new Set){const o=[t||ve,n2(n)];return r=r||("object"==typeof n?void 0:Ct(n)),new As(o,e||Td(),r||null,i)}class Se{static#e=this.THROW_IF_NOT_FOUND=vc;static#t=this.NULL=new _d;static create(e,t){if(Array.isArray(e))return SD({name:""},t,e,"");{const r=e.name??"";return SD({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=O({token:Se,providedIn:"any",factory:()=>C(vS)});static#r=this.__NG_ELEMENT_ID__=-1}new D("").__NG_ELEMENT_ID__=n=>{const e=Ae();if(null===e)throw new T(204,!1);if(2&e.type)return e.value;if(n&de.Optional)return null;throw new T(204,!1)};function i_(n){return n.ngOriginalError}let Nc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=_j;static#t=this.__NG_ENV_ID__=t=>t}return n})();class vj extends Nc{constructor(e){super(),this._lView=e}onDestroy(e){return Od(this._lView,e),()=>function Hv(n,e){if(null===n[Bi])return;const t=n[Bi].indexOf(e);-1!==t&&n[Bi].splice(t,1)}(this._lView,e)}}function _j(){return new vj(I())}let So=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})();const It=class yj extends re{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,kS()&&(this.destroyRef=w(Nc,{optional:!0})??void 0,this.pendingTasks=w(So,{optional:!0})??void 0)}emit(e){const t=se(null);try{super.next(e)}finally{se(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof ht&&e.add(a),a}wrapInTimeout(e){return t=>{const r=this.pendingTasks?.add();setTimeout(()=>{e(t),void 0!==r&&this.pendingTasks?.remove(r)})}}};function Gd(...n){}function RD(n){let e,t;function r(){n=Gd;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function MD(n){return queueMicrotask(()=>n()),()=>{n=Gd}}class z{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,function Ej(n){const e=()=>{!function Cj(n){n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,Zone.root.run(()=>{RD(()=>{n.callbackScheduled=!1,s_(n),n.isCheckStableRunning=!0,o_(n),n.isCheckStableRunning=!1})}),s_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function wj(n){return ND(n,"__ignore_ng_zone__")}(a))return t.invokeTask(i,o,s,a);try{return kD(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),OD(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return kD(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function Tj(n){return ND(n,"__scheduler_tick__")}(a)&&e(),OD(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,s_(n),o_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!z.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(z.isInAngularZone())throw new T(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bj,Gd,Gd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const bj={};function o_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function s_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function kD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OD(n){n._nesting--,o_(n)}class a_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}function ND(n,e){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[e]}class kn{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&i_(e);for(;t&&i_(t);)t=i_(t);return t||null}}const Sj=new D("",{providedIn:"root",factory:()=>{const n=w(z),e=w(kn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Dj(){return Hs(Ae(),I())}function Hs(n,e){return new Re(nn(n,e))}let Re=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=Dj}return n})();function PD(n){return n instanceof Re?n.nativeElement:n}function Aj(){return this._results[Symbol.iterator]()}class xc{static#e=Symbol.iterator;get changes(){return this._changes??=new It}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=xc.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Aj)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function yn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function UH(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function qd(n){return!(128&~n.flags)}const c_=new Map;let Mj=0;const Wd="__ngContext__";function Wt(n,e){Ot(e)?(n[Wd]=e[xs],function Oj(n){c_.set(n[xs],n)}(e)):n[Wd]=e}function GD(n){return KD(n[Ec])}function qD(n){return KD(n[ar])}function KD(n){for(;null!==n&&!Kt(n);)n=n[ar];return n}let u_;const Vs=new D("",{providedIn:"root",factory:()=>Qj}),Qj="ng",tA=new D(""),Hi=new D("",{providedIn:"platform",factory:()=>"unknown"}),fi=new D(""),d_=new D("",{providedIn:"root",factory:()=>function Ui(){if(void 0!==u_)return u_;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nA=()=>null;function __(n,e,t=!1){return nA(n,e,t)}const uA=new D("",{providedIn:"root",factory:()=>!1});let ih;function mA(n){return function T_(){if(void 0===ih&&(ih=null,ze.trustedTypes))try{ih=ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ih}()?.createScriptURL(n)||n}class Do{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tS})`}}function On(n){return n instanceof Do?n.changingThisBreaksApplicationSecurity:n}function Ur(n,e){const t=function mV(n){return n instanceof Do&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${tS})`)}return t===e}const TV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Bt=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Bt||{});function IA(n){const e=$c();return e?e.sanitize(Bt.URL,n)||"":Ur(n,"URL")?On(n):function oh(n){return(n=String(n)).match(TV)?n:"unsafe:"+n}(ee(n))}function SA(n){const e=$c();if(e)return mA(e.sanitize(Bt.RESOURCE_URL,n)||"");if(Ur(n,"ResourceURL"))return mA(On(n));throw new T(904,!1)}function $c(){const n=I();return n&&n[xr].sanitizer}const UV=/^>|^->|<!--|-->|--!>|<!-$/g,HV=/(<|>)/g,jV="\u200b$1\u200b";function Nn(n){return n instanceof Function?n():n}function En(n){return"browser"===(n??w(Se)).get(Hi)}var ji=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ji||{});let M_;function k_(n,e){return M_(n,e)}function Ks(n,e,t,r,i){if(null!=r){let o,s=!1;Kt(r)?o=r:Ot(r)&&(s=!0,r=r[qe]);const a=_e(r);0===n&&null!==t?null==i?HA(e,t,a):Ao(e,t,a,i||null,!0):1===n&&null!==t?Ao(e,t,a,i||null,!0):2===n?function Gc(n,e,t){const r=dh(n,e);r&&function o$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function c$(n,e,t,r,i){const o=t[Pr];o!==_e(t)&&Ks(e,n,r,o,i);for(let a=at;a<t.length;a++){const c=t[a];fh(c[k],c,n,e,r,o)}}(e,n,o,t,i)}}function N_(n,e){return n.createComment(function AA(n){return n.replace(UV,e=>e.replace(HV,jV))}(e))}function lh(n,e,t){return n.createElement(e,t)}function LA(n,e){e[xr].changeDetectionScheduler?.notify(8),fh(n,e,e[Y],2,null,null)}function BA(n,e){const t=n[Ps],r=e[pt];(Ot(r)||e[Ke]!==r[pt][Ke])&&(n[j]|=Rd.HasTransplantedViews),null===t?n[Ps]=[e]:t.push(e)}function x_(n,e){const t=n[Ps],r=t.indexOf(e);t.splice(r,1)}function zc(n,e){if(n.length<=at)return;const t=at+e,r=n[t];if(r){const i=r[yo];null!==i&&i!==n&&x_(i,r),e>0&&(n[t-1][ar]=r[ar]);const o=gd(n,at+e);!function JV(n,e){LA(n,e),e[qe]=null,e[Ft]=null}(r[k],r);const s=o[li];null!==s&&s.detachView(o[k]),r[pt]=null,r[ar]=null,r[j]&=-129}return r}function uh(n,e){if(!(256&e[j])){const t=e[Y];t.destroyNode&&fh(n,e,t,3,null,null),function t$(n){let e=n[Ec];if(!e)return P_(n[k],n);for(;e;){let t=null;if(Ot(e))t=e[Ec];else{const r=e[at];r&&(t=r)}if(!t){for(;e&&!e[ar]&&e!==n;)Ot(e)&&P_(e[k],e),e=e[pt];null===e&&(e=n),Ot(e)&&P_(e[k],e),t=e&&e[ar]}e=t}}(e)}}function P_(n,e){if(256&e[j])return;const t=se(null);try{e[j]&=-129,e[j]|=256,e[qn]&&jg(e[qn]),function i$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Mc)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Fr(4,a,c);try{c.call(a)}finally{Fr(5,a,c)}}else{Fr(4,i,o);try{o.call(i)}finally{Fr(5,i,o)}}}}}(n,e),function r$(n,e){const t=n.cleanup,r=e[ks];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[ks]=null);const i=e[Bi];if(null!==i){e[Bi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[k].type&&e[Y].destroy();const r=e[yo];if(null!==r&&Kt(e[pt])){r!==e[pt]&&x_(r,e);const i=e[li];null!==i&&i.detachView(n)}!function Nj(n){c_.delete(n[xs])}(e)}finally{se(t)}}function F_(n,e,t){return function UA(n,e,t){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return t[qe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===or.None||o===or.Emulated)return null}return nn(r,t)}}(n,e.parent,t)}function Ao(n,e,t,r,i){n.insertBefore(e,t,r,i)}function HA(n,e,t){n.appendChild(e,t)}function jA(n,e,t,r,i){null!==r?Ao(n,e,t,r,i):HA(n,e,t)}function dh(n,e){return n.parentNode(e)}function VA(n,e,t){return zA(n,e,t)}let L_,zA=function $A(n,e,t){return 40&n.type?nn(n,t):null};function hh(n,e,t,r){const i=F_(n,r,e),o=e[Y],a=VA(r.parent||e[Ft],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)jA(o,i,t[c],a,!1);else jA(o,i,t,a,!1);void 0!==L_&&L_(o,r,e,t,i)}function Ro(n,e){if(null!==e){const t=e.type;if(3&t)return nn(e,n);if(4&t)return B_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ro(n,r);{const i=n[e.index];return Kt(i)?B_(-1,i):_e(i)}}if(128&t)return Ro(n,e.next);if(32&t)return k_(e,n)()||_e(n[e.index]);{const r=qA(n,e);return null!==r?Array.isArray(r)?r[0]:Ro(ui(n[Ke]),r):Ro(n,e.next)}}return null}function qA(n,e){return null!==e?n[Ke][Ft].projection[e.projection]:null}function B_(n,e){const t=at+n+1;if(t<e.length){const r=e[t],i=r[k].firstChild;if(null!==i)return Ro(r,i)}return e[Pr]}function U_(n,e,t,r,i,o,s){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=r[t.index],c=t.type;if(s&&0===e&&(a&&Wt(_e(a),r),t.flags|=2),32&~t.flags)if(8&c)U_(n,e,t.child,r,i,o,!1),Ks(e,n,i,a,o);else if(32&c){const l=k_(t,r);let u;for(;u=l();)Ks(e,n,i,u,o);Ks(e,n,i,a,o)}else 16&c?WA(n,e,r,t,i,o):Ks(e,n,i,a,o);t=s?t.projectionNext:t.next}}function fh(n,e,t,r,i,o){U_(t,r,n.firstChild,e,i,o,!1)}function WA(n,e,t,r,i,o){const s=t[Ke],c=s[Ft].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ks(e,n,i,c[l],o);else{let l=c;const u=s[pt];qd(r)&&(l.flags|=128),U_(n,e,l,u,i,o,!0)}}function YA(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function QA(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Ev(n,e,r),null!==i&&YA(n,e,i),null!==o&&function u$(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const te={};function tt(n=1){XA(ae(),I(),Lt()+n,!1)}function XA(n,e,t,r){if(!r)if(3&~e[j]){const o=n.preOrderHooks;null!==o&&Ud(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&Bd(e,o,t)}wo(t)}function E(n,e=de.Default){const t=I();return null===t?C(n,e):vD(Ae(),t,q(n),e)}function ph(){throw new Error("invalid")}function ZA(n,e,t,r,i,o){const s=se(null);try{let a=null;i&Fi.SignalBased&&(a=e[r][ho]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Fi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,r):BS(e,a,r,o)}finally{se(s)}}function mh(n,e,t,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[qe]=i,d[j]=204|r,(null!==l||n&&2048&n[j])&&(d[j]|=2048),zS(d),d[pt]=d[Os]=n,d[Ue]=t,d[xr]=s||n&&n[xr],d[Y]=a||n&&n[Y],d[mt]=c||n&&n[mt]||null,d[Ft]=o,d[xs]=function kj(){return Mj++}(),d[tn]=u,d[xS]=l,d[Ke]=2==e.type?n[Ke]:d,d}function Mo(n,e,t,r,i){let o=n.data[e];if(null===o)o=function H_(n,e,t,r,i){const o=YS(),s=Vv(),c=n.data[e]=function _$(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Eo()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function H2(){return Q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ac(){const n=Q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ur(o,!0),o}function qc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function JA(n,e,t,r,i){const o=Lt(),s=2&r;try{wo(-1),s&&e.length>H&&XA(n,e,H,!1),Fr(s?2:0,i),t(r,i)}finally{wo(o),Fr(s?3:1,i)}}function j_(n,e,t){if(Nv(e)){const r=se(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{se(r)}}}function V_(n,e,t){WS()&&(function I$(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;bo(t)&&function O$(n,e,t){const r=nn(e,n),i=eR(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=gh(n,mh(n,i,null,s,r,e,null,n[xr].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||jd(t,e),Wt(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=Io(e,n,a,t);Wt(l,e),null!==s&&N$(0,a-i,l,c,0,s),cr(c)&&(Mn(t.index,e)[Ue]=Io(e,n,a,t))}}(n,e,t,nn(t,e)),!(64&~t.flags)&&oR(n,e,t))}function $_(n,e,t=nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function eR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=z_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function z_(n,e,t,r,i,o,s,a,c,l,u){const d=H+r,h=d+i,f=function h$(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:te);return t}(d,h),p="function"==typeof l?l():l;return f[k]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let tR=()=>null;function nR(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;r??={};let a,c=Fi.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==i){if(!i.hasOwnProperty(o))continue;l=i[o]}0===n?rR(r,t,l,a,c):rR(r,t,l,a)}return r}function rR(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],void 0!==i&&o.push(i)}function wn(n,e,t,r,i,o,s,a){const c=nn(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Y_(n,t,u,r,i),bo(e)&&function C$(n,e){const t=Mn(e,n);16&t[j]||(t[j]|=64)}(t,e.index)):3&e.type&&(r=function b$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function G_(n,e,t,r){if(WS()){const i=null===r?null:{"":-1},o=function D$(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(ES(e,s.selectors,!1))if(r||(r=[]),cr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),q_(n,e,a.length)}else r.unshift(s),q_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&iR(n,e,t,s,i,a),i&&function A$(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new T(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=bc(t.mergedAttrs,t.attrs)}function iR(n,e,t,r,i,o){for(let l=0;l<r.length;l++)t_(jd(t,e),n,r[l].type);!function M$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=qc(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=bc(t.mergedAttrs,u.hostAttrs),k$(n,t,e,c,u),R$(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function y$(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],h=t?t.get(d):null,p=h?h.outputs:null;c=nR(0,d.inputs,u,c,h?h.inputs:null),l=nR(1,d.outputs,u,l,p);const m=null===c||null===s||wv(e)?null:x$(c,u,s);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function oR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function V2(){return Q.lFrame.currentDirectiveIndex}();try{wo(o);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];zv(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&S$(c,l)}}finally{wo(-1),zv(s)}}function S$(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function q_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function R$(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;cr(e)&&(t[""]=n)}}function k$(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=vo(i.type)),s=new Mc(o,cr(i),E);n.blueprint[r]=s,t[r]=s,function w$(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function T$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,qc(n,t,i.hostVars,te),i)}function Hr(n,e,t,r,i,o){const s=nn(n,e);!function K_(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?ee(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Y],s,o,n.value,t,r,i)}function N$(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)ZA(r,t,s[a++],s[a++],s[a++],s[a++])}function x$(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function sR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function aR(n,e){const t=n.contentQueries;if(null!==t){const r=se(null);try{for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=n.data[s];Fd(t[i]),a.contentQueries(2,e[s],s)}}}finally{se(r)}}}function gh(n,e){return n[Ec]?n[NS][ar]=e:n[Ec]=e,n[NS]=e,e}function W_(n,e,t){Fd(0);const r=se(null);try{e(n,t)}finally{se(r)}}function cR(n){return n[ks]??=[]}function lR(n){return n.cleanup??=[]}function vh(n,e){const t=n[mt],r=t?t.get(kn,null):null;r&&r.handleError(e)}function Y_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];ZA(n.data[s],e[s],r,a,c,i)}}function P$(n,e){const t=Mn(e,n),r=t[k];!function F$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[qe];null!==i&&null===t[tn]&&(t[tn]=__(i,t[mt])),Q_(r,t,t[Ue])}function Q_(n,e,t){Kv(e);try{const r=n.viewQuery;null!==r&&W_(1,r,t);const i=n.template;null!==i&&JA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[li]?.finishViewCreation(n),n.staticContentQueries&&aR(n,e),n.staticViewQueries&&W_(2,n.viewQuery,t);const o=n.components;null!==o&&function L$(n,e){for(let t=0;t<e.length;t++)P$(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[j]&=-5,Wv()}}function Ws(n,e,t,r){const i=se(null);try{const o=e.tView,c=mh(n,o,t,4096&n[j]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[yo]=n[e.index];const u=n[li];return null!==u&&(c[li]=u.createEmbeddedView(o)),Q_(o,c,t),c}finally{se(i)}}function ko(n,e){return!e||null===e.firstChild||qd(n)}function Ys(n,e,t,r=!0){const i=e[k];if(function n$(n,e,t,r){const i=at+r,o=t.length;r>0&&(t[i-1][ar]=e),r<o-at?(e[ar]=t[i],pS(t,at+r,e)):(t.push(e),e[ar]=null),e[pt]=t;const s=e[yo];null!==s&&t!==s&&BA(s,e);const a=e[li];null!==a&&a.insertView(n),Uv(e),e[j]|=128}(i,e,n,t),r){const s=B_(t,n),a=e[Y],c=dh(a,n[Pr]);null!==c&&function e$(n,e,t,r,i,o){r[qe]=i,r[Ft]=e,fh(n,r,t,1,i,o)}(i,n[Ft],a,e,c,s)}const o=e[tn];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Kc(n,e,t,r,i=!1){for(;null!==t;){if(128===t.type){t=i?t.projectionNext:t.next;continue}const o=e[t.index];null!==o&&r.push(_e(o)),Kt(o)&&hR(o,r);const s=t.type;if(8&s)Kc(n,e,t.child,r);else if(32&s){const a=k_(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=qA(e,t);if(Array.isArray(a))r.push(...a);else{const c=ui(e[Ke]);Kc(c[k],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function hR(n,e){for(let t=at;t<n.length;t++){const r=n[t],i=r[k].firstChild;null!==i&&Kc(r[k],r,i,e)}n[Pr]!==n[qe]&&e.push(n[Pr])}let fR=[];const j$={...Lg,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{kd(n.lView)},consumerOnSignalRead(){this.lView[qn]=this}},$$={...Lg,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ui(n.lView);for(;e&&!pR(e[k]);)e=ui(e);e&&GS(e)},consumerOnSignalRead(){this.lView[qn]=this}};function pR(n){return 2!==n.type}const z$=100;function _h(n,e=!0,t=0){const r=n[xr],i=r.rendererFactory;i.begin?.();try{!function G$(n,e){const t=ZS();try{JS(!0),Z_(n,e);let r=0;for(;Dc(n);){if(r===z$)throw new T(103,!1);r++,Z_(n,1)}}finally{JS(t)}}(n,t)}catch(s){throw e&&vh(n,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function q$(n,e,t,r){const i=e[j];if(!(256&~i))return;e[xr].inlineEffectRunner?.flush(),Kv(e);let a=!0,c=null,l=null;pR(n)?(l=function B$(n){return n[qn]??function U$(n){const e=fR.pop()??Object.create(j$);return e.lView=n,e}(n)}(e),c=Ug(l)):null===function Fg(){return ot}()?(a=!1,l=function V$(n){const e=n[qn]??Object.create($$);return e.lView=n,e}(e),c=Ug(l)):e[qn]&&(jg(e[qn]),e[qn]=null);try{zS(e),function eD(n){return Q.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&JA(n,e,t,2,r);const u=!(3&~i);if(u){const f=n.preOrderCheckHooks;null!==f&&Bd(e,f,null)}else{const f=n.preOrderHooks;null!==f&&Ud(e,f,0,null),Yv(e,0)}if(function K$(n){for(let e=GD(n);null!==e;e=qD(e)){if(!(e[j]&Rd.HasTransplantedViews))continue;const t=e[Ps];for(let r=0;r<t.length;r++)GS(t[r])}}(e),gR(e,0),null!==n.contentQueries&&aR(n,e),u){const f=n.contentCheckHooks;null!==f&&Bd(e,f)}else{const f=n.contentHooks;null!==f&&Ud(e,f,1),Yv(e,1)}!function d$(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)wo(~i);else{const o=i,s=t[++r],a=t[++r];j2(s,o),a(2,e[o])}}}finally{wo(-1)}}(n,e);const d=n.components;null!==d&&_R(e,d,0);const h=n.viewQuery;if(null!==h&&W_(2,h,r),u){const f=n.viewCheckHooks;null!==f&&Bd(e,f)}else{const f=n.viewHooks;null!==f&&Ud(e,f,2),Yv(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Dd]){for(const f of e[Dd])f();e[Dd]=null}e[j]&=-73}catch(u){throw kd(e),u}finally{null!==l&&(function wI(n,e){if(se(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(hc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ju(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(l,c),a&&function H$(n){n.lView[qn]!==n&&(n.lView=null,fR.push(n))}(l)),Wv()}}function gR(n,e){for(let t=GD(n);null!==t;t=qD(t))for(let r=at;r<t.length;r++)vR(t[r],e)}function W$(n,e,t){vR(Mn(e,n),t)}function vR(n,e){Bv(n)&&Z_(n,e)}function Z_(n,e){const r=n[k],i=n[j],o=n[qn];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!Hg(o)),s||=!1,o&&(o.dirty=!1),n[j]&=-9217,s)q$(r,n,r.template,n[Ue]);else if(8192&i){gR(n,1);const a=r.components;null!==a&&_R(n,a,1)}}function _R(n,e,t){for(let r=0;r<e.length;r++)W$(n,e[r],t)}function Wc(n,e){const t=ZS()?64:1088;for(n[xr].changeDetectionScheduler?.notify(e);n;){n[j]|=t;const r=ui(n);if(Tc(n)&&!r)return n;n=r}return null}class Yc{get rootNodes(){const e=this._lView,t=e[k];return Kc(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ue]}set context(e){this._lView[Ue]=e}get destroyed(){return!(256&~this._lView[j])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[pt];if(Kt(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(zc(e,r),gd(t,r))}this._attachedToViewContainer=!1}uh(this._lView[k],this._lView)}onDestroy(e){Od(this._lView,e)}markForCheck(){Wc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[j]&=-129}reattach(){Uv(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,_h(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Tc(this._lView),t=this._lView[yo];null!==t&&!e&&x_(t,this._lView),LA(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e;const t=Tc(this._lView),r=this._lView[yo];null!==r&&!t&&BA(r,this._lView),Uv(this._lView)}}let Nt=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=X$}return n})();const Y$=Nt,Q$=class extends Y${constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=Ws(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Yc(i)}};function X$(){return yh(Ae(),I())}function yh(n,e){return 4&n.type?new Q$(e,n,Hs(n,e)):null}let UR=()=>null;function No(n,e){return UR(n,e)}class Xs{}const rl=new D("",{providedIn:"root",factory:()=>!1}),HR=new D("");class $z{}class jR{}class Gz{resolveComponentFactory(e){throw function zz(n){const e=Error(`No component factory found for ${Ct(n)}.`);return e.ngComponent=n,e}(e)}}class Zs{static#e=this.NULL=new Gz}class Ih{}let Sh=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function qz(){const n=I(),t=Mn(Ae().index,n);return(Ot(t)?t:n)[Y]}()}return n})(),Kz=(()=>{class n{static#e=this.\u0275prov=O({token:n,providedIn:"root",factory:()=>null})}return n})();const $R=new Set;function on(n){$R.has(n)||($R.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var sn=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(sn||{});const zR={destroy(){}};function Js(n,e){!e&&Id();const t=e?.injector??w(Se);return En(t)?(on("NgAfterNextRender"),qR(n,t,!0,e?.phase??sn.MixedReadWrite)):zR}function qR(n,e,t,r){const i=function Wz(n,e){if(n instanceof Function)switch(e){case sn.EarlyRead:return{earlyRead:n};case sn.Write:return{write:n};case sn.MixedReadWrite:return{mixedReadWrite:n};case sn.Read:return{read:n}}return n}(n,r),o=e.get(Dh),s=o.handler??=new Qz,a=[],c=[],l=()=>{for(const f of c)s.unregister(f);u()},u=e.get(Nc).onDestroy(l);let d=0;const h=(f,p)=>{if(!p)return;const m=t?(...b)=>(d--,d<1&&l(),p(...b)):p,v=Nr(e,()=>new Yz(f,a,m));s.register(v),c.push(v),d++};return h(sn.EarlyRead,i.earlyRead),h(sn.Write,i.write),h(sn.MixedReadWrite,i.mixedReadWrite),h(sn.Read,i.read),{destroy:l}}class Yz{constructor(e,t,r){this.phase=e,this.pipelinedArgs=t,this.callbackFn=r,this.zone=w(z),this.errorHandler=w(kn,{optional:!0}),w(Xs,{optional:!0})?.notify(6)}invoke(){try{const e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}}class Qz{constructor(){this.executingCallbacks=!1,this.buckets={[sn.EarlyRead]:new Set,[sn.Write]:new Set,[sn.MixedReadWrite]:new Set,[sn.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Dh=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})();function Rh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ov(i,a):2==o&&(r=ov(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class YR extends Zs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=le(e);return new sl(t,this.ngModule)}}function QR(n,e){const t=[];for(const r in n){if(!n.hasOwnProperty(r))continue;const i=n[r];if(void 0===i)continue;const o=Array.isArray(i),s=o?i[0]:i;t.push(e?{propName:s,templateName:r,isSignal:!!((o?i[1]:Fi.None)&Fi.SignalBased)}:{propName:s,templateName:r})}return t}class sl extends jR{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=QR(e.inputs,!0);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return QR(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function QH(n){return n.map(YH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){const o=se(null);try{let s=(i=i||this.ngModule)instanceof en?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new To(e,s):e,c=a.get(Ih,null);if(null===c)throw new T(407,!1);const l=a.get(Kz,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(Dh,null),changeDetectionScheduler:a.get(Xs,null)},f=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?function f$(n,e,t,r){const o=r.get(uA,!1)||t===or.ShadowDom,s=n.selectRootElement(e,o);return function p$(n){tR(n)}(s),s}(f,r,this.componentDef.encapsulation,a):lh(f,p,function Jz(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p));let v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let b=null;null!==m&&(b=__(m,a,!0));const y=z_(0,null,null,1,0,null,null,null,null,null,null),R=mh(null,y,null,v,null,null,h,f,a,null,b);let x,K;Kv(R);try{const pe=this.componentDef;let Ie,it=null;pe.findHostDirectiveDefs?(Ie=[],it=new Map,pe.findHostDirectiveDefs(pe,Ie,it),Ie.push(pe)):Ie=[pe];const oi=function tG(n,e){const t=n[k],r=H;return n[r]=e,Mo(t,r,2,"#host",null)}(R,m),lo=function nG(n,e,t,r,i,o,s){const a=i[k];!function rG(n,e,t,r){for(const i of n)e.mergedAttrs=bc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Rh(e,e.mergedAttrs,!0),null!==t&&QA(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=__(e,i[mt]));const l=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=mh(i,eR(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&q_(a,n,r.length-1),gh(i,d),i[n.index]=d}(oi,m,pe,Ie,R,h,f);K=Sc(y,H),m&&function oG(n,e,t,r){if(r)Ev(n,t,["ng-version","18.1.3"]);else{const{attrs:i,classes:o}=function XH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!sr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ev(n,t,i),o&&o.length>0&&YA(n,t,o.join(" "))}}(f,pe,m,r),void 0!==t&&function sG(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(K,this.ngContentSelectors,t),x=function iG(n,e,t,r,i,o){const s=Ae(),a=i[k],c=nn(s,i);iR(a,i,s,t,null,r);for(let u=0;u<t.length;u++)Wt(Io(i,a,s.directiveStart+u,s),i);oR(a,i,s),c&&Wt(c,i);const l=Io(i,a,s.directiveStart+s.componentOffset,s);if(n[Ue]=i[Ue]=l,null!==o)for(const u of o)u(l,e);return j_(a,s,i),l}(lo,pe,Ie,it,R,[aG]),Q_(y,R,null)}finally{Wv()}return new eG(this.componentType,x,Hs(K,R),R,K)}finally{se(o)}}}class eG extends $z{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Yc(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Y_(o[k],o,i,e,t),this.previousInputValues.set(e,t),Wc(Mn(this._tNode.index,o),1)}}get injector(){return new Tt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function aG(){const n=Ae();Ld(I()[k],n)}let Ut=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=cG}return n})();function cG(){return JR(Ae(),I())}const lG=Ut,XR=class extends lG{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Hs(this._hostTNode,this._hostLView)}get injector(){return new Tt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Vd(this._hostTNode,this._hostLView);if(Zv(e)){const t=Oc(e,this._hostLView),r=kc(e);return new Tt(t[k].data[r+8],t)}return new Tt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ZR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=No(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ko(this._hostTNode,s)),a}createComponent(e,t,r,i,o){const s=e&&!function Cc(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const c=s?e:new sl(le(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const m=(s?l:this.parentInjector).get(en,null);m&&(o=m)}const u=le(c.componentType??{}),d=No(this._lContainer,u?.id??null),f=c.create(l,i,d?.firstChild??null,o);return this.insertImpl(f.hostView,a,ko(this._hostTNode,d)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function k2(n){return Kt(n[pt])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=i[pt],l=new XR(c,c[Ft],c[pt]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Ys(s,i,o,r),e.attachToViewContainerRef(),pS(hy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ZR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=zc(this._lContainer,t);r&&(gd(hy(this._lContainer),t),uh(r[k],r))}detach(e){const t=this._adjustIndex(e,-1),r=zc(this._lContainer,t);return r&&null!=gd(hy(this._lContainer),t)?new Yc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ZR(n){return n[8]}function hy(n){return n[8]||(n[8]=[])}function JR(n,e){let t;const r=e[n.index];return Kt(r)?t=r:(t=sR(r,e,null,n),e[n.index]=t,gh(e,t)),eM(t,e,n,r),new XR(t,n,e)}let eM=function nM(n,e,t,r){if(n[Pr])return;let i;i=8&t.type?_e(r):function uG(n,e){const t=n[Y],r=t.createComment(""),i=nn(e,n);return Ao(t,dh(t,i),r,function s$(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Pr]=i},fy=()=>!1;class py{constructor(e){this.queryList=e,this.matches=null}clone(){return new py(this.queryList)}setDirty(){this.queryList.setDirty()}}class my{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new my(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==by(e,t).matches&&this.queries[t].setDirty()}}class rM{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function _G(n){return n.split(",").map(e=>e.trim())}(e):e}}class gy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new gy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class vy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new vy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,pG(t,o)),this.matchTNodeWithReadOption(e,t,$d(t,e,o,!1,!1))}else r===Nt?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$d(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Re||i===Ut||i===Nt&&4&t.type)this.addMatch(t.index,-2);else{const o=$d(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function pG(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function gG(n,e,t,r){return-1===t?function mG(n,e){return 11&n.type?Hs(n,e):4&n.type?yh(n,e):null}(e,n):-2===t?function vG(n,e,t){return t===Re?Hs(e,n):t===Nt?yh(e,n):t===Ut?JR(e,n):void 0}(n,e,r):Io(n,n[k],t,e)}function iM(n,e,t,r){const i=e[li].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:gG(e,o[l],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function _y(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=iM(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=at;d<u.length;d++){const h=u[d];h[yo]===h[pt]&&_y(h[k],h,l,r)}if(null!==u[Ps]){const d=u[Ps];for(let h=0;h<d.length;h++){const f=d[h];_y(f[k],f,l,r)}}}}}return r}function oM(n,e,t){const r=new xc(!(4&~t));return function v$(n,e,t,r){const i=cR(e);i.push(t),n.firstCreatePass&&lR(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[li]??=new my).queries.push(new py(r))-1}function cM(n,e,t){null===n.queries&&(n.queries=new gy),n.queries.track(new vy(e,t))}function by(n,e){return n.queries.getByIndex(e)}function lM(n,e){const t=n[k],r=by(t,e);return r.crossesNgTemplate?_y(t,n,e,[]):iM(t,n,r,e)}function Ce(n){let e=function EM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(cr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Oh(n.inputs),s.inputTransforms=Oh(n.inputTransforms),s.declaredInputs=Oh(n.declaredInputs),s.outputs=Oh(n.outputs);const a=i.hostBindings;a&&xG(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&OG(n,c),l&&NG(n,l),MG(n,i),gH(n.outputs,i.outputs),cr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ce&&(t=!1)}}e=Object.getPrototypeOf(e)}!function kG(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bc(i.hostAttrs,t=bc(t,i.hostAttrs))}}(r)}function MG(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Oh(n){return n===Or?{}:n===ve?[]:n}function OG(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function NG(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function xG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function jr(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}class xo{}class DM{}class Ey extends xo{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YR(this);const i=qt(e);this._bootstrapComponents=Nn(i.bootstrap),this._r3Injector=DD(e,t,[{provide:xo,useValue:this},{provide:Zs,useValue:this.componentFactoryResolver},...r],Ct(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class wy extends DM{constructor(e){super(),this.moduleType=e}create(e){return new Ey(this.moduleType,e,[])}}class AM extends xo{constructor(e){super(),this.componentFactoryResolver=new YR(this),this.instance=null;const t=new As([...e.providers,{provide:xo,useValue:this},{provide:Zs,useValue:this.componentFactoryResolver}],e.parent||Td(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Nh(n,e,t=null){return new AM({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function xh(n){return!!function Ty(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function lt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ll(n,e,t,r,i,o,s,a,c,l){const u=t+H,d=e.firstCreatePass?function GG(n,e,t,r,i,o,s,a,c){const l=e.consts,u=Mo(e,n,4,s||null,a||null);G_(e,t,u,Kn(l,c)),Ld(e,u);const d=u.tView=z_(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,e,n,r,i,o,s,a,c):e.data[u];ur(d,!1);const h=RM(e,n,d,t);Rc()&&hh(e,n,h,d),Wt(h,n);const f=sR(h,n,h,d);return n[u]=f,gh(n,f),function tM(n,e,t){return fy(n,e,t)}(f,d,n),Md(d)&&V_(e,n,d),null!=c&&$_(n,d,l),d}function Ht(n,e,t,r,i,o,s,a){const c=I(),l=ae();return ll(c,l,n,e,t,r,i,Kn(l.consts,o),s,a),Ht}let RM=function MM(n,e,t,r){return Lr(!0),e[Y].createComment("")};function Gi(n,e,t,r){const i=I();return lt(i,dr(),e)&&(ae(),Hr(He(),i,n,e,t,r)),Gi}function jh(n,e){return n<<17|e<<2}function qi(n){return n>>17&32767}function Py(n){return 2|n}function Lo(n){return(131068&n)>>2}function Fy(n,e){return-131069&n|e<<2}function Ly(n){return 1|n}function ak(n,e,t,r){const i=n[t+1],o=null===e;let s=r?qi(i):Lo(i),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];Mq(n[s],e)&&(a=!0,n[s+1]=r?Ly(l):Py(l)),s=r?qi(l):Lo(l)}a&&(n[t+1]=r?Py(i):Ly(i))}function Mq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ds(n,e)>=0}const St={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ck(n){return n.substring(St.key,St.keyEnd)}function lk(n,e){const t=St.textEnd;return t===e?-1:(e=St.keyEnd=function xq(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,St.key=e,t),va(n,e,t))}function va(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Pn(n,e,t){const r=I();return lt(r,dr(),e)&&wn(ae(),He(),r,n,e,r[Y],t,!1),Pn}function By(n,e,t,r,i){const s=i?"class":"style";Y_(n,t,e.inputs[s],s,r)}function Tn(n,e){return function hr(n,e,t,r){const i=I(),o=ae(),s=hi(2);o.firstUpdatePass&&mk(o,n,s,r),e!==te&&lt(i,s,e)&&vk(o,o.data[Lt()],i,i[Y],n,i[s+1]=function Gq(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ct(On(n)))),n}(e,t),r,s)}(n,e,null,!0),Tn}function Vh(n){!function fr(n,e,t,r){const i=ae(),o=hi(2);i.firstUpdatePass&&mk(i,null,o,r);const s=I();if(t!==te&&lt(s,o,t)){const a=i.data[Lt()];if(yk(a,r)&&!pk(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=ov(c,t||"")),By(i,a,s,t,r)}else!function zq(n,e,t,r,i,o,s,a){i===te&&(i=ve);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let m,p=null;u===d?(c+=2,l+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(c+=2,p=u):(l+=2,p=d,m=f),null!==p&&vk(n,e,t,r,p,m,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}(i,a,s,s[Y],s[o+1],s[o+1]=function Vq(n,e,t){if(null==t||""===t)return ve;const r=[],i=On(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}($q,zr,n,!0)}function zr(n,e){for(let t=function Oq(n){return function dk(n){St.key=0,St.keyEnd=0,St.value=0,St.valueEnd=0,St.textEnd=n.length}(n),lk(n,va(n,0,St.textEnd))}(e);t>=0;t=lk(e,t))Rn(n,ck(e),!0)}function pk(n,e){return e>=n.expandoStartIndex}function mk(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Lt()],s=pk(n,t);yk(o,r)&&null===e&&!s&&(e=!1),e=function Bq(n,e,t,r){const i=function Gv(n){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fl(t=Uy(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Uy(i,n,e,t,r),null===o){let c=function Uq(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Lo(r))return n[qi(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Uy(null,n,e,c[1],r),c=fl(c,e.attrs,r),function Hq(n,e,t,r){n[qi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function jq(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=fl(r,n[o].hostAttrs,t);return fl(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function Aq(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=qi(s),c=Lo(s);n[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Ds(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const h=qi(n[a+1]);n[r+1]=jh(h,a),0!==h&&(n[h+1]=Fy(n[h+1],r)),n[a+1]=function Sq(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=jh(a,0),0!==a&&(n[a+1]=Fy(n[a+1],r)),a=r;else n[r+1]=jh(c,0),0===a?a=r:n[c+1]=Fy(n[c+1],r),c=r;l&&(n[r+1]=Py(n[r+1])),ak(n,u,r,!0),ak(n,u,r,!1),function Rq(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ds(o,e)>=0&&(t[r+1]=Ly(t[r+1]))}(e,u,n,r,o),s=jh(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function Uy(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=fl(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Rn(n,s,!!t||e[++o]))}return void 0===n?null:n}function $q(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Rn(n,r,t)}function vk(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function Dq(n){return!(1&~n)}(l)?_k(c,e,t,i,Lo(l),s):void 0;$h(u)||($h(o)||function Iq(n){return!(2&~n)}(l)&&(o=_k(c,null,t,i,a,s)),function l$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:ji.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ji.Important),n.setStyle(t,r,i,o))}}(r,s,Ic(Lt(),t),i,o))}function _k(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[i+1];h===te&&(h=d?ve:void 0);let f=d?bv(h,r):u===r?h:void 0;if(l&&!$h(f)&&(f=bv(c,r)),$h(f)&&(a=f,s))return a;const p=n[i+1];i=s?qi(p):Lo(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=bv(c,r))}return a}function $h(n){return void 0!==n}function yk(n,e){return!!(n.flags&(e?8:16))}function pl(n,e){on("NgControlFlow");const t=I(),r=dr(),i=t[r]!==te?t[r]:-1,o=-1!==i?zh(t,H+i):void 0;if(lt(t,r,n)){const a=se(null);try{if(void 0!==o&&function X_(n,e){const t=zc(n,e);return void 0!==t&&uh(t[k],t),t}(o,0),-1!==n){const c=H+n,l=zh(t,c),u=function Vy(n,e){return Sc(n,e)}(t[k],c),d=No(l,u.tView.ssrId);Ys(l,Ws(t,u,e,{dehydratedView:d}),0,ko(u,d))}}finally{se(a)}}else if(void 0!==o){const a=function dR(n,e){const t=at+e;if(t<n.length)return n[t]}(o,0);void 0!==a&&(a[Ue]=e)}}function zh(n,e){return n[e]}function ue(n,e,t,r){const i=I(),o=ae(),s=H+n,a=i[Y],c=o.firstCreatePass?function fK(n,e,t,r,i,o){const s=e.consts,c=Mo(e,n,2,r,Kn(s,i));return G_(e,t,c,Kn(s,o)),null!==c.attrs&&Rh(c,c.attrs,!1),null!==c.mergedAttrs&&Rh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],l=wk(o,i,c,a,e,n);i[s]=l;const u=Md(c);return ur(c,!0),QA(a,l,c),!function ta(n){return!(32&~n.flags)}(c)&&Rc()&&hh(o,i,l,c),0===function O2(){return Q.lFrame.elementDepthCount}()&&Wt(l,i),function N2(){Q.lFrame.elementDepthCount++}(),u&&(V_(o,i,c),j_(o,c,i)),null!==r&&$_(i,c),ue}function he(){let n=Ae();Vv()?$v():(n=n.parent,ur(n,!1));const e=n;(function P2(n){return Q.skipHydrationRootTNode===n})(e)&&function U2(){Q.skipHydrationRootTNode=null}(),function x2(){Q.lFrame.elementDepthCount--}();const t=ae();return t.firstCreatePass&&(Ld(t,n),Nv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Z2(n){return!!(8&n.flags)}(e)&&By(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function J2(n){return!!(16&n.flags)}(e)&&By(t,e,I(),e.stylesWithoutHost,!1),he}function Fn(n,e,t,r){return ue(n,e,t,r),he(),Fn}let wk=(n,e,t,r,i,o)=>(Lr(!0),lh(r,i,function aD(){return Q.lFrame.currentNamespace}()));function Bo(n,e,t){const r=I(),i=ae(),o=n+H,s=i.firstCreatePass?function gK(n,e,t,r,i){const o=e.consts,s=Kn(o,r),a=Mo(e,n,8,"ng-container",s);return null!==s&&Rh(a,s,!0),G_(e,t,a,Kn(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];ur(s,!0);const a=Tk(i,r,s,n);return r[o]=a,Rc()&&hh(i,r,a,s),Wt(a,r),Md(s)&&(V_(i,r,s),j_(i,s,r)),null!=t&&$_(r,s),Bo}function Uo(){let n=Ae();const e=ae();return Vv()?$v():(n=n.parent,ur(n,!1)),e.firstCreatePass&&(Ld(e,n),Nv(n)&&e.queries.elementEnd(n)),Uo}function Yt(n,e,t){return Bo(n,e,t),Uo(),Yt}let Tk=(n,e,t,r)=>(Lr(!0),N_(e[Y],""));function Gh(){return I()}function qh(n,e,t){const r=I();return lt(r,dr(),e)&&wn(ae(),He(),r,n,e,r[Y],t,!0),qh}const ba="en-US";let Ak=ba;let Kk=(n,e,t)=>{};function jo(n,e,t,r){const i=I(),o=ae(),s=Ae();return function Gy(n,e,t,r,i,o,s){const a=Md(r),l=n.firstCreatePass&&lR(n),u=e[Ue],d=cR(e);let h=!0;if(3&r.type||s){const m=nn(r,e),v=s?s(m):m,b=d.length,y=s?x=>s(_e(x[r.index])):r.index;let R=null;if(!s&&a&&(R=function c8(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[ks],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,h=!1;else{o=Xk(r,e,u,o),Kk(m,i,o);const x=t.listen(v,i,o);d.push(o,x),l&&l.push(i,y,b,b+1)}}else o=Xk(r,e,u,o);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let v=0;v<m;v+=2){const K=e[p[v]][p[v+1]].subscribe(o),pe=d.length;d.push(o,K),l&&l.push(i,r.index,pe,-(pe+1))}}}(o,i,i[Y],s,n,e,r),jo}function Qk(n,e,t,r){const i=se(null);try{return Fr(6,e,t),!1!==t(r)}catch(o){return vh(n,o),!1}finally{Fr(7,e,t),se(i)}}function Xk(n,e,t,r){return function i(o){if(o===Function)return r;Wc(n.componentOffset>-1?Mn(n.index,e):e,5);let a=Qk(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Qk(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Gr(n=1){return function z2(n){return(Q.lFrame.contextLView=function qS(n,e){for(;n>0;)e=e[Os],n--;return e}(n,Q.lFrame.contextLView))[Ue]}(n)}function l8(n,e){let t=null;const r=function GH(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ES(n,o,!0):WH(r,o))return i}else t=i}return t}function gi(n){const e=I()[Ke][Ft];if(!e.projection){const r=e.projection=function vd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){if(128!==o.type){const s=n?l8(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function nt(n,e=0,t,r,i,o){const s=I(),a=ae(),c=r?n+1:null;null!==c&&ll(s,a,c,r,i,o,null,t);const l=Mo(a,H+n,16,null,t||null);null===l.projection&&(l.projection=e),$v();const d=!s[tn]||Eo();null===s[Ke][Ft].projection[l.projection]&&null!==c?function u8(n,e,t){const r=H+t,i=e.data[r],o=n[r],s=No(o,i.tView.ssrId);Ys(o,Ws(n,i,void 0,{dehydratedView:s}),0,ko(i,s))}(s,a,c):d&&32&~l.flags&&function a$(n,e,t){WA(e[Y],0,e,t,F_(n,t,e),VA(t.parent||e[Ft],t,e))}(a,s,l)}function pr(n,e,t,r){!function aM(n,e,t,r){const i=ae();if(i.firstCreatePass){const o=Ae();cM(i,new rM(e,t,r),o.index),function yG(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),!(2&~t)&&(i.staticContentQueries=!0)}return oM(i,I(),t)}(n,e,t,r)}function bl(n,e,t){!function sM(n,e,t){const r=ae();return r.firstCreatePass&&(cM(r,new rM(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),oM(r,I(),e)}(n,e,t)}function cn(n){const e=I(),t=ae(),r=qv();Fd(r+1);const i=by(t,r);if(n.dirty&&function M2(n){return!(4&~n[j])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const o=lM(e,r);n.reset(o,PD),n.notifyOnChanges()}return!0}return!1}function ln(){return function yy(n,e){return n[li].queries[e].queryList}(I(),qv())}function We(n,e=""){const t=I(),r=ae(),i=n+H,o=r.firstCreatePass?Mo(r,i,1,e,null):r.data[i],s=v0(r,t,o,e,n);t[i]=s,Rc()&&hh(r,t,s,o),ur(o,!1)}let v0=(n,e,t,r,i)=>(Lr(!0),function O_(n,e){return n.createText(e)}(e[Y],r));function mr(n,e,t){const r=I(),i=function la(n,e,t,r){return lt(n,dr(),t)?e+ee(t)+r:te}(r,n,e,t);return i!==te&&function mi(n,e,t){const r=Ic(e,n);!function FA(n,e,t){n.setValue(e,t)}(n[Y],r,t)}(r,Lt(),i),mr}function Wy(n,e,t,r,i){if(n=q(n),Array.isArray(n))for(let o=0;o<n.length;o++)Wy(n[o],e,t,r,i);else{const o=ae(),s=I(),a=Ae();let c=_o(n)?n:q(n.provide);const l=MS(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(_o(n)||!n.multi){const f=new Mc(l,i,E),p=Qy(c,e,i?u:u+h,d);-1===p?(t_(jd(a,s),o,c),Yy(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=Qy(c,e,u+h,d),p=Qy(c,e,u,u+h),v=p>=0&&t[p];if(i&&!v||!i&&!(f>=0&&t[f])){t_(jd(a,s),o,c);const b=function O8(n,e,t,r,i){const o=new Mc(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,k0(o,i,r&&!t),o}(i?k8:M8,t.length,i,r,l);!i&&v&&(t[p].providerFactory=b),Yy(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(b),s.push(b)}else Yy(o,n,f>-1?f:p,k0(t[i?p:f],l,!i&&r));!i&&r&&v&&t[p].componentProviders++}}}function Yy(n,e,t,r){const i=_o(e),o=function o2(n){return!!n.useClass}(e);if(i||o){const c=(o?q(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function k0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Qy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function M8(n,e,t,r){return Xy(this.multi,[])}function k8(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Io(t,t[k],this.providerFactory.index,r);o=a.slice(0,s),Xy(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Xy(i,o);return o}function Xy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function jt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function R8(n,e,t){const r=ae();if(r.firstCreatePass){const i=cr(n);Wy(t,r.data,r.blueprint,i,!0),Wy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let N8=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Tv(0,t.type),i=r.length>0?Nh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=O({token:n,providedIn:"environment",factory:()=>new n(C(en))})}return n})();function gt(n){on("NgStandalone"),n.getStandaloneInjector=e=>e.get(N8).getOrCreateStandaloneInjector(n)}function x0(n,e,t){const r=function rn(){const n=Q.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=I();return i[r]===te?function Vr(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function cl(n,e){return n[e]}(i,r)}let tO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const sO=new D(""),ef=new D("");let ob,rb=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ob||(function K3(n){ob=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{z.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(C(z),C(ib),C(ef))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),ib=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return ob?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function tf(n){return!!n&&"function"==typeof n.then}function aO(n){return!!n&&"function"==typeof n.subscribe}const nf=new D("");let sb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=w(nf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(tf(o))t.push(o);else if(aO(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rf=new D("");function uO(n,e){return Array.isArray(e)?e.reduce(uO,n):{...n,...e}}let Yn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(Sj),this.afterRenderEffectManager=w(Dh),this.zonelessEnabled=w(rl),this.externalTestViews=new Set,this.beforeRender=new re,this.afterTick=new re,this.componentTypes=[],this.components=[],this.isStable=w(So).hasPendingTasks.pipe(Z(t=>!t)),this._injector=w(en)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof jR;if(!this._injector.get(sb).done)throw!i&&function Li(n){const e=le(n)||Et(n)||Pt(n);return null!==e&&e.standalone}(t),new T(405,!1);let s;s=i?t:this._injector.get(Zs).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function W3(n){return n.isBoundToModule}(s)?void 0:this._injector.get(xo),l=s.create(Se.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(sO,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),sf(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new T(101,!1);const r=se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,se(r),this.afterTick.next()}}detectChangesInAttachedViews(t){let r=null;this._injector.destroyed||(r=this._injector.get(Ih,null,{optional:!0}));let i=0;const o=this.afterRenderEffectManager;for(;i<10;){const s=0===i;if(t||!s){this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)Q3(a,c,s,this.zonelessEnabled)}else r?.begin?.(),r?.end?.();if(i++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:a})=>Dc(a))&&(o.execute(),!this.allViews.some(({_lView:a})=>Dc(a))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;sf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(rf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Q3(n,e,t,r){(t||Dc(n))&&_h(n,e,t&&!r?0:1)}class X3{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let hO=(()=>{class n{compileModuleSync(t){return new wy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Nn(qt(t).declarations).reduce((s,a)=>{const c=le(a);return c&&s.push(new sl(c)),s},[]);return new X3(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e4=(()=>{class n{constructor(){this.zone=w(z),this.changeDetectionScheduler=w(Xs),this.applicationRef=w(Yn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ab({ngZoneFactory:n,ignoreChangesOutsideZone:e}){return n??=()=>new z(cb()),[{provide:z,useFactory:n},{provide:ir,multi:!0,useFactory:()=>{const t=w(e4,{optional:!0});return()=>t.initialize()}},{provide:ir,multi:!0,useFactory:()=>{const t=w(n4);return()=>{t.initialize()}}},!0===e?{provide:HR,useValue:!0}:[]]}function cb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let n4=(()=>{class n{constructor(){this.subscription=new ht,this.initialized=!1,this.zone=w(z),this.pendingTasks=w(So)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{z.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{z.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Il=(()=>{class n{constructor(){this.appRef=w(Yn),this.taskService=w(So),this.ngZone=w(z),this.zonelessEnabled=w(rl),this.disableScheduling=w(HR,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ht,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof a_||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;switch(t){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?MD:RD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&z.isInAngularZone())}tick(t){if(this.runningTick||this.appRef.destroyed)return;const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(t)},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qr=new D("",{providedIn:"root",factory:()=>w(qr,de.Optional|de.SkipSelf)||function r4(){return typeof $localize<"u"&&$localize.locale||ba}()}),ub=new D("");let gO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Ij(n="zone.js",e){return"noop"===n?new a_:"zone.js"===n?new z(e):n}(r?.ngZone,cb({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=r?.ignoreChangesOutsideZone,s=function HG(n,e,t){return new Ey(n,e,t)}(t.moduleType,this.injector,[...ab({ngZoneFactory:()=>i,ignoreChangesOutsideZone:o}),{provide:Xs,useExisting:Il}]),a=s.injector.get(kn,null);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{sf(this._modules,s),c.unsubscribe()})}),function lO(n,e,t){try{const r=t();return tf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(a,i,()=>{const c=s.injector.get(sb);return c.runInitializers(),c.donePromise.then(()=>(function Rk(n){"string"==typeof n&&(Ak=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(qr,ba)||ba),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=uO({},r);return function J3(n,e,t){const r=new wy(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Yn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new T(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(ub,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(C(Se))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ki=null;const vO=new D("");function _O(n,e,t=[]){const r=`Platform: ${e}`,i=new D(r);return(o=[])=>{let s=db();if(!s||s.injector.get(vO,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function a4(n){if(Ki&&!Ki.get(vO,!1))throw new T(400,!1);(function cO(){!function XB(n){DI=n}(()=>{throw new T(600,!1)})})(),Ki=n;const e=n.get(gO);(function bO(n){n.get(tA,null)?.forEach(t=>t())})(n)}(function yO(n=[],e){return Se.create({name:e,providers:[{provide:Dv,useValue:"platform"},{provide:ub,useValue:new Set([()=>Ki=null])},...n]})}(a,r))}return function c4(n){const e=db();if(!e)throw new T(401,!1);return e}()}}function db(){return Ki?.get(gO)??null}let Ta=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=u4}return n})();function u4(n){return function d4(n,e,t){if(bo(n)&&!t){const r=Mn(n.index,e);return new Yc(r,r)}return 175&n.type?new Yc(e[Ke],e):null}(Ae(),I(),!(16&~n))}class IO{constructor(){}supports(e){return xh(e)}create(e){return new g4(e)}}const m4=(n,e)=>e;class g4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||m4}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<DO(r,i,o)?t:r,a=DO(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!xh(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function $G(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new v4(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new SO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class v4{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class SO{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new _4,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DO(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function RO(){return new Wi([new IO])}let Wi=(()=>{class n{static#e=this.\u0275prov=O({token:n,providedIn:"root",factory:RO});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||RO()),deps:[[n,new yc,new go]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new T(901,!1)}}return n})();const w4=_O(null,"core",[]);let T4=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(C(Yn))};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({})}return n})();const KO=new D("");function dn(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let iN=null;function Ia(){return iN}class fW{}const ce=new D("");let bb=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:()=>w(mW),providedIn:"platform"})}return n})();const pW=new D("");let mW=(()=>{class n extends bb{constructor(){super(),this._doc=w(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ia().getBaseHref(this._doc)}onPopState(t){const r=Ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Cb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function oN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function vi(n){return n&&"?"!==n[0]?"?"+n:n}let $o=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:()=>w(aN),providedIn:"root"})}return n})();const sN=new D("");let aN=(()=>{class n extends $o{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??w(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+vi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+vi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(bb),C(sN,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gW=(()=>{class n extends $o{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Cb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(bb),C(sN,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Kr=(()=>{class n{constructor(t){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function yW(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(oN(cN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vi(r))}normalize(t){return n.stripTrailingSlash(function _W(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,cN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=vi;static#t=this.joinWithSlash=Cb;static#n=this.stripTrailingSlash=oN;static#r=this.\u0275fac=function(r){return new(r||n)(C($o))};static#i=this.\u0275prov=O({token:n,factory:()=>function vW(){return new Kr(C($o))}(),providedIn:"root"})}return n})();function cN(n){return n.replace(/\/index.html$/,"")}let Ob=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ut),E(Nt))};static#t=this.\u0275dir=F({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class cY{constructor(){this.$implicit=null,this.ngIf=null}}function bN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ct(e)}'.`)}let Af=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({})}return n})();const wN="browser";function TN(n){return n===wN}function IN(n){return"server"===n}let xY=(()=>{class n{static#e=this.\u0275prov=O({token:n,providedIn:"root",factory:()=>TN(w(Hi))?new PY(w(ce),window):new LY})}return n})();class PY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function FY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class LY{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class f5 extends fW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hb extends f5{static makeCurrent(){!function hW(n){iN??=n}(new Hb)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function p5(){return Ol=Ol||document.querySelector("base"),Ol?Ol.getAttribute("href"):null}();return null==t?null:function m5(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function rY(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Ol=null,v5=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();const Of=new D("");let PN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(C(Of),C(z))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();class jb{constructor(e){this._doc=e}}const Vb="ng-app-id";let FN=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=IN(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Vb}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Vb),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Vb,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce),C(Vs),C(d_,8),C(Hi))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();const $b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zb=/%COMP%/g,C5=new D("",{providedIn:"root",factory:()=>!0});function BN(n,e){return e.map(t=>t.replace(zb,n))}let Gb=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=IN(a),this.defaultRenderer=new qb(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===or.ShadowDom&&(r={...r,encapsulation:or.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof HN?i.applyToHost(t):i instanceof Kb&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case or.Emulated:o=new HN(c,l,r,this.appId,u,s,a,d);break;case or.ShadowDom:return new I5(c,l,t,r,s,a,this.nonce,d);default:o=new Kb(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(C(PN),C(FN),C(Vs),C(C5),C(ce),C(Hi),C(z),C(d_))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();class qb{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($b[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(UN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(UN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=$b[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=$b[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ji.DashCase|ji.Important)?e.style.setProperty(t,r,i&ji.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ji.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ia().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function UN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class I5 extends qb{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=BN(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kb extends qb{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?BN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class HN extends Kb{constructor(e,t,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=function E5(n){return"_ngcontent-%COMP%".replace(zb,n)}(l),this.hostAttr=function w5(n){return"_nghost-%COMP%".replace(zb,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let S5=(()=>{class n extends jb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),D5=(()=>{class n extends jb{constructor(t){super(t),this.delegate=w(KO,{optional:!0})}supports(t){return!!this.delegate&&this.delegate.supports(t)}addEventListener(t,r,i){return this.delegate.addEventListener(t,r,i)}removeEventListener(t,r,i){return this.delegate.removeEventListener(t,r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();const jN=["alt","control","meta","shift"],A5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let M5=(()=>{class n extends jb{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ia().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jN.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=A5[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jN.forEach(s=>{s!==i&&(0,R5[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();const x5=_O(w4,"browser",[{provide:Hi,useValue:wN},{provide:tA,useValue:function k5(){Hb.makeCurrent()},multi:!0},{provide:ce,useFactory:function N5(){return function Yj(n){u_=n}(document),document},deps:[]}]),P5=new D(""),zN=[{provide:ef,useClass:class g5{addToWindow(e){ze.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),ze.getAllAngularRootElements=()=>e.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ia().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:sO,useClass:rb,deps:[z,ib,ef]},{provide:rb,useClass:rb,deps:[z,ib,ef]}],GN=[{provide:Dv,useValue:"root"},{provide:kn,useFactory:function O5(){return new kn},deps:[]},{provide:Of,useClass:S5,multi:!0,deps:[ce,z,Hi]},{provide:Of,useClass:M5,multi:!0,deps:[ce]},{provide:Of,useClass:D5,multi:!0},Gb,FN,PN,{provide:Ih,useExisting:Gb},{provide:class BY{},useClass:v5,deps:[]},[]];let qN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Vs,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(C(P5,12))};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({providers:[...GN,...zN],imports:[Af,T4]})}return n})(),F5=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YN(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){YN(o,r,i,s,a,"next",c)}function a(c){YN(o,r,i,s,a,"throw",c)}s(void 0)})}}function QN(n){return n&&be(n.schedule)}function Yb(n){return n[n.length-1]}function Nl(n){return QN(Yb(n))?n.pop():void 0}function Yi(n){return this instanceof Yi?(this.v=n,this):new Yi(n)}function tx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Jb(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const eC=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nx(n){return be(n?.then)}function rx(n){return be(n[Qg])}function ix(n){return Symbol.asyncIterator&&be(n?.[Symbol.asyncIterator])}function ox(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sx=function l6(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ax(n){return be(n?.[sx])}function cx(n){return function ex(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},a("next"),a("throw"),a("return",function s(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(v,b){o.push([f,m,v,b])>1||c(f,m)})},p&&(i[f]=p(i[f])))}function c(f,p){try{!function l(f){f.value instanceof Yi?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}(r[f](p))}catch(m){h(o[0][3],m)}}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Yi(t.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{t.releaseLock()}})}function lx(n){return be(n?.getReader)}function fn(n){if(n instanceof Xe)return n;if(null!=n){if(rx(n))return function u6(n){return new Xe(e=>{const t=n[Qg]();if(be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(eC(n))return function d6(n){return new Xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(nx(n))return function h6(n){return new Xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,OI)})}(n);if(ix(n))return ux(n);if(ax(n))return function f6(n){return new Xe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(lx(n))return function p6(n){return ux(cx(n))}(n)}throw ox(n)}function ux(n){return new Xe(e=>{(function m6(n,e){var t,r,i,o;return function ZN(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=tx(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function bi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function dx(n,e=0){return st((t,r)=>{t.subscribe(Ze(r,i=>bi(r,n,()=>r.next(i),e),()=>bi(r,n,()=>r.complete(),e),i=>bi(r,n,()=>r.error(i),e)))})}function hx(n,e=0){return st((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function fx(n,e){if(!n)throw new Error("Iterable cannot be null");return new Xe(t=>{bi(t,e,()=>{const r=n[Symbol.asyncIterator]();bi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Me(n,e){return e?function C6(n,e){if(null!=n){if(rx(n))return function g6(n,e){return fn(n).pipe(hx(e),dx(e))}(n,e);if(eC(n))return function _6(n,e){return new Xe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(nx(n))return function v6(n,e){return fn(n).pipe(hx(e),dx(e))}(n,e);if(ix(n))return fx(n,e);if(ax(n))return function y6(n,e){return new Xe(t=>{let r;return bi(t,e,()=>{r=n[sx](),bi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}(n,e);if(lx(n))return function b6(n,e){return fx(cx(n),e)}(n,e)}throw ox(n)}(n,e):fn(n)}function P(...n){return Me(n,Nl(n))}function Vt(n,e,t=1/0){return be(e)?Vt((r,i)=>Z((o,s)=>e(r,o,i,s))(fn(n(r,i))),t):("number"==typeof e&&(t=e),st((r,i)=>function E6(n,e,t,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=m=>l<r?p(m):c.push(m),p=m=>{o&&e.next(m),l++;let v=!1;fn(t(m,u++)).subscribe(Ze(e,b=>{i?.(b),o?f(b):e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){const b=c.shift();s?bi(e,s,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(Ze(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Qi(n,e){return be(e)?Vt(n,e,1):Vt(n,1)}function Ye(n,e){return st((t,r)=>{let i=0;t.subscribe(Ze(r,o=>n.call(e,o,i++)&&r.next(o)))})}const bx=new D("");let lC;try{lC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lC=!1}let Fl,qo,uC,$t=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?TN(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(C(Hi))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ll(n){return function eQ(){if(null==Fl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fl=!0}))}finally{Fl=Fl||!1}return Fl}()?n:!!n.capture}function Px(){if(null==qo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qo=!1,qo;if("scrollBehavior"in document.documentElement.style)qo=!0;else{const n=Element.prototype.scrollTo;qo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return qo}function dC(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ei(n){return n.composedPath?n.composedPath()[0]:n.target}function hC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function fC(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function At(n,e,t){const r=be(n)||e||t?{next:n,error:e,complete:t}:n;return r?st((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ze(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Oi}class CQ extends ht{constructor(e,t){super()}schedule(e,t=0){return this}}const Bf={setInterval(n,e,...t){const{delegate:r}=Bf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Bf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class pC extends CQ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Bf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Bf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,nd(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const mC={now:()=>(mC.delegate||Date).now(),delegate:void 0};class Ul{constructor(e,t=Ul.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Ul.now=mC.now;class gC extends Ul{constructor(e,t=Ul.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const vC=new gC(pC),EQ=vC;function Bx(n){return Ye((e,t)=>n<=t)}function TQ(n,e){return n===e}function _r(n){return st((e,t)=>{fn(n).subscribe(Ze(t,()=>t.complete(),Gg)),!t.closed&&e.subscribe(t)})}let IQ=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({providers:[IQ]})}return n})();function Ux(n,e=0){return function Hx(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):2===arguments.length?e:0}function Uf(n){return Array.isArray(n)?n:[n]}function yt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ra(n){return n instanceof Re?n.nativeElement:n}const{isArray:DQ}=Array,{getPrototypeOf:AQ,prototype:RQ,keys:MQ}=Object;const{isArray:OQ}=Array;function _C(n){return Z(e=>function NQ(n,e){return OQ(e)?n(...e):n(e)}(n,e))}function Ko(...n){const e=Nl(n),t=function XN(n){return be(Yb(n))?n.pop():void 0}(n),{args:r,keys:i}=function jx(n){if(1===n.length){const e=n[0];if(DQ(e))return{args:e,keys:null};if(function kQ(n){return n&&"object"==typeof n&&AQ(n)===RQ}(e)){const t=MQ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return Me([],e);const o=new Xe(function xQ(n,e,t=Oi){return r=>{$x(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)$x(e,()=>{const l=Me(n[c],e);let u=!1;l.subscribe(Ze(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function Vx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,s):Oi));return t?o.pipe(_C(t)):o}function $x(n,e,t){n?bi(t,n,e):e()}function Ma(n=1/0){return Vt(Oi,n)}function Hf(...n){return function PQ(){return Ma(1)}()(Me(n,Nl(n)))}const Zn=new Xe(n=>n.complete());function Bn(n){return n<=0?()=>Zn:st((e,t)=>{let r=0;e.subscribe(Ze(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jf(...n){const e=Nl(n);return st((t,r)=>{(e?Hf(n,t,e):Hf(n,t)).subscribe(r)})}const zx=new Set;let Wo,LQ=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):UQ}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function BQ(n,e){if(!zx.has(n))try{Wo||(Wo=document.createElement("style"),e&&Wo.setAttribute("nonce",e),Wo.setAttribute("type","text/css"),document.head.appendChild(Wo)),Wo.sheet&&(Wo.sheet.insertRule(`@media ${n} {body{ }}`,0),zx.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C($t),C(d_,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UQ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let HQ=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new re}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Gx(Uf(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=Ko(Gx(Uf(t)).map(s=>this._registerQuery(s).observable));return o=Hf(o.pipe(Bn(1)),o.pipe(Bx(1),function Lx(n,e=vC){return st((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}t.subscribe(Ze(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(Z(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Xe(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(jf(r),Z(({matches:s})=>({query:t,matches:s})),_r(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(r){return new(r||n)(C(LQ),C(z))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gx(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let yC=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function GQ(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function zQ(n){try{return n.frameElement}catch{return null}}(function JQ(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Yx(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=Yx(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function XQ(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function ZQ(n){return!function KQ(n){return function YQ(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function qQ(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function WQ(n){return function QQ(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Wx(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(C($t))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wx(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Yx(n){if(!Wx(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Qx{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,o=!1,s){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Js(e,{injector:this._injector}):setTimeout(e)}}let Xx=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._injector=w(Se),this._document=i}create(t,r=!1){return new Qx(t,this._checker,this._ngZone,this._document,r,this._injector)}static#e=this.\u0275fac=function(r){return new(r||n)(C(yC),C(z),C(ce))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zx(n){return 0===n.buttons||0===n.detail}function Jx(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const e9=new D("cdk-input-modality-detector-options"),t9={ignoreKeys:[18,17,224,91,16]},ka=Ll({passive:!0,capture:!0});let n9=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new kt(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ei(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Zx(s)?"keyboard":"mouse"),this._mostRecentTarget=Ei(s))},this._onTouchstart=s=>{Jx(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ei(s))},this._options={...t9,...o},this.modalityDetected=this._modality.pipe(Bx(1)),this.modalityChanged=this.modalityDetected.pipe(function wQ(n,e=Oi){return n=n??TQ,st((t,r)=>{let i,o=!0;t.subscribe(Ze(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ka),i.addEventListener("mousedown",this._onMousedown,ka),i.addEventListener("touchstart",this._onTouchstart,ka)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ka),document.removeEventListener("mousedown",this._onMousedown,ka),document.removeEventListener("touchstart",this._onTouchstart,ka))}static#e=this.\u0275fac=function(r){return new(r||n)(C($t),C(z),C(ce),C(e9,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vf=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Vf||{});const i9=new D("cdk-focus-monitor-default-options"),$f=Ll({passive:!0,capture:!0});let bC=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new re,this._rootNodeFocusAndBlurListener=a=>{for(let l=Ei(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||Vf.IMMEDIATE}monitor(t,r=!1){const i=Ra(t);if(!this._platform.isBrowser||1!==i.nodeType)return P();const o=function nQ(n){if(function tQ(){if(null==uC){const n=typeof document<"u"?document.head:null;uC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return uC}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new re,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Ra(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=Ra(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Vf.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,this._detectionMode===Vf.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Ei(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,$f),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,$f)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_r(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$f),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$f),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(C(z),C($t),C(n9),C(ce,8),C(i9,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yo=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Yo||{});const tP="cdk-high-contrast-black-on-white",nP="cdk-high-contrast-white-on-black",CC="cdk-high-contrast-active";let rP=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=w(HQ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Yo.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Yo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Yo.BLACK_ON_WHITE}return Yo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(CC,tP,nP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===Yo.BLACK_ON_WHITE?t.add(CC,tP):r===Yo.WHITE_ON_BLACK&&t.add(CC,nP)}}static#e=this.\u0275fac=function(r){return new(r||n)(C($t),C(ce))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o9=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||n)(C(rP))};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[SQ]})}return n})();const s9=new D("cdk-dir-doc",{providedIn:"root",factory:function a9(){return w(ce)}}),c9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Hl=(()=>{class n{constructor(t){this.value="ltr",this.change=new It,t&&(this.value=function l9(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?c9.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(C(s9,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({})}return n})();const d9=new D("mat-sanity-checks",{providedIn:"root",factory:function u9(){return!0}});let Qt=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!hC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(C(rP),C(d9,8),C(ce))};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[jl,jl]})}return n})();var Jn=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Jn||{});class _9{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=Jn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const sP=Ll({passive:!0,capture:!0});class y9{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ei(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){const o=this._events.get(t);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,sP)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,sP)))}}const aP={enterDuration:225,exitDuration:150},cP=Ll({passive:!0,capture:!0}),lP=["mousedown","touchstart"],uP=["mouseup","mouseleave","touchend","touchcancel"];class zf{static#e=this._eventManager=new y9;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ra(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...aP,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function C9(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,m=new _9(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=Jn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=m);let v=null;return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const b=()=>{v&&(v.fallbackTimer=null),clearTimeout(R),this._finishRippleTransition(m)},y=()=>this._destroyRipple(m),R=setTimeout(y,l+100);u.addEventListener("transitionend",b),u.addEventListener("transitioncancel",y),v={onTransitionEnd:b,onTransitionCancel:y,fallbackTimer:R}}),this._activeRipples.set(m,v),(p||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(e.state===Jn.FADING_OUT||e.state===Jn.HIDDEN)return;const t=e.element,r={...aP,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=Jn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ra(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,lP.forEach(r=>{zf._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uP.forEach(t=>{this._triggerElement.addEventListener(t,this,cP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Jn.FADING_IN?this._startFadeOutTransition(e):e.state===Jn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Jn.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Jn.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),null!==t.fallbackTimer&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){const t=Zx(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Jx(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Jn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Jn.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(lP.forEach(t=>zf._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(uP.forEach(t=>e.removeEventListener(t,this,cP)),this._pointerUpEventsRegistered=!1))}}const dP=new D("mat-ripple-global-options");let E9=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new zf(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(r){return new(r||n)(E(Re),E(z),E($t),E(dP,8),E(fi,8))};static#t=this.\u0275dir=F({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&Tn("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),hP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[Qt,Qt]})}return n})();const fP={capture:!0},pP=["focus","mousedown","mouseenter","touchstart"],EC="mat-ripple-loader-uninitialized",wC="mat-ripple-loader-class-name",mP="mat-ripple-loader-centered",Gf="mat-ripple-loader-disabled";let w9=(()=>{class n{constructor(){this._document=w(ce,{optional:!0}),this._animationMode=w(fi,{optional:!0}),this._globalRippleOptions=w(dP,{optional:!0}),this._platform=w($t),this._ngZone=w(z),this._hosts=new Map,this._onInteraction=t=>{const r=Ei(t);if(r instanceof HTMLElement){const i=r.closest(`[${EC}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}},this._ngZone.runOutsideAngular(()=>{for(const t of pP)this._document?.addEventListener(t,this._onInteraction,fP)})}ngOnDestroy(){const t=this._hosts.keys();for(const r of t)this.destroyRipple(r);for(const r of pP)this._document?.removeEventListener(r,this._onInteraction,fP)}configureRipple(t,r){t.setAttribute(EC,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(wC))&&t.setAttribute(wC,r.className||""),r.centered&&t.setAttribute(mP,""),r.disabled&&t.setAttribute(Gf,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,r){const i=this._hosts.get(t);i?i.disabled=r:r?t.setAttribute(Gf,""):t.removeAttribute(Gf)}_createRipple(t){if(!this._document)return;const r=this._hosts.get(t);if(r)return r;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(wC)),t.append(i);const o=new E9(new Re(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(mP),o.disabled=t.hasAttribute(Gf),this.attachRipple(t,o),o}attachRipple(t,r){t.removeAttribute(EC),this._hosts.set(t,r)}destroyRipple(t){const r=this._hosts.get(t);r&&(r.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const T9=["*",[["mat-toolbar-row"]]],I9=["*","mat-toolbar-row"];let S9=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=F({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),D9=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||n)(E(Re),E($t),E(ce))};static#t=this.\u0275cmp=Ge({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(1&r&&pr(o,S9,5),2&r){let s;cn(s=ln())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){2&r&&(Vh(i.color?"mat-"+i.color:""),Tn("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[gt],ngContentSelectors:I9,decls:2,vars:0,template:function(r,i){1&r&&(gi(T9),nt(0),nt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),A9=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[Qt,Qt]})}return n})();const gP=["mat-button",""],vP=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],_P=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],k9=new D("MAT_BUTTON_CONFIG"),O9=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let yP=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,r,i,o){this._elementRef=t,this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=w(bC),this._rippleLoader=w(w9),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=w(k9,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:u}of O9)a.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){ph()};static#t=this.\u0275dir=F({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",dn],disabled:[2,"disabled","disabled",dn],ariaDisabled:[2,"aria-disabled","ariaDisabled",dn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",dn]},features:[jr]})}return n})(),N9=(()=>{class n extends yP{constructor(t,r,i,o){super(t,r,i,o),this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(r){ph()};static#t=this.\u0275dir=F({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",t=>null==t?void 0:function oW(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}(t)]},features:[jr,Ce]})}return n})(),bP=(()=>{class n extends yP{constructor(t,r,i,o){super(t,r,i,o)}static#e=this.\u0275fac=function(r){return new(r||n)(E(Re),E($t),E(z),E(fi,8))};static#t=this.\u0275cmp=Ge({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(Gi("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Vh(i.color?"mat-"+i.color:""),Tn("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ce,gt],attrs:gP,ngContentSelectors:_P,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(gi(vP),Fn(0,"span",0),nt(1),ue(2,"span",1),nt(3,1),he(),nt(4,2),Fn(5,"span",2)(6,"span",3)),2&r&&Tn("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),x9=(()=>{class n extends N9{constructor(t,r,i,o){super(t,r,i,o)}static#e=this.\u0275fac=function(r){return new(r||n)(E(Re),E($t),E(z),E(fi,8))};static#t=this.\u0275cmp=Ge({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,i){2&r&&(Gi("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),Vh(i.color?"mat-"+i.color:""),Tn("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[Ce,gt],attrs:gP,ngContentSelectors:_P,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(gi(vP),Fn(0,"span",0),nt(1),ue(2,"span",1),nt(3,1),he(),nt(4,2),Fn(5,"span",2)(6,"span",3)),2&r&&Tn("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),F9=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[Qt,hP,Qt]})}return n})();const L9=["*"],H9=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],j9=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],V9=new D("MAT_CARD_CONFIG");let CP=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(r){return new(r||n)(E(V9,8))};static#t=this.\u0275cmp=Ge({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,i){2&r&&Tn("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[gt],ngContentSelectors:L9,decls:1,vars:0,template:function(r,i){1&r&&(gi(),nt(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),EP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=F({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return n})(),wP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=F({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return n})(),TP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=F({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return n})(),IP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ge({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[gt],ngContentSelectors:j9,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){1&r&&(gi(H9),nt(0),ue(1,"div",0),nt(2,1),he(),nt(3,2))},encapsulation:2,changeDetection:0})}return n})(),G9=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[Qt,Af,Qt]})}return n})();function TC(){return st((n,e)=>{let t=null;n._refCount++;const r=Ze(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class IC extends Xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,FI(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ht;const t=this.getSubject();e.add(this.source.subscribe(Ze(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ht.EMPTY)}return e}refCount(){return TC()(this)}}function SC(n){return!!n&&(n instanceof Xe||be(n.lift)&&be(n.subscribe))}function DC(n){return n&&"function"==typeof n.connect&&!(n instanceof IC)}var wi=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(wi||{});const $l=new D("_ViewRepeater");class DP{applyChanges(e,t,r,i,o){e.forEachOperation((s,a,c)=>{let l,u;if(null==s.previousIndex){const d=r(s,a,c);l=t.createEmbeddedView(d.templateRef,d.context,d.index),u=wi.INSERTED}else null==c?(t.remove(a),u=wi.REMOVED):(l=t.get(a),t.move(l,c),u=wi.MOVED);o&&o({context:l?.context,operation:u,record:s})})}detach(){}}const q9=["addListener","removeListener"],K9=["addEventListener","removeEventListener"],W9=["on","off"];function qf(n,e,t,r){if(be(t)&&(r=t,t=void 0),r)return qf(n,e,t).pipe(_C(r));const[i,o]=function X9(n){return be(n.addEventListener)&&be(n.removeEventListener)}(n)?K9.map(s=>a=>n[s](e,a,t)):function Y9(n){return be(n.addListener)&&be(n.removeListener)}(n)?q9.map(RP(n,e)):function Q9(n){return be(n.on)&&be(n.off)}(n)?W9.map(RP(n,e)):[];if(!i&&eC(n))return Vt(s=>qf(s,e,t))(fn(n));if(!i)throw new TypeError("Invalid event target");return new Xe(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function RP(n,e){return t=>r=>n[t](e,r)}const zl={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=zl;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new ht(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=zl;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=zl;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class J9 extends gC{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Z9 extends pC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=zl.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(zl.cancelAnimationFrame(t),e._scheduled=void 0)}});let AC,tX=1;const Kf={};function MP(n){return n in Kf&&(delete Kf[n],!0)}const nX={setImmediate(n){const e=tX++;return Kf[e]=!0,AC||(AC=Promise.resolve()),AC.then(()=>MP(e)&&n()),e},clearImmediate(n){MP(n)}},{setImmediate:rX,clearImmediate:iX}=nX,Wf={setImmediate(...n){const{delegate:e}=Wf;return(e?.setImmediate||rX)(...n)},clearImmediate(n){const{delegate:e}=Wf;return(e?.clearImmediate||iX)(n)},delegate:void 0};new class sX extends gC{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class oX extends pC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Wf.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Wf.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function kP(n,e=vC){return function cX(n){return st((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(Ze(t,l=>{r=!0,i=l,o||fn(n(l)).subscribe(o=Ze(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>function uX(n=0,e,t=EQ){let r=-1;return null!=e&&(QN(e)?t=e:r=e),new Xe(i=>{let o=function lX(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e))}let OP=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new re,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Xe(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(kP(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):P()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ye(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Ra(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(C(z),C($t),C(ce,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RC=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new re,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(kP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(C($t),C(z),C(ce,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MC=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({})}return n})(),kC=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[jl,MC,jl,MC]})}return n})();const pX=[[["caption"]],[["colgroup"],["col"]],"*"],mX=["caption","colgroup, col","*"];function gX(n,e){1&n&&nt(0,2)}function vX(n,e){1&n&&(ue(0,"thead",0),Yt(1,1),he(),ue(2,"tbody",0),Yt(3,2)(4,3),he(),ue(5,"tfoot",0),Yt(6,4),he())}function _X(n,e){1&n&&Yt(0,1)(1,2)(2,3)(3,4)}const Yr=new D("CDK_TABLE");let Oa=(()=>{class n{constructor(t){this.template=t}static#e=this.\u0275fac=function(r){return new(r||n)(E(Nt))};static#t=this.\u0275dir=F({type:n,selectors:[["","cdkCellDef",""]],standalone:!0})}return n})(),Na=(()=>{class n{constructor(t){this.template=t}static#e=this.\u0275fac=function(r){return new(r||n)(E(Nt))};static#t=this.\u0275dir=F({type:n,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return n})(),Yf=(()=>{class n{constructor(t){this.template=t}static#e=this.\u0275fac=function(r){return new(r||n)(E(Nt))};static#t=this.\u0275dir=F({type:n,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return n})(),Ti=(()=>{class n{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(r){return new(r||n)(E(Yr,8))};static#t=this.\u0275dir=F({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,i,o){if(1&r&&(pr(o,Oa,5),pr(o,Na,5),pr(o,Yf,5)),2&r){let s;cn(s=ln())&&(i.cell=s.first),cn(s=ln())&&(i.headerCell=s.first),cn(s=ln())&&(i.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",dn],stickyEnd:[2,"stickyEnd","stickyEnd",dn]},standalone:!0,features:[jt([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),jr]})}return n})();class OC{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let NC=(()=>{class n extends OC{constructor(t,r){super(t,r)}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ti),E(Re))};static#t=this.\u0275dir=F({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Ce]})}return n})(),xC=(()=>{class n extends OC{constructor(t,r){super(t,r);const i=t._table?._getCellRole();i&&r.nativeElement.setAttribute("role",i)}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ti),E(Re))};static#t=this.\u0275dir=F({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Ce]})}return n})();class xP{constructor(){this.tasks=[],this.endTasks=[]}}const PC=new D("_COALESCED_STYLE_SCHEDULER");let PP=(()=>{class n{constructor(t){this._currentSchedule=null,this._ngZone=w(z)}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new xP,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new xP;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(r){return new(r||n)(C(z))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),FC=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Gl?t.headerCell.template:this instanceof ql?t.footerCell.template:t.cell.template}static#e=this.\u0275fac=function(r){return new(r||n)(E(Nt),E(Wi))};static#t=this.\u0275dir=F({type:n,features:[lr]})}return n})(),Gl=(()=>{class n extends FC{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,r,i){super(t,r),this._table=i,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(r){return new(r||n)(E(Nt),E(Wi),E(Yr,8))};static#t=this.\u0275dir=F({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",dn]},standalone:!0,features:[jr,Ce,lr]})}return n})(),ql=(()=>{class n extends FC{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,r,i){super(t,r),this._table=i,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(r){return new(r||n)(E(Nt),E(Wi),E(Yr,8))};static#t=this.\u0275dir=F({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",dn]},standalone:!0,features:[jr,Ce,lr]})}return n})(),Qf=(()=>{class n extends FC{constructor(t,r,i){super(t,r),this._table=i}static#e=this.\u0275fac=function(r){return new(r||n)(E(Nt),E(Wi),E(Yr,8))};static#t=this.\u0275dir=F({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[Ce]})}return n})(),Ii=(()=>{class n{static#e=this.mostRecentCellOutlet=null;constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(r){return new(r||n)(E(Ut))};static#n=this.\u0275dir=F({type:n,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return n})(),LC=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ge({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[gt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&Yt(0,0)},dependencies:[Ii],encapsulation:2})}return n})(),UC=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ge({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[gt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&Yt(0,0)},dependencies:[Ii],encapsulation:2})}return n})(),Xf=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(r){return new(r||n)(E(Nt))};static#t=this.\u0275dir=F({type:n,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return n})();const FP=["top","bottom","left","right"];class EX{constructor(e,t,r,i,o=!0,s=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let o=0;o<i.children.length;o++)r.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){e.length&&this._isBrowser&&(t.some(o=>o)||r.some(o=>o))?this._coalescedStyleScheduler.schedule(()=>{const o=e[0],s=o.children.length,a=this._getCellWidths(o,i),c=this._getStickyStartColumnPositions(a,t),l=this._getStickyEndColumnPositions(a,r),u=t.lastIndexOf(!0),d=r.indexOf(!0),h="rtl"===this.direction,f=h?"right":"left",p=h?"left":"right";for(const m of e)for(let v=0;v<s;v++){const b=m.children[v];t[v]&&this._addStickyStyle(b,f,c[v],v===u),r[v]&&this._addStickyStyle(b,p,l[v],v===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((m,v)=>t[v]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((m,v)=>r[v+d]?m:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(e,t,r){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const i="bottom"===r?e.slice().reverse():e,o="bottom"===r?t.slice().reverse():t,s=[],a=[],c=[];for(let u=0,d=0;u<i.length;u++){if(!o[u])continue;s[u]=d;const h=i[u];c[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=h.getBoundingClientRect().height;d+=f,a[u]=f}const l=o.lastIndexOf(!0);for(let u=0;u<i.length;u++){if(!o[u])continue;const d=s[u],h=u===l;for(const f of c[u])this._addStickyStyle(f,r,d,h)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:c})})}updateStickyFooterContainer(e,t){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const r=e.querySelector("tfoot");r&&(t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1))})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);FP.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of FP)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let o=0;o<i.length;o++)r.push(i[o].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let o=0;o<e.length;o++)t[o]&&(r[o]=i,i+=e[o]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let o=e.length;o>0;o--)t[o]&&(r[o]=i,i+=e[o]);return r}}const HC=new D("CDK_SPL");let jC=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r;const i=w(Yr);i._rowOutlet=this,i._outletAssigned()}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ut),E(Re))};static#t=this.\u0275dir=F({type:n,selectors:[["","rowOutlet",""]],standalone:!0})}return n})(),VC=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r;const i=w(Yr);i._headerRowOutlet=this,i._outletAssigned()}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ut),E(Re))};static#t=this.\u0275dir=F({type:n,selectors:[["","headerRowOutlet",""]],standalone:!0})}return n})(),$C=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r;const i=w(Yr);i._footerRowOutlet=this,i._outletAssigned()}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ut),E(Re))};static#t=this.\u0275dir=F({type:n,selectors:[["","footerRowOutlet",""]],standalone:!0})}return n})(),zC=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r;const i=w(Yr);i._noDataRowOutlet=this,i._outletAssigned()}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ut),E(Re))};static#t=this.\u0275dir=F({type:n,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return n})(),Zf=(()=>{class n{_getCellRole(){if(void 0===this._cellRoleInternal){const t=this._elementRef.nativeElement.getAttribute("role"),r="grid"===t||"treegrid"===t?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===r?null:r}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,r,i,o,s,a,c,l,u,d,h,f){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=s,this._platform=c,this._viewRepeater=l,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._onDestroy=new re,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new It,this.viewChange=new kt({start:0,end:Number.MAX_VALUE}),this._injector=w(Se),o||i.nativeElement.setAttribute("role","table"),this._document=a,this._isServer=!c.isBrowser,this._isNativeHtmlTable="TABLE"===i.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(_r(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),DC(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,o,s)=>this._getEmbeddedViewArgs(i.item,s),i=>i.item.data,i=>{i.operation===wi.INSERTED&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),Js(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const i=LP(this._headerRowOutlet,"thead");i&&(i.style.display=t.length?"":"none")}const r=this._headerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,r,"top"),this._headerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const i=LP(this._footerRowOutlet,"tfoot");i&&(i.style.display=t.length?"":"none")}const r=this._footerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<r.length;a++)this._renderRows[a].rowDef===o&&s.push(r[a]);this._addStickyColumnStyles(s,o)}),i.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i];const s=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let c=s[a];const l=this._cachedRenderRowsMap.get(c.data);l.has(c.rowDef)?l.get(c.rowDef).push(c):l.set(c.rowDef,[c]),t.push(c)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(s=>{const a=i&&i.has(s)?i.get(s):[];if(a.length){const c=a.shift();return c.dataIndex=r,c}return{data:t,rowDef:s,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Jf(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=Jf(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Jf(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Jf(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(s,a)=>s||!!a.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(t){this._data=[],DC(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;DC(this.dataSource)?t=this.dataSource.connect(this):SC(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=P(this.dataSource)),this._renderChangeSubscription=t.pipe(_r(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(a=>this._columnDefsByName.get(a)),o=i.map(a=>a.sticky),s=i.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const o=t.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,t));else{let o=this._rowDefs.find(s=>s.when&&s.when(r,t))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,o={}){const s=t.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),s}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))Ii.mostRecentCellOutlet&&Ii.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const s=t.get(r).context;s.count=i,s.first=0===r,s.last=r===i-1,s.even=r%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[r].dataIndex,s.renderIndex=r):s.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new EX(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:P()).pipe(_r(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const o=i.createEmbeddedView(t.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(r){return new(r||n)(E(Wi),E(Ta),E(Re),Us("role"),E(Hl,8),E(ce),E($t),E($l),E(PC),E(RC),E(HC,12),E(z,8))};static#t=this.\u0275cmp=Ge({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,i,o){if(1&r&&(pr(o,Xf,5),pr(o,Ti,5),pr(o,Qf,5),pr(o,Gl,5),pr(o,ql,5)),2&r){let s;cn(s=ln())&&(i._noDataRow=s.first),cn(s=ln())&&(i._contentColumnDefs=s),cn(s=ln())&&(i._contentRowDefs=s),cn(s=ln())&&(i._contentHeaderRowDefs=s),cn(s=ln())&&(i._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,i){2&r&&Tn("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",dn],fixedLayout:[2,"fixedLayout","fixedLayout",dn]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[jt([{provide:Yr,useExisting:n},{provide:$l,useClass:DP},{provide:PC,useClass:PP},{provide:HC,useValue:null}]),jr,gt],ngContentSelectors:mX,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,i){1&r&&(gi(pX),nt(0),nt(1,1),Ht(2,gX,1,0)(3,vX,7,0)(4,_X,4,0)),2&r&&(tt(2),pl(i._isServer?2:-1),tt(),pl(i._isNativeHtmlTable?3:4))},dependencies:[VC,jC,zC,$C],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return n})();function Jf(n,e){return n.concat(Array.from(e))}function LP(n,e){const t=e.toUpperCase();let r=n.viewContainer.element.nativeElement;for(;r;){const i=1===r.nodeType?r.nodeName:null;if(i===t)return r;if("TABLE"===i)break;r=r.parentNode}return null}let TX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[kC]})}return n})();function ep(...n){const e=Nl(n),t=function j5(n,e){return"number"==typeof Yb(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?fn(r[0]):Ma(t)(Me(r,e)):Zn}const IX=[[["caption"]],[["colgroup"],["col"]],"*"],SX=["caption","colgroup, col","*"];function DX(n,e){1&n&&nt(0,2)}function AX(n,e){1&n&&(ue(0,"thead",0),Yt(1,1),he(),ue(2,"tbody",2),Yt(3,3)(4,4),he(),ue(5,"tfoot",0),Yt(6,5),he())}function RX(n,e){1&n&&Yt(0,1)(1,3)(2,4)(3,5)}let UP=(()=>{class n extends Zf{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275cmp=Ge({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,i){2&r&&Tn("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[jt([{provide:Zf,useExisting:n},{provide:Yr,useExisting:n},{provide:PC,useClass:PP},{provide:$l,useClass:DP},{provide:HC,useValue:null}]),Ce,gt],ngContentSelectors:SX,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,i){1&r&&(gi(IX),nt(0),nt(1,1),Ht(2,DX,1,0)(3,AX,7,0)(4,RX,4,0)),2&r&&(tt(2),pl(i._isServer?2:-1),tt(),pl(i._isNativeHtmlTable?3:4))},dependencies:[VC,jC,zC,$C],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return n})(),GC=(()=>{class n extends Oa{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275dir=F({type:n,selectors:[["","matCellDef",""]],standalone:!0,features:[jt([{provide:Oa,useExisting:n}]),Ce]})}return n})(),qC=(()=>{class n extends Na{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275dir=F({type:n,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[jt([{provide:Na,useExisting:n}]),Ce]})}return n})(),KC=(()=>{class n extends Ti{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275dir=F({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[jt([{provide:Ti,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ce]})}return n})(),WC=(()=>{class n extends NC{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275dir=F({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Ce]})}return n})(),YC=(()=>{class n extends xC{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275dir=F({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Ce]})}return n})(),HP=(()=>{class n extends Gl{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275dir=F({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",dn]},standalone:!0,features:[jt([{provide:Gl,useExisting:n}]),jr,Ce]})}return n})(),jP=(()=>{class n extends Qf{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275dir=F({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[jt([{provide:Qf,useExisting:n}]),Ce]})}return n})(),VP=(()=>{class n extends LC{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275cmp=Ge({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[jt([{provide:LC,useExisting:n}]),Ce,gt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&Yt(0,0)},dependencies:[Ii],encapsulation:2})}return n})(),$P=(()=>{class n extends UC{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275cmp=Ge({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[jt([{provide:UC,useExisting:n}]),Ce,gt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&Yt(0,0)},dependencies:[Ii],encapsulation:2})}return n})(),LX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[Qt,TX,Qt]})}return n})();var X=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(X||{});const Si="*";function yr(n){return{type:X.Style,styles:n,offset:null}}class Yl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class KP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZC{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class JC extends ZC{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class WP extends ZC{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zX extends ZC{constructor(e){super(),this.element=e instanceof Re?e.nativeElement:e}}class eE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof JC?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof WP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zX?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class GX extends eE{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Se.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let tE=(()=>{class n extends eE{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new It,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(E(Zs),E(Ut),E(ce))};static#t=this.\u0275dir=F({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ce]})}return n})(),np=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({})}return n})();const YP=Px();class qX{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=yt(-this._previousScrollPosition.left),e.style.top=yt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),YP&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),YP&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class KX{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ye(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QP{enable(){}disable(){}attach(){}}function nE(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function XP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class WX{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();nE(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YX=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new QP,this.close=s=>new KX(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new qX(this._viewportRuler,this._document),this.reposition=s=>new WX(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(r){return new(r||n)(C(OP),C(RC),C(z),C(ce))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ZP{constructor(e){if(this.scrollStrategy=new QP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class QX{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let JP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XX=(()=>{class n extends JP{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce),C(z,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZX=(()=>{class n extends JP{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ei(o)},this._clickListener=o=>{const s=Ei(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(eF(u.overlayElement,s)||eF(u.overlayElement,a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce),C($t),C(z,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eF(n,e){const t=typeof ShadowRoot<"u"&&ShadowRoot;let r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let rp=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||hC()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),hC()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce),C($t))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ip{constructor(e,t,r,i,o,s,a,c,l,u=!1,d){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._injector=d,this._backdropElement=null,this._backdropClick=new re,this._attachments=new re,this._detachments=new re,this._locationChanges=ht.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new re,this._outsidePointerEvents=new re,this._renders=new re,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=function yb(n){const e=se(null);try{return n()}finally{se(e)}}(()=>function GR(n,e){!e&&Id();const t=e?.injector??w(Se);return En(t)?(on("NgAfterRender"),qR(n,t,!1,e?.phase??sn.MixedReadWrite)):zR}(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Js(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=yt(this._config.width),e.height=yt(this._config.height),e.minWidth=yt(this._config.minWidth),e.minHeight=yt(this._config.minHeight),e.maxWidth=yt(this._config.maxWidth),e.maxHeight=yt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Uf(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const e=this._renders.pipe(_r(ep(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const tF="cdk-overlay-connected-position-bounding-box",JX=/([A-Za-z%]+)$/;class eZ{get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new re,this._resizeSubscription=ht.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(tF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,r)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=rF(t);let{x:s,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(s+=c),l&&(a+=l);let h=0-a,f=a+o.height-r.height,p=this._subtractOverflows(o.width,0-s,s+o.width-r.width),m=this._subtractOverflows(o.height,h,f),v=p*m;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=nF(this._overlayRef.getConfig().minHeight),a=nF(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=rF(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),l=Math.max(o.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,d=i.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function tZ(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new QX(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=yt(r.height),i.top=yt(r.top),i.bottom=yt(r.bottom),i.width=yt(r.width),i.left=yt(r.left),i.right=yt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=yt(o)),s&&(i.maxWidth=yt(s))}this._lastBoundingBoxSize=r,Qo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Qo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Qo(r,this._getExactOverlayY(t,e,u)),Qo(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=yt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=yt(s.maxWidth):o&&(r.maxWidth="")),Qo(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=yt(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=yt(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:XP(e,r),isOriginOutsideView:nE(e,r),isOverlayClipped:XP(t,r),isOverlayOutsideView:nE(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Uf(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Re)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Qo(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function nF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(JX);return t&&"px"!==t?null:parseFloat(e)}return n||null}function rF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const iF="cdk-global-overlay-wrapper";class nZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(iF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";c?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,t.justifyContent=m,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(iF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let rZ=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new nZ}flexibleConnectedTo(t){return new eZ(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(C(RC),C(ce),C($t),C(rp))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iZ=0,br=(()=>{class n{constructor(t,r,i,o,s,a,c,l,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new ZP(t);return s.direction=s.direction||this._directionality.value,new ip(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(en))}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+iZ++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Yn)),new GX(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(C(YX),C(rp),C(Zs),C(rZ),C(XX),C(Se),C(z),C(ce),C(Hl),C(Kr),C(ZX),C(fi,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const aZ={provide:new D("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=w(br);return()=>n.scrollStrategies.reposition()}}),deps:[br],useFactory:function sZ(n){return()=>n.scrollStrategies.reposition()}};let rE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({providers:[br,aZ],imports:[jl,np,kC,kC]})}return n})();const dZ={provide:new D("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=w(br);return()=>n.scrollStrategies.reposition()}}),deps:[br],useFactory:function uZ(n){return()=>n.scrollStrategies.reposition()}};let hZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({providers:[dZ],imports:[Af,hP,Qt,rE,MC,Qt]})}return n})();function op(n){return new Xe(e=>{fn(n()).subscribe(e)})}function fZ(n,e){}class sp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let sF=(()=>{class n extends eE{constructor(t,r,i,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=w($t),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=w(Ta),this._injector=w(Se),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){this._isDestroyed||Js(()=>{const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=dC(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=dC();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=dC()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(E(Re),E(Xx),E(ce,8),E(sp),E(yC),E(z),E(ip),E(bC))};static#t=this.\u0275cmp=Ge({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&bl(tE,7),2&r){let o;cn(o=ln())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&Gi("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[Ce,gt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&Ht(0,fZ,0,0,"ng-template",0)},dependencies:[tE],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class iE{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new re,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!fC(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const aF=new D("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=w(br);return()=>n.scrollStrategies.block()}}),pZ=new D("DialogData"),mZ=new D("DefaultDialogConfig");let vZ=0,cF=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,o,s,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new re,this._afterOpenedAtThisLevel=new re,this._ariaHiddenElements=new Map,this.afterAllClosed=op(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(jf(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new sp,...r}).id=r.id||"cdk-dialog-"+vZ++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new iE(s,r),c=this._attachContainer(s,a,r);return a.containerInstance=c,this._attachDialogContent(t,a,c,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){oE(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){oE(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),oE(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new ZP({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const o=i.injector||i.viewContainerRef?.injector,s=[{provide:sp,useValue:i},{provide:iE,useValue:r},{provide:ip,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=sF;const c=new JC(a,i.viewContainerRef,Se.create({parent:o||this._injector,providers:s}),i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,o){if(t instanceof Nt){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),i.attachTemplatePortal(new WP(t,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new JC(t,o.viewContainerRef,s,o.componentFactoryResolver));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(t,r,i,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:pZ,useValue:t.data},{provide:iE,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!s||!s.get(Hl,null,{optional:!0}))&&a.push({provide:Hl,useValue:{value:t.direction,change:P()}}),Se.create({parent:s||o,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(C(br),C(Se),C(mZ,8),C(n,12),C(rp),C(aF))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oE(n,e){let t=n.length;for(;t--;)e(n[t])}let _Z=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({providers:[cF],imports:[rE,np,o9,np]})}return n})();function yZ(n,e){}class sE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const aE="mdc-dialog--open",lF="mdc-dialog--opening",uF="mdc-dialog--closing";let dF=(()=>{class n extends sF{constructor(t,r,i,o,s,a,c,l,u){super(t,r,i,o,s,a,c,u),this._animationMode=l,this._animationStateChanged=new It,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?fF(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?fF(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(hF,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(lF,aE)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(aE),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(aE),this._animationsEnabled?(this._hostElement.style.setProperty(hF,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(uF)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(lF,uF)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const r=super.attachComponentPortal(t);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static#e=this.\u0275fac=function(r){return new(r||n)(E(Re),E(Xx),E(ce,8),E(sE),E(yC),E(z),E(ip),E(fi,8),E(bC))};static#t=this.\u0275cmp=Ge({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){2&r&&(qh("id",i._config.id),Gi("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Tn("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[Ce,gt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(ue(0,"div",0)(1,"div",1),Ht(2,yZ,0,0,"ng-template",2),he()())},dependencies:[tE],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, inherit);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, inherit);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const hF="--mat-dialog-transition-duration";function fF(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ux(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ux(n.substring(0,n.length-1)):"0"===n?0:null}var ap=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(ap||{});class cE{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new re,this._beforeClosed=new re,this._state=ap.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(Ye(i=>"opened"===i.state),Bn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ye(i=>"closed"===i.state),Bn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ep(this.backdropClick(),this.keydownEvents().pipe(Ye(i=>27===i.keyCode&&!this.disableClose&&!fC(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function pF(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ye(t=>"closing"===t.state),Bn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=ap.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=ap.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const EZ=new D("MatMdcDialogData"),wZ=new D("mat-mdc-dialog-default-options"),mF=new D("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=w(br);return()=>n.scrollStrategies.block()}});let IZ=0,lE=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,o,s,a,c,l){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new re,this._afterOpenedAtThisLevel=new re,this.dialogConfigClass=sE,this.afterAllClosed=op(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(jf(void 0))),this._dialog=r.get(cF),this._dialogRefConstructor=cE,this._dialogContainerType=dF,this._dialogDataToken=EZ}open(t,r){let i;(r={...this._defaultOptions||new sE,...r}).id=r.id||"mat-mdc-dialog-"+IZ++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:sp,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,c)=>(i=new this._dialogRefConstructor(s,r,c),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static#e=this.\u0275fac=function(r){return new(r||n)(C(br),C(Se),C(Kr,8),C(wZ,8),C(mF),C(n,12),C(rp),C(fi,8))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({providers:[lE],imports:[_Z,rE,np,Qt,Qt]})}return n})();function yF(n){return new T(3e3,!1)}function Ji(n){switch(n.length){case 0:return new Yl;case 1:return n[0];default:return new KP(n)}}function bF(n,e,t=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,i),m){case"!":m=t.get(f);break;case Si:m=r.get(f);break;default:m=n.normalizeStyleValue(f,p,m,i)}d.set(p,m)}),u||o.push(d),a=d,s=l}),i.length)throw function e7(n){return new T(3502,!1)}();return o}function uE(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dE(t,"destroy",n)))}}function dE(n,e,t){const o=hE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function hE(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Un(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function CF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const h7=typeof document>"u"?null:document.documentElement;function fE(n){const e=n.parentNode||n.host||null;return e===h7?null:e}let Xo=null,EF=!1;function wF(n,e){for(;e;){if(e===n)return!0;e=fE(e)}return!1}function TF(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let pE=(()=>{class n{validateStyleProperty(t){return function p7(n){Xo||(Xo=function m7(){return typeof document<"u"?document.body:null}()||{},EF=!!Xo.style&&"WebkitAppearance"in Xo.style);let e=!0;return Xo.style&&!function f7(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Xo.style,!e&&EF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xo.style)),e}(t)}containsElement(t,r){return wF(t,r)}getParentElement(t){return fE(t)}query(t,r,i){return TF(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Yl(i,o)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();class mE{static#e=this.NOOP=new pE}class gE{}const v7=1e3,vE="ng-enter",cp="ng-leave",lp="ng-trigger",up=".ng-trigger",SF="ng-animating",_E=".ng-animating";function Di(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yE(parseFloat(e[1]),e[2])}function yE(n,e){return"s"===e?n*v7:n}function dp(n,e,t){return n.hasOwnProperty("duration")?n:function y7(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(yF()),{duration:0,delay:0,easing:""};i=yE(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=yE(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function OZ(){return new T(3100,!1)}()),a=!0),o<0&&(e.push(function NZ(){return new T(3101,!1)}()),a=!0),a&&e.splice(c,0,yF())}return{duration:i,delay:o,easing:s}}(n,e,t)}function Qr(n,e,t){e.forEach((r,i)=>{const o=CE(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Zo(n,e){e.forEach((t,r)=>{const i=CE(r);n.style[i]=""})}function Ql(n){return Array.isArray(n)?1==n.length?n[0]:function UX(n,e=null){return{type:X.Sequence,steps:n,options:e}}(n):n}const bE=new RegExp("{{\\s*(.+?)\\s*}}","g");function AF(n){let e=[];if("string"==typeof n){let t;for(;t=bE.exec(n);)e.push(t[1]);bE.lastIndex=0}return e}function Xl(n,e,t){const r=`${n}`,i=r.replace(bE,(o,s)=>{let a=e[s];return null==a&&(t.push(function PZ(n){return new T(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const E7=/-+([a-z0-9])/g;function CE(n){return n.replace(E7,(...e)=>e[1].toUpperCase())}function Hn(n,e,t){switch(e.type){case X.Trigger:return n.visitTrigger(e,t);case X.State:return n.visitState(e,t);case X.Transition:return n.visitTransition(e,t);case X.Sequence:return n.visitSequence(e,t);case X.Group:return n.visitGroup(e,t);case X.Animate:return n.visitAnimate(e,t);case X.Keyframes:return n.visitKeyframes(e,t);case X.Style:return n.visitStyle(e,t);case X.Reference:return n.visitReference(e,t);case X.AnimateChild:return n.visitAnimateChild(e,t);case X.AnimateRef:return n.visitAnimateRef(e,t);case X.Query:return n.visitQuery(e,t);case X.Stagger:return n.visitStagger(e,t);default:throw function FZ(n){return new T(3004,!1)}()}}function EE(n,e){return window.getComputedStyle(n)[e]}const I7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class RF extends gE{normalizePropertyName(e,t){return CE(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(I7.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function LZ(n,e){return new T(3005,!1)}())}return s+o}}const hp="*";const fp=new Set(["true","1"]),pp=new Set(["false","0"]);function MF(n,e){const t=fp.has(n)||pp.has(n),r=fp.has(e)||pp.has(e);return(i,o)=>{let s=n==hp||n==i,a=e==hp||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?fp.has(n):pp.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?fp.has(e):pp.has(e)),s&&a}}const R7=new RegExp("s*:selfs*,?","g");function wE(n,e,t,r){return new M7(n).build(e,t,r)}class M7{constructor(e){this._driver=e}build(e,t,r){const i=new N7(t);return this._resetContextStyleTimingState(i),Hn(this,Ql(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function BZ(){return new T(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==X.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==X.Transition){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(function UZ(){return new T(3007,!1)}())}),{type:X.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{AF(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function HZ(n,e){return new T(3008,!1)}(0,o.values()))}return{type:X.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Hn(this,Ql(e.animation),t),i=function S7(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function D7(n,e,t){if(":"==n[0]){const c=function A7(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function QZ(n){return new T(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function YZ(n){return new T(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(MF(i,s)),"<"==o[0]&&(i!=hp||s!=hp)&&e.push(MF(s,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:X.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jo(e.options)}}visitSequence(e,t){return{type:X.Sequence,steps:e.steps.map(r=>Hn(this,r,t)),options:Jo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=Hn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:X.Group,steps:o,options:Jo(e.options)}}visitAnimate(e,t){const r=function P7(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return TE(dp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=TE(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=dp(t,e);return TE(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:yr({});if(o.type==X.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=yr(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:X.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Si?r.push(a):t.errors.push(new T(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:X.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function VZ(n,e,t,r,i){return new T(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&function C7(n,e,t){const r=e.params||{},i=AF(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function xZ(n){return new T(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:X.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function $Z(){return new T(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(b=>{const y=this._makeStyleAst(b,t);let R=null!=y.offset?y.offset:function x7(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),x=0;return null!=R&&(o++,x=y.offset=R),c=c||x<0||x>1,a=a||x<l,l=x,s.push(x),y});c&&t.errors.push(function zZ(){return new T(3012,!1)}()),a&&t.errors.push(function GZ(){return new T(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function qZ(){return new T(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,v=m.duration;return u.forEach((b,y)=>{const R=h>0?y==f?1:h*y:s[y],x=R*v;t.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(b,t),b.offset=R,r.styles.push(b)}),r}visitReference(e,t){return{type:X.Reference,animation:Hn(this,Ql(e.animation),t),options:Jo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:X.AnimateChild,options:Jo(e.options)}}visitAnimateRef(e,t){return{type:X.AnimateRef,animation:this.visitReference(e.animation,t),options:Jo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function k7(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(R7,"")),n=n.replace(/@\*/g,up).replace(/@\w+/g,t=>up+"-"+t.slice(1)).replace(/:animating/g,_E),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Un(t.collectedStyles,t.currentQuerySelector,new Map);const a=Hn(this,Ql(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:X.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Jo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function KZ(){return new T(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:dp(e.timings,t.errors,!0);return{type:X.Stagger,animation:Hn(this,Ql(e.animation),t),timings:r,options:null}}}class N7{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jo(n){return n?(n={...n}).params&&(n.params=function O7(n){return n?{...n}:null}(n.params)):n={},n}function TE(n,e,t){return{duration:n,delay:e,easing:t}}function IE(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class mp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const B7=new RegExp(":enter","g"),H7=new RegExp(":leave","g");function SE(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return(new j7).buildKeyframes(n,e,t,r,i,o,s,a,c,l)}class j7{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new mp;const d=new DE(e,t,l,i,o,u,[]);d.options=c;const h=c.delay?Di(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),Hn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const v=f[m];if(v.element===t){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[IE(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:Di(Xl(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Di(r.duration):null,a=null!=r.delay?Di(r.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Hn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==X.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=gp);const s=Di(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Hn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Di(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Hn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return dp(t.params?Xl(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;o.type==X.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Di(i.delay):0;o&&(t.previousNode.type===X.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gp);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),Hn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;Hn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const gp={};class DE{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new vp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Di(r.duration)),null!=r.delay&&(i.delay=Di(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Xl(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new DE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=gp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new V7(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(B7,"."+this._enterClassName)).replace(H7,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function WZ(n){return new T(3014,!1)}()),a}}class vp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new vp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Si),this._currentKeyframe.set(t,Si);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function $7(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let o of r)t.set(o,Si)}else for(let[o,s]of i)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=Xl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Si),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{"!"===u?e.add(d):u===Si&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const o=[...e.values()],s=[...t.values()];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return IE(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class V7 extends vp{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",NF(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]);const f=h.get("offset");h.set("offset",NF((t+f*r)/s)),o.push(h)}r=s,t=0,i="",e=o}return IE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function NF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function xF(n,e,t,r,i,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const AE={};class PF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function z7(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||AE,p=this.buildStyles(r,a&&a.params||AE,d),m=c&&c.params||AE,v=this.buildStyles(i,m,d),b=new Set,y=new Map,R=new Map,x="void"===i,K={params:FF(m,h),delay:this.ast.options?.delay},pe=u?[]:SE(e,t,this.ast.animation,o,s,p,v,K,l,d);let Ie=0;return pe.forEach(it=>{Ie=Math.max(it.duration+it.delay,Ie)}),d.length?xF(t,this._triggerName,r,i,x,p,v,[],[],y,R,Ie,d):(pe.forEach(it=>{const oi=it.element,lo=Un(y,oi,new Set);it.preStyleProps.forEach(gs=>lo.add(gs));const $B=Un(R,oi,new Set);it.postStyleProps.forEach(gs=>$B.add(gs)),oi!==t&&b.add(oi)}),xF(t,this._triggerName,r,i,x,p,v,pe,[...b.values()],y,R,Ie))}}function FF(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class G7{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=FF(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Xl(s,i,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}}class K7{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new G7(i.style,i.options&&i.options.params||{},r))}),LF(this.states,"true","1"),LF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new PF(e,i,this.states))}),this.fallbackTransition=function W7(n,e,t){return new PF(n,{type:X.Transition,animation:{type:X.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function LF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Y7=new mp;class Q7{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=wE(this._driver,t,r,[]);if(r.length)throw function t7(n){return new T(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=bF(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=SE(this._driver,t,o,vE,cp,new Map,new Map,r,Y7,i),s.forEach(u=>{const d=Un(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function n7(){return new T(3300,!1)}()),s=[]),i.length)throw function r7(n){return new T(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Si))})});const l=Ji(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function i7(n){return new T(3301,!1)}();return t}listen(e,t,r,i){const o=hE(t,"","","");return uE(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const BF="ng-animate-queued",RE="ng-animate-disabled",tJ=[],UF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cr="__ng_removed";class ME{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function sJ(n){return n??null}(r?e.value:e),r){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Zl="void",kE=new ME(Zl);class rJ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,er(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function o7(n,e){return new T(3302,!1)}();if(null==r||0==r.length)throw function s7(n){return new T(3303,!1)}();if(!function aJ(n){return"start"==n||"done"==n}(r))throw function a7(n,e){return new T(3400,!1)}();const o=Un(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=Un(this._engine.statesByElement,e,new Map);return a.has(t)||(er(e,lp),er(e,lp+"-"+t),a.set(t,kE)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function c7(n){return new T(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new OE(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(er(e,lp),er(e,lp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new ME(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=kE),l.value!==Zl&&c.value===l.value){if(!function uJ(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const m=[],v=o.matchStyles(c.value,c.params,m),b=o.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Zo(e,v),Qr(e,b)})}return}const h=Un(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:p}),p||(er(e,BF),s.onStart(()=>{xa(e,BF)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const v=this._engine.playersByElement.get(e);if(v){let b=v.indexOf(s);b>=0&&v.splice(b,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,up,!0);r.forEach(i=>{if(i[Cr])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,Zl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ji(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||kE,u=new ME(Zl),d=new OE(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Cr];(!o||o===UF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){er(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=hE(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,uE(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class iJ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new rJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(_p(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!_p(t))return;const o=t[Cr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),er(e,RE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xa(e,RE))}removeNode(e,t,r){if(_p(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Cr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return _p(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,up,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_E,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ji(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Cr];if(t&&t.setForRemoval){if(e[Cr]=UF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(RE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)er(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ji(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function l7(n){return new T(3402,!1)}()}_flushAnimations(e,t){const r=new mp,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);const $=this.driver.query(U,".ng-animate-queued",!0);for(let W=0;W<$.length;W++)u.add($[W])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=VF(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((U,$)=>{const W=vE+m++;p.set($,W),U.forEach(ye=>er(ye,W))});const v=[],b=new Set,y=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){const $=this.collectedLeaveElements[U],W=$[Cr];W&&W.setForRemoval&&(v.push($),b.add($),W.hasAnimation?this.driver.query($,".ng-star-inserted",!0).forEach(ye=>b.add(ye)):y.add($))}const R=new Map,x=VF(h,Array.from(b));x.forEach((U,$)=>{const W=cp+m++;R.set($,W),U.forEach(ye=>er(ye,W))}),e.push(()=>{f.forEach((U,$)=>{const W=p.get($);U.forEach(ye=>xa(ye,W))}),x.forEach((U,$)=>{const W=R.get($);U.forEach(ye=>xa(ye,W))}),v.forEach(U=>{this.processLeaveNode(U)})});const K=[],pe=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(W=>{const ye=W.player,xt=W.element;if(K.push(ye),this.collectedEnterElements.length){const Jt=xt[Cr];if(Jt&&Jt.setForMove){if(Jt.previousTriggersValues&&Jt.previousTriggersValues.has(W.triggerName)){const vs=Jt.previousTriggersValues.get(W.triggerName),rr=this.statesByElement.get(W.element);if(rr&&rr.has(W.triggerName)){const xg=rr.get(W.triggerName);xg.value=vs,rr.set(W.triggerName,xg)}}return void ye.destroy()}}const si=!d||!this.driver.containsElement(d,xt),Gn=R.get(xt),uo=p.get(xt),et=this._buildInstruction(W,r,uo,Gn,si);if(et.errors&&et.errors.length)return void pe.push(et);if(si)return ye.onStart(()=>Zo(xt,et.fromStyles)),ye.onDestroy(()=>Qr(xt,et.toStyles)),void i.push(ye);if(W.isFallbackTransition)return ye.onStart(()=>Zo(xt,et.fromStyles)),ye.onDestroy(()=>Qr(xt,et.toStyles)),void i.push(ye);const qB=[];et.timelines.forEach(Jt=>{Jt.stretchStartingKeyframe=!0,this.disabledNodes.has(Jt.element)||qB.push(Jt)}),et.timelines=qB,r.append(xt,et.timelines),s.push({instruction:et,player:ye,element:xt}),et.queriedElements.forEach(Jt=>Un(a,Jt,[]).push(ye)),et.preStyleProps.forEach((Jt,vs)=>{if(Jt.size){let rr=c.get(vs);rr||c.set(vs,rr=new Set),Jt.forEach((xg,_I)=>rr.add(_I))}}),et.postStyleProps.forEach((Jt,vs)=>{let rr=l.get(vs);rr||l.set(vs,rr=new Set),Jt.forEach((xg,_I)=>rr.add(_I))})});if(pe.length){const U=[];pe.forEach($=>{U.push(function u7(n,e){return new T(3505,!1)}())}),K.forEach($=>$.destroy()),this.reportError(U)}const Ie=new Map,it=new Map;s.forEach(U=>{const $=U.element;r.has($)&&(it.set($,$),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Ie))}),i.forEach(U=>{const $=U.element;this._getPreviousPlayers($,!1,U.namespaceId,U.triggerName,null).forEach(ye=>{Un(Ie,$,[]).push(ye),ye.destroy()})});const oi=v.filter(U=>zF(U,c,l)),lo=new Map;jF(lo,this.driver,y,l,Si).forEach(U=>{zF(U,c,l)&&oi.push(U)});const gs=new Map;f.forEach((U,$)=>{jF(gs,this.driver,new Set(U),c,"!")}),oi.forEach(U=>{const $=lo.get(U),W=gs.get(U);lo.set(U,new Map([...$?.entries()??[],...W?.entries()??[]]))});const vI=[],zB=[],GB={};s.forEach(U=>{const{element:$,player:W,instruction:ye}=U;if(r.has($)){if(u.has($))return W.onDestroy(()=>Qr($,ye.toStyles)),W.disabled=!0,W.overrideTotalTime(ye.totalTime),void i.push(W);let xt=GB;if(it.size>1){let Gn=$;const uo=[];for(;Gn=Gn.parentNode;){const et=it.get(Gn);if(et){xt=et;break}uo.push(Gn)}uo.forEach(et=>it.set(et,xt))}const si=this._buildAnimation(W.namespaceId,ye,Ie,o,gs,lo);if(W.setRealPlayer(si),xt===GB)vI.push(W);else{const Gn=this.playersByElement.get(xt);Gn&&Gn.length&&(W.parentPlayer=Ji(Gn)),i.push(W)}}else Zo($,ye.fromStyles),W.onDestroy(()=>Qr($,ye.toStyles)),zB.push(W),u.has($)&&i.push(W)}),zB.forEach(U=>{const $=o.get(U.element);if($&&$.length){const W=Ji($);U.setRealPlayer(W)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<v.length;U++){const $=v[U],W=$[Cr];if(xa($,cp),W&&W.hasAnimation)continue;let ye=[];if(a.size){let si=a.get($);si&&si.length&&ye.push(...si);let Gn=this.driver.query($,_E,!0);for(let uo=0;uo<Gn.length;uo++){let et=a.get(Gn[uo]);et&&et.length&&ye.push(...et)}}const xt=ye.filter(si=>!si.destroyed);xt.length?cJ(this,$,xt):this.processLeaveNode($)}return v.length=0,vI.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();const $=this.players.indexOf(U);this.players.splice($,1)}),U.play()}),vI}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==Zl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=Un(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Zo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const v=m[Cr];if(v&&v.removedBeforeQueried)return new Yl(p.duration,p.delay);const b=m!==c,y=function lJ(n){const e=[];return $F(n,e),e}((r.get(m)||tJ).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===m),R=o.get(m),x=s.get(m),K=bF(this._normalizer,p.keyframes,R,x),pe=this._buildPlayer(p,K,y);if(p.subTimeline&&i&&d.add(m),b){const Ie=new OE(e,a,m);Ie.setRealPlayer(pe),l.push(Ie)}return pe});l.forEach(p=>{Un(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function oJ(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>er(p,SF));const f=Ji(h);return f.onDestroy(()=>{u.forEach(p=>xa(p,SF)),Qr(c,t.toStyles)}),d.forEach(p=>{Un(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Yl(e.duration,e.delay)}}class OE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Yl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>uE(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Un(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _p(n){return n&&1===n.nodeType}function HF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function jF(n,e,t,r,i){const o=[];t.forEach(c=>o.push(HF(c)));const s=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,i);u.set(d,h),(!h||0==h.length)&&(l[Cr]=nJ,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>HF(c,o[a++])),s}function VF(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function er(n,e){n.classList?.add(e)}function xa(n,e){n.classList?.remove(e)}function cJ(n,e,t){Ji(t).onDone(()=>n.processLeaveNode(e))}function $F(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof KP?$F(r.players,e):e.push(r)}}function zF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class Jl{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new iJ(e.body,t,r),this._timelineEngine=new Q7(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],u=wE(this._driver,o,c,[]);if(c.length)throw function JZ(n,e){return new T(3404,!1)}();a=function q7(n,e,t){return new K7(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=CF(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=CF(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class eu{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=eu.initialStylesByElement.get(e);i||eu.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Qr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qr(this._element,this._initialStyles),this._endStyles&&(Qr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(eu.initialStylesByElement.delete(this._element),this._startStyles&&(Zo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zo(this._element,this._endStyles),this._endStyles=null),Qr(this._element,this._initialStyles),this._state=3)}}function NE(n){let e=null;return n.forEach((t,r)=>{(function hJ(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class GF{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:EE(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class qF{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return wF(e,t)}getParentElement(e){return fE(e)}query(e,t,r){return TF(e,t,r)}computeStyle(e,t,r){return EE(e,t)}animate(e,t,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof GF);(function w7(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>l.set(m,p))});let d=function b7(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));d=function T7(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,EE(n,a)))}}return e}(e,d,l);const h=function dJ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=NE(e[0]),e.length>1&&(r=NE(e[e.length-1]))):e instanceof Map&&(t=NE(e)),t||r?new eu(n,t,r):null}(e,d);return new GF(e,d,c,h)}}const KF="@.disabled";class WF{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==KF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class fJ extends WF{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==KF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function pJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function mJ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class gJ{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{const s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let u=l.get(i);return u||(u=new WF("",i,this.engine,()=>l.delete(i)),l.set(i,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new fJ(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const YF=[{provide:gE,useFactory:function _J(){return new RF}},{provide:Jl,useClass:(()=>{class n extends Jl{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(C(ce),C(mE),C(gE))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})()},{provide:Ih,useFactory:function yJ(n,e,t){return new gJ(n,e,t)},deps:[Gb,Jl,z]}],xE=[{provide:mE,useFactory:()=>new qF},{provide:fi,useValue:"BrowserAnimations"},...YF],QF=[{provide:mE,useClass:pE},{provide:fi,useValue:"NoopAnimations"},...YF];let XF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?QF:xE}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({providers:xE,imports:[qN]})}return n})();function tu(n,e){const t=be(n)?n:()=>n,r=i=>i.error(t());return new Xe(e?i=>e.schedule(r,0,i):r)}function Ai(n){return st((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Ze(t,void 0,void 0,s=>{o=fn(n(s,Ai(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function bp(n){return st((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}let DJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({imports:[Qt,Qt]})}return n})();const wp=$g(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pn(n,e){return st((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Ze(r,c=>{i?.unsubscribe();let l=0;const u=o++;fn(n(c,u)).subscribe(i=Ze(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Tp(n){return st((e,t)=>{let r=!1;e.subscribe(Ze(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function nL(n=AJ){return st((e,t)=>{let r=!1;e.subscribe(Ze(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function AJ(){return new wp}function ts(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ye((i,o)=>n(i,o,r)):Oi,Bn(1),t?Tp(e):nL(()=>new wp))}function LE(n){return n<=0?()=>Zn:st((e,t)=>{let r=[];e.subscribe(Ze(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const oe="primary",ru=Symbol("RouteTitle");class NJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pa(n){return new NJ(n)}function xJ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xr(n,e){const t=n?BE(n):void 0,r=e?BE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!rL(n[i],e[i]))return!1;return!0}function BE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function iL(n){return n.length>0?n[n.length-1]:null}function eo(n){return SC(n)?n:tf(n)?Me(Promise.resolve(n)):P(n)}const FJ={exact:function aL(n,e,t){if(!rs(n.segments,e.segments)||!Ip(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!aL(n.children[r],e.children[r],t))return!1;return!0},subset:cL},oL={exact:function LJ(n,e){return Xr(n,e)},subset:function BJ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rL(n[t],e[t]))},ignored:()=>!0};function sL(n,e,t){return FJ[t.paths](n.root,e.root,t.matrixParams)&&oL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cL(n,e,t){return lL(n,e,e.segments,t)}function lL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!rs(i,t)||e.hasChildren()||!Ip(i,t,r))}if(n.segments.length===t.length){if(!rs(n.segments,t)||!Ip(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!cL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(rs(n.segments,i)&&Ip(n.segments,i,r)&&n.children[oe])&&lL(n.children[oe],e,o,r)}}function Ip(n,e,t){return e.every((r,i)=>oL[t](n[i].parameters,r.parameters))}class ns{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Pa(this.queryParams),this._queryParamMap}toString(){return jJ.serialize(this)}}class xe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dp(this)}}class iu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Pa(this.parameters),this._parameterMap}toString(){return hL(this)}}function rs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Fa=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:()=>new Sp,providedIn:"root"})}return n})();class Sp{parse(e){const t=new ZJ(e);return new ns(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ou(e.root,!0)}`,r=function zJ(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ap(t)}=${Ap(i)}`).join("&"):`${Ap(t)}=${Ap(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function VJ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jJ=new Sp;function Dp(n){return n.segments.map(e=>hL(e)).join("/")}function ou(n,e){if(!n.hasChildren())return Dp(n);if(e){const t=n.children[oe]?ou(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${ou(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function HJ(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===oe?[ou(n.children[oe],!1)]:[`${i}:${ou(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[oe]?`${Dp(n)}/${t[0]}`:`${Dp(n)}/(${t.join("//")})`}}function uL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ap(n){return uL(n).replace(/%3B/gi,";")}function UE(n){return uL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rp(n){return decodeURIComponent(n)}function dL(n){return Rp(n.replace(/\+/g,"%20"))}function hL(n){return`${UE(n.path)}${function $J(n){return Object.entries(n).map(([e,t])=>`;${UE(e)}=${UE(t)}`).join("")}(n.parameters)}`}const GJ=/^[^\/()?;#]+/;function HE(n){const e=n.match(GJ);return e?e[0]:""}const qJ=/^[^\/()?;=#]+/,WJ=/^[^=?&#]+/,QJ=/^[^&#]+/;class ZJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new xe(e,t)),r}parseSegment(){const e=HE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new iu(Rp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function KJ(n){const e=n.match(qJ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=HE(this.remaining);i&&(r=i,this.capture(r))}e[Rp(t)]=Rp(r)}parseQueryParam(e){const t=function YJ(n){const e=n.match(WJ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function XJ(n){const e=n.match(QJ);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=dL(t),o=dL(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=HE(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[oe]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function fL(n){return n.segments.length>0?new xe([],{[oe]:n}):n}function pL(n){const e={};for(const[r,i]of Object.entries(n.children)){const o=pL(i);if(r===oe&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function JJ(n){if(1===n.numberOfChildren&&n.children[oe]){const e=n.children[oe];return new xe(n.segments.concat(e.segments),e.children)}return n}(new xe(n.segments,e))}function is(n){return n instanceof ns}function mL(n){let e;const i=fL(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new xe(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function gL(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return jE(i,i,i,t,r);const o=function tee(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _L(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new _L(t,e,r)}(e);if(o.toRoot())return jE(i,i,new xe([],{}),t,r);const s=function nee(n,e,t){if(n.isAbsolute)return new kp(e,!0,0);if(!t)return new kp(e,!1,NaN);if(null===t.parent)return new kp(t,!0,0);const r=Mp(n.commands[0])?0:1;return function ree(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new kp(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?au(s.segmentGroup,s.index,o.commands):yL(s.segmentGroup,s.index,o.commands);return jE(i,s.segmentGroup,a,t,r)}function Mp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function su(n){return"object"==typeof n&&null!=n&&n.outlets}function jE(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:vL(n,e,t);const a=fL(pL(s));return new ns(a,o,i)}function vL(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:vL(o,e,t)}),new xe(n.segments,r)}class _L{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Mp(r[0]))throw new T(4003,!1);const i=r.find(su);if(i&&i!==iL(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yL(n,e,t){if(n??=new xe([],{}),0===n.segments.length&&n.hasChildren())return au(n,e,t);const r=function oee(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(su(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!CL(c,l,s))return o;r+=2}else{if(!CL(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new xe(n.segments.slice(r.pathIndex),n.children),au(o,0,i)}return r.match&&0===i.length?new xe(n.segments,{}):r.match&&!n.hasChildren()?VE(n,e,t):r.match?au(n,0,i):VE(n,e,t)}function au(n,e,t){if(0===t.length)return new xe(n.segments,{});{const r=function iee(n){return su(n[0])?n[0].outlets:{[oe]:n}}(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&1===n.numberOfChildren&&0===n.children[oe].segments.length){const o=au(n.children[oe],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=yL(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new xe(n.segments,i)}}function VE(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(su(o)){const c=see(o.outlets);return new xe(r,c)}if(0===i&&Mp(t[0])){r.push(new iu(n.segments[e].path,bL(t[0]))),i++;continue}const s=su(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Mp(a)?(r.push(new iu(s,bL(a))),i+=2):(r.push(new iu(s,{})),i++)}return new xe(r,{})}function see(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=VE(new xe([],{}),0,r))}),e}function bL(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function CL(n,e,t){return n==t.path&&Xr(e,t.parameters)}const cu="imperative";var me=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(me||{});class Zr{constructor(e,t){this.id=e,this.url=t}}class Op extends Zr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=me.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ri extends Zr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=me.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var jn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(jn||{}),Np=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Np||{});class os extends Zr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=me.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class La extends Zr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=me.NavigationSkipped}}class $E extends Zr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=me.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EL extends Zr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=me.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aee extends Zr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=me.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cee extends Zr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=me.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lee extends Zr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=me.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uee extends Zr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=me.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dee{constructor(e){this.route=e,this.type=me.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hee{constructor(e){this.route=e,this.type=me.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fee{constructor(e){this.snapshot=e,this.type=me.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pee{constructor(e){this.snapshot=e,this.type=me.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mee{constructor(e){this.snapshot=e,this.type=me.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gee{constructor(e){this.snapshot=e,this.type=me.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=me.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zE{}class xp{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}}function Er(n){return n.outlet||oe}function lu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Eee{get injector(){return lu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new uu(this.rootInjector),this.attachRef=null}}let uu=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Eee(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)(C(en))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class TL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=GE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=GE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qE(e,this._root).map(t=>t.value)}}function GE(n,e){if(n===e.value)return e;for(const t of e.children){const r=GE(n,t);if(r)return r}return null}function qE(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qE(n,t);if(r.length)return r.unshift(e),r}return[]}class wr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ba(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IL extends TL{constructor(e,t){super(e),this.snapshot=t,KE(this,e)}toString(){return this.snapshot.toString()}}function SL(n){const e=function wee(n){const o=new Fp([],{},{},"",{},oe,n,null,{});return new DL("",new wr(o,[]))}(n),t=new kt([new iu("",{})]),r=new kt({}),i=new kt({}),o=new kt({}),s=new kt(""),a=new Ua(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new IL(new wr(a,[]),e)}class Ua{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(l=>l[ru]))??P(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Pa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Pa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pp(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&RL(i)&&(r.resolve[ru]=i.title),r}class Fp{get title(){return this.data?.[ru]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pa(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DL extends TL{constructor(e,t){super(t),this.url=e,KE(this,t)}toString(){return AL(this._root)}}function KE(n,e){e.value._routerState=n,e.children.forEach(t=>KE(n,t))}function AL(n){const e=n.children.length>0?` { ${n.children.map(AL).join(", ")} } `:"";return`${n.value}${e}`}function WE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Xr(e.params,t.params)||n.paramsSubject.next(t.params),function PJ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Xr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function YE(n,e){const t=Xr(n.params,e.params)&&function UJ(n,e){return rs(n,e)&&n.every((t,r)=>Xr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||YE(n.parent,e.parent))}function RL(n){return"string"==typeof n.title||null===n.title}let QE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=w(uu),this.location=w(Ut),this.changeDetector=w(Ta),this.inputBinder=w(Lp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new XE(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=F({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]})}return n})();class XE{__ngOutletInjector(e){return new XE(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ua?this.route:e===uu?this.childContexts:this.parent.get(e,t)}}const Lp=new D("");let ML=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Ko([r.queryParams,r.params,r.data]).pipe(pn(([o,s,a],c)=>(a={...o,...s,...a},0===c?P(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function dW(n){const e=le(n);if(!e)return null;const t=new sl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function du(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Iee(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return du(n,r,i);return du(n,r)})}(n,e,t);return new wr(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>du(n,a)),s}}const r=function See(n){return new Ua(new kt(n.url),new kt(n.params),new kt(n.queryParams),new kt(n.fragment),new kt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>du(n,o));return new wr(r,i)}}class ZE{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}}const kL="ngNavigationCancelingError";function Bp(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=OL(!1,jn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function OL(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[kL]=!0,t.cancellationCode=e,t}function NL(n){return!!n&&n[kL]}class Ree{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),WE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ba(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ba(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ba(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ba(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gee(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pee(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(WE(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),WE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class xL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Up{constructor(e,t){this.component=e,this.route=t}}function Mee(n,e,t){const r=n._root;return hu(r,e?e._root:null,t,[r.value])}function Ha(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function CH(n){return null!==dd(n)}(n)?e.get(n):n:r}function hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ba(e);return n.children.forEach(s=>{(function Oee(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Nee(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(n.url,e.url)||!Xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YE(n,e)||!Xr(n.queryParams,e.queryParams);default:return!YE(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new xL(r)):(o.data=s.data,o._resolvedData=s._resolvedData),hu(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Up(a.outlet.component,s))}else s&&fu(e,a,i),i.canActivateChecks.push(new xL(r)),hu(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fu(a,t.getContext(s),i)),i}function fu(n,e,t){const r=Ba(n),i=n.value;Object.entries(r).forEach(([o,s])=>{fu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Up(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function pu(n){return"function"==typeof n}function PL(n){return n instanceof wp||"EmptyError"===n?.name}const Hp=Symbol("INITIAL_VALUE");function ja(){return pn(n=>Ko(n.map(e=>e.pipe(Bn(1),jf(Hp)))).pipe(Z(e=>{for(const t of e)if(!0!==t){if(t===Hp)return Hp;if(!1===t||Hee(t))return t}return!0}),Ye(e=>e!==Hp),Bn(1)))}function Hee(n){return is(n)||n instanceof ZE}function FL(n){return function dU(...n){return NI(n)}(At(e=>{if("boolean"!=typeof e)throw Bp(0,e)}),Z(e=>!0===e))}class JE{constructor(e){this.segmentGroup=e||null}}class jp extends Error{constructor(e){super(),this.urlTree=e}}function Va(n){return tu(new JE(n))}class Jee{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return P(r);if(i.numberOfChildren>1||!i.children[oe])return tu(new T(4e3,!1));i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){if("string"!=typeof t){const a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=i,v=Nr(o,()=>a({params:f,data:p,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:m}));if(v instanceof ns)throw new jp(v);t=v}const s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if("/"===t[0])throw new jp(s);return s}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ns(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const ew={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ete(n,e,t,r,i){const o=tw(n,e,t);return o.matched?(r=function vee(n,e){return n.providers&&!n._injector&&(n._injector=Nh(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Qee(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?P(i.map(s=>{const a=Ha(s,n);return eo(function Uee(n){return n&&pu(n.canMatch)}(a)?a.canMatch(e,t):Nr(n,()=>a(e,t)))})).pipe(ja(),FL()):P(!0)}(r,e,t).pipe(Z(s=>!0===s?o:{...ew}))):P(o)}function tw(n,e,t){if("**"===e.path)return function tte(n){return{matched:!0,parameters:n.length>0?iL(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ew}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||xJ)(t,n,e);if(!i)return{...ew};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function LL(n,e,t,r){return t.length>0&&function ite(n,e,t){return t.some(r=>Vp(n,e,r)&&Er(r)!==oe)}(n,t,r)?{segmentGroup:new xe(e,rte(r,new xe(t,n.children))),slicedSegments:[]}:0===t.length&&function ote(n,e,t){return t.some(r=>Vp(n,e,r))}(n,t,r)?{segmentGroup:new xe(n.segments,nte(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function nte(n,e,t,r){const i={};for(const o of t)if(Vp(n,e,o)&&!r[Er(o)]){const s=new xe([],{});i[Er(o)]=s}return{...r,...i}}function rte(n,e){const t={};t[oe]=e;for(const r of n)if(""===r.path&&Er(r)!==oe){const i=new xe([],{});t[Er(r)]=i}return t}function Vp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class cte{}class dte{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jee(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new T(4002,`'${e.segmentGroup}'`)}recognize(){const e=LL(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:t,rootSnapshot:r})=>{const i=new wr(r,t),o=new DL("",i),s=function eee(n,e,t=null,r=null){return gL(mL(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const t=new Fp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(Z(r=>({children:r,rootSnapshot:t})),Ai(r=>{if(r instanceof jp)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof JE?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Z(s=>s instanceof wr?[s]:[]))}processChildren(e,t,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Me(o).pipe(Qi(s=>{const a=r.children[s],c=function Cee(n,e){const t=n.filter(r=>Er(r)===e);return t.push(...n.filter(r=>Er(r)!==e)),t}(t,s);return this.processSegmentGroup(e,c,a,s,i)}),function MJ(n,e){return st(function RJ(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Ze(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Tp(null),function kJ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ye((i,o)=>n(i,o,r)):Oi,LE(1),t?Tp(e):nL(()=>new wp))}(),Vt(s=>{if(null===s)return Va(r);const a=BL(s);return function hte(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}(a),P(a)}))}processSegment(e,t,r,i,o,s,a){return Me(t).pipe(Qi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Ai(l=>{if(l instanceof JE)return P(null);throw l}))),ts(c=>!!c),Ai(c=>{if(PL(c))return function ate(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?P(new cte):Va(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return function ste(n,e,t,r){return!!(Er(n)===r||r!==oe&&Vp(e,t,n))&&tw(e,n,t).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Va(i):Va(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){const{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=tw(t,i,o);if(!c)return Va(t);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=new Fp(o,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UL(i),Er(i),i.component??i._loadedComponent??null,i,HL(i)),p=Pp(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);const m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(Vt(v=>this.processSegment(e,r,t,v.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){const a=ete(t,r,i,e);return"**"===r.path&&(t.children={}),a.pipe(pn(c=>c.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(pn(({routes:l})=>{const u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new Fp(h,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UL(r),Er(r),r.component??r._loadedComponent??null,r,HL(r)),m=Pp(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);const{segmentGroup:v,slicedSegments:b}=LL(t,h,f,l);if(0===b.length&&v.hasChildren())return this.processChildren(u,l,v,p).pipe(Z(R=>new wr(p,R)));if(0===l.length&&0===b.length)return P(new wr(p,[]));const y=Er(r)===o;return this.processSegment(u,l,v,b,y?oe:o,!0,p).pipe(Z(R=>new wr(p,R instanceof wr?[R]:[])))})):Va(t)))}getChildConfig(e,t,r){return t.children?P({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?P({routes:t._loadedRoutes,injector:t._loadedInjector}):function Yee(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?P(!0):P(i.map(s=>{const a=Ha(s,n);return eo(function Pee(n){return n&&pu(n.canLoad)}(a)?a.canLoad(e,t):Nr(n,()=>a(e,t)))})).pipe(ja(),FL())}(e,t,r).pipe(Vt(i=>i?this.configLoader.loadChildren(e,t).pipe(At(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Zee(n){return tu(OL(!1,jn.GuardRejected))}())):P({routes:[],injector:e})}}function fte(n){const e=n.value.routeConfig;return e&&""===e.path}function BL(n){const e=[],t=new Set;for(const r of n){if(!fte(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=BL(r.children);e.push(new wr(r.value,i))}return e.filter(r=>!t.has(r))}function UL(n){return n.data||{}}function HL(n){return n.resolve||{}}function jL(n){const e=n.children.map(t=>jL(t)).flat();return[n,...e]}function nw(n){return pn(e=>{const t=n(e);return t?Me(t).pipe(Z(()=>e)):P(e)})}let VL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[ru]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:()=>w(yte),providedIn:"root"})}return n})(),yte=(()=>{class n extends VL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(C(F5))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $a=new D("",{providedIn:"root",factory:()=>({})});let $L=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ge({type:n,selectors:[["ng-component"]],standalone:!0,features:[gt],decls:1,vars:0,template:function(r,i){1&r&&Fn(0,"router-outlet")},dependencies:[QE],encapsulation:2})}return n})();function rw(n){const e=n.children&&n.children.map(rw),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=$L),t}const za=new D("");let iw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(hO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return P(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=eo(t.loadComponent()).pipe(Z(zL),At(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bp(()=>{this.componentLoaders.delete(t)})),i=new IC(r,()=>new re).pipe(TC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return P({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function bte(n,e,t,r){return eo(n.loadChildren()).pipe(Z(zL),Vt(i=>i instanceof DM||Array.isArray(i)?P(i):Me(e.compileModuleAsync(i))),Z(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(za,[],{optional:!0,self:!0}).flat()),{routes:s.map(rw),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(bp(()=>{this.childrenLoaders.delete(r)})),s=new IC(o,()=>new re).pipe(TC());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zL(n){return function Cte(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ow=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:()=>w(Ete),providedIn:"root"})}return n})(),Ete=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GL=new D(""),qL=new D("");function wte(n,e,t){const r=n.get(qL),i=n.get(ce);return n.get(z).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o;const s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),function Tte(n){return new Promise(e=>{Js({read:()=>setTimeout(e)},{injector:n})})}(n))),{onViewTransitionCreated:c}=r;return c&&Nr(n,()=>c({transition:a,from:e,to:t})),s})}const KL=new D("");let $p=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=w(iw),this.environmentInjector=w(en),this.urlSerializer=w(Fa),this.rootContexts=w(uu),this.location=w(Kr),this.inputBindingEnabled=null!==w(Lp,{optional:!0}),this.titleStrategy=w(VL),this.options=w($a,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(ow),this.createViewTransition=w(GL,{optional:!0}),this.navigationErrorHandler=w(KL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hee(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dee(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new kt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:cu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ye(o=>0!==o.id),Z(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pn(o=>{let s=!1,a=!1;return P(o).pipe(pn(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",jn.SupersededByNewNavigation),Zn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new La(c.id,this.urlSerializer.serialize(c.rawUrl),d,Np.IgnoredSameUrlNavigation)),c.resolve(!1),Zn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return P(c).pipe(pn(d=>{const h=this.transitions?.getValue();return this.events.next(new Op(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Zn:Promise.resolve(d)}),function pte(n,e,t,r,i,o){return Vt(s=>function lte(n,e,t,r,i,o,s="emptyOnly"){return new dte(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),At(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new EL(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=c,v=new Op(d,this.urlSerializer.serialize(h),f,p);this.events.next(v);const b=SL(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:b,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,P(o)}{const d="";return this.events.next(new La(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Np.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Zn}}),At(c=>{const l=new aee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Z(c=>(this.currentTransition=o={...c,guards:Mee(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function jee(n,e){return Vt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?P({...t,guardsResult:!0}):function Vee(n,e,t,r){return Me(n).pipe(Vt(i=>function Wee(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?P(o.map(a=>{const c=lu(e)??i,l=Ha(a,c);return eo(function Bee(n){return n&&pu(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):Nr(c,()=>l(n,e,t,r))).pipe(ts())})).pipe(ja()):P(!0)}(i.component,i.route,t,e,r)),ts(i=>!0!==i,!0))}(s,r,i,n).pipe(Vt(a=>a&&function xee(n){return"boolean"==typeof n}(a)?function $ee(n,e,t,r){return Me(e).pipe(Qi(i=>Hf(function Gee(n,e){return null!==n&&e&&e(new fee(n)),P(!0)}(i.route.parent,r),function zee(n,e){return null!==n&&e&&e(new mee(n)),P(!0)}(i.route,r),function Kee(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function kee(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>op(()=>P(s.guards.map(c=>{const l=lu(s.node)??t,u=Ha(c,l);return eo(function Lee(n){return n&&pu(n.canActivateChild)}(u)?u.canActivateChild(r,n):Nr(l,()=>u(r,n))).pipe(ts())})).pipe(ja())));return P(o).pipe(ja())}(n,i.path,t),function qee(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return P(!0);const i=r.map(o=>op(()=>{const s=lu(e)??t,a=Ha(o,s);return eo(function Fee(n){return n&&pu(n.canActivate)}(a)?a.canActivate(e,n):Nr(s,()=>a(e,n))).pipe(ts())}));return P(i).pipe(ja())}(n,i.route,t))),ts(i=>!0!==i,!0))}(r,o,n,e):P(a)),Z(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),At(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw Bp(0,c.guardsResult);const l=new cee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ye(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",jn.GuardRejected),!1)),nw(c=>{if(c.guards.canActivateChecks.length)return P(c).pipe(At(l=>{const u=new lee(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),pn(l=>{let u=!1;return P(l).pipe(function mte(n,e){return Vt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return P(t);const o=new Set(i.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of jL(c))s.add(l);let a=0;return Me(s).pipe(Qi(c=>o.has(c)?function gte(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!RL(i)&&(o[ru]=i.title),function vte(n,e,t,r){const i=BE(n);if(0===i.length)return P({});const o={};return Me(i).pipe(Vt(s=>function _te(n,e,t,r){const i=lu(e)??r,o=Ha(n,i);return eo(o.resolve?o.resolve(e,t):Nr(i,()=>o(e,t)))}(n[s],e,t,r).pipe(ts(),At(a=>{if(a instanceof ZE)throw Bp(new Sp,a);o[s]=a}))),LE(1),function OJ(n){return Z(()=>n)}(o),Ai(s=>PL(s)?Zn:tu(s)))}(o,n,e,r).pipe(Z(s=>(n._resolvedData=s,n.data=Pp(n,n.parent,t).resolve,null)))}(c,r,n,e):(c.data=Pp(c,c.parent,n).resolve,P(void 0))),At(()=>a++),LE(1),Vt(c=>a===s.size?P(t):Zn))})}(this.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",jn.NoDataFromResolver)}}))}),At(l=>{const u=new uee(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),nw(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(At(h=>{u.component=h}),Z(()=>{})));for(const h of u.children)d.push(...l(h));return d};return Ko(l(c.targetSnapshot.root)).pipe(Tp(null),Bn(1))}),nw(()=>this.afterPreactivation()),pn(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Me(u).pipe(Z(()=>o)):P(o)}),Z(c=>{const l=function Tee(n,e,t){const r=du(n,e._root,t?t._root:void 0);return new IL(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),At(()=>{this.events.next(new zE)}),((n,e,t,r)=>Z(i=>(new Ree(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Bn(1),At({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ri(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),_r(this.transitionAbortSubject.pipe(At(c=>{throw c}))),bp(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",jn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ai(c=>{if(a=!0,NL(c))this.events.next(new os(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Dee(n){return NL(n)&&is(n.url)}(c)?this.events.next(new xp(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{const l=new $E(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{const u=Nr(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof ZE){const{message:d,cancellationCode:h}=Bp(0,u);this.events.next(new os(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new xp(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);const d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Zn}))}))}cancelNavigationTransition(t,r,i){const o=new os(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ite(n){return n!==cu}let Ste=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:()=>w(Ate),providedIn:"root"})}return n})();class Dte{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Ate=(()=>{class n extends Dte{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:()=>w(Rte),providedIn:"root"})}return n})(),Rte=(()=>{class n extends WL{constructor(){super(...arguments),this.location=w(Kr),this.urlSerializer=w(Fa),this.options=w($a,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(ow),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ns,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=SL(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Op)this.stateMemento=this.createStateMemento();else if(t instanceof La)this.rawUrlTree=r.initialUrl;else if(t instanceof EL){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof zE?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof os&&(t.code===jn.GuardRejected||t.code===jn.NoDataFromResolver)?this.restoreHistory(r):t instanceof $E?this.restoreHistory(r,!0):t instanceof Ri&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=t instanceof ns?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ct(n)))(i||n)}})();static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(mu||{});function YL(n,e){n.events.pipe(Ye(t=>t instanceof Ri||t instanceof os||t instanceof $E||t instanceof La),Z(t=>t instanceof Ri||t instanceof La?mu.COMPLETE:t instanceof os&&(t.code===jn.Redirect||t.code===jn.SupersededByNewNavigation)?mu.REDIRECTING:mu.FAILED),Ye(t=>t!==mu.REDIRECTING),Bn(1)).subscribe(()=>{e()})}function Mte(n){throw n}const kte={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ote={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=w(tO),this.stateManager=w(WL),this.options=w($a,{optional:!0})||{},this.pendingTasks=w(So),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w($p),this.urlSerializer=w(Fa),this.location=w(Kr),this.urlHandlingStrategy=w(ow),this._events=new re,this.errorHandler=this.options.errorHandler||Mte,this.navigated=!1,this.routeReuseStrategy=w(Ste),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(za,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Lp,{optional:!0}),this.eventsSubscription=new ht,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof os&&r.code!==jn.Redirect&&r.code!==jn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ri)this.navigated=!0;else if(r instanceof xp){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ite(i.source),...s};this.scheduleNavigation(a,cu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function xte(n){return!(n instanceof zE||n instanceof xp)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=mL(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),d=this.currentUrlTree.root}return gL(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=is(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,cu,null,r)}navigate(t,r={skipLocationChange:!1}){return function Nte(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new T(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...kte}:!1===r?{...Ote}:r,is(t))return sL(this.currentUrlTree,t,i);const o=this.parseUrl(t);return sL(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return YL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zp=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=is(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function DA(n,e,t){return function BV(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?SA:IA}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.routerLinkInput?null:is(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(E(Tr),E(Ua),Us("tabindex"),E(Sh),E(Re),E($o))};static#t=this.\u0275dir=F({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&jo("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Gi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",dn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",dn],replaceUrl:[2,"replaceUrl","replaceUrl",dn],routerLink:"routerLink"},standalone:!0,features:[jr,lr]})}return n})();class QL{}let Lte=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ye(t=>t instanceof Ri),Qi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Nh(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(Ma())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):P(null);const o=i.pipe(Vt(s=>null===s?P(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Me([o,this.loader.loadComponent(r)]).pipe(Ma()):o})}static#e=this.\u0275fac=function(r){return new(r||n)(C(Tr),C(hO),C(en),C(QL),C(iw))};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sw=new D("");let XL=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Op?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ri?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof La&&t.code===Np.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){ph()};static#t=this.\u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function Jr(n,e){return{\u0275kind:n,\u0275providers:e}}function JL(){const n=w(Se);return e=>{const t=n.get(Yn);if(e!==t.components[0])return;const r=n.get(Tr),i=n.get(e1);1===n.get(aw)&&r.initialNavigation(),n.get(t1,null,de.Optional)?.setUpPreloading(),n.get(sw,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const e1=new D("",{factory:()=>new re}),aw=new D("",{providedIn:"root",factory:()=>1}),t1=new D("");function jte(n){return Jr(0,[{provide:t1,useExisting:Lte},{provide:QL,useExisting:n}])}function $te(n){return Jr(9,[{provide:GL,useValue:wte},{provide:qL,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const n1=new D("ROUTER_FORROOT_GUARD"),zte=[Kr,{provide:Fa,useClass:Sp},Tr,uu,{provide:Ua,useFactory:function ZL(n){return n.routerState.root},deps:[Tr]},iw,[]];let r1=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zte,[],{provide:za,multi:!0,useValue:t},{provide:n1,useFactory:Wte,deps:[[Tr,new go,new yc]]},{provide:$a,useValue:r||{}},r?.useHash?{provide:$o,useClass:gW}:{provide:$o,useClass:aN},{provide:sw,useFactory:()=>{const n=w(xY),e=w(z),t=w($a),r=w($p),i=w(Fa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new XL(i,r,n,e,t)}},r?.preloadingStrategy?jte(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Yte(r):[],r?.bindToComponentInputs?Jr(8,[ML,{provide:Lp,useExisting:ML}]).\u0275providers:[],r?.enableViewTransitions?$te().\u0275providers:[],[{provide:o1,useFactory:JL},{provide:rf,multi:!0,useExisting:o1}]]}}static forChild(t){return{ngModule:n,providers:[{provide:za,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(C(n1,8))};static#t=this.\u0275mod=Pe({type:n});static#n=this.\u0275inj=Ne({})}return n})();function Wte(n){return"guarded"}function Yte(n){return["disabled"===n.initialNavigation?Jr(3,[{provide:nf,multi:!0,useFactory:()=>{const e=w(Tr);return()=>{e.setUpLocationChangeListener()}}},{provide:aw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Jr(2,[{provide:aw,useValue:0},{provide:nf,multi:!0,deps:[Se],useFactory:e=>{const t=e.get(pW,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Tr),o=e.get(e1);YL(i,()=>{r(!0)}),e.get($p).afterPreactivation=()=>(r(!0),o.closed?P(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const o1=new D(""),S={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},gu=[S.OPENID_SCOPE,S.PROFILE_SCOPE,S.OFFLINE_ACCESS_SCOPE],s1=[...gu,S.EMAIL_SCOPE],mn={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Gp={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},zt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},c1={PLAIN:"plain",S256:"S256"},l1={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},qp={QUERY:"query",FRAGMENT:"fragment"},Xte={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},Xt={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},ie={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},cw="appmetadata",Zte="client_info",Gt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ke={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},qa="unexpected_error",Yp={[qa]:"Unexpected error in authentication.",post_request_failed:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class $e extends Error{constructor(e,t,r){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,$e.prototype),this.errorCode=e||S.EMPTY_STRING,this.errorMessage=t||S.EMPTY_STRING,this.subError=r||S.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function dw(n,e){return new $e(n,e?`${Yp[n]} ${e}`:Yp[n])}const Qp="redirect_uri_empty",Xp="authority_uri_insecure",as="url_parse_error",Zp="empty_url_error",Jp="empty_input_scopes_error",em="invalid_prompt_value",Ka="invalid_claims",tm="token_request_empty",nm="logout_request_empty",rm="invalid_code_challenge_method",Wa="pkce_params_missing",yu="invalid_cloud_discovery_metadata",im="invalid_authority_metadata",om="untrusted_authority",Ya="missing_ssh_jwk",sm="missing_ssh_kid",am="cannot_set_OIDCOptions",cm="cannot_allow_platform_broker",lm="authority_mismatch",Je={[Qp]:"A redirect URI is required for all calls, and none has been set.",claims_request_parsing_error:"Could not parse the given claims request object.",[Xp]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[as]:"URL could not be parsed into appropriate segments.",[Zp]:"URL was empty or null.",[Jp]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[em]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Ka]:"Given claims parameter must be a stringified JSON object.",[tm]:"Token request was empty and not found in cache.",[nm]:"The logout request was null or undefined.",[rm]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Wa]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[yu]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[im]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[om]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Ya]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[sm]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",missing_nonce_authentication_header:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",invalid_authentication_header:"Invalid authentication header provided",[am]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[cm]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[lm]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class mw extends $e{constructor(e){super(e,Je[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,mw.prototype)}}function Oe(n){return new mw(n)}class Ir{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch{}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},r=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){const[s,a]=o.split(/=(.+)/g,2);s&&a&&(t[i(s)]=i(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}const bu="client_info_decoding_error",um="client_info_empty_error",Cu="token_parsing_error",dm="null_or_empty_token",Sr="endpoints_resolution_error",hm="network_error",fm="openid_config_error",pm="hash_not_deserialized",ro="invalid_state",mm="state_mismatch",Eu="state_not_found",gm="nonce_mismatch",wu="auth_time_not_found",vm="max_age_transpired",_m="multiple_matching_appMetadata",ym="request_cannot_be_made",bm="cannot_remove_empty_scope",Cm="cannot_append_scopeset",Tu="empty_input_scopeset",Iu="no_account_in_silent_request",Em="invalid_cache_record",Su="invalid_cache_environment",Du="no_account_found",Au="no_crypto_object",Ru="unexpected_credential_type",ei="token_refresh_required",wm="token_claims_cnf_required_for_signedjwt",Tm="authorization_code_missing_from_server_response",Im="binding_key_not_removed",Sm="end_session_endpoint_not_supported",Mu="key_id_missing",fe="method_not_implemented",ne={[bu]:"The client info could not be parsed/decoded correctly",[um]:"The client info was empty",[Cu]:"Token cannot be parsed",[dm]:"The token is null or empty",[Sr]:"Endpoints cannot be resolved",[hm]:"Network request failed",[fm]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[pm]:"The hash parameters could not be deserialized",[ro]:"State was not the expected format",[mm]:"State mismatch error",[Eu]:"State not found",[gm]:"Nonce mismatch error",[wu]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[vm]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",multiple_matching_tokens:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",multiple_matching_accounts:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[_m]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[ym]:"Token request cannot be made without authorization code or refresh token.",[bm]:"Cannot remove null or empty scope from ScopeSet",[Cm]:"Cannot append ScopeSet",[Tu]:"Empty input ScopeSet cannot be processed",device_code_polling_cancelled:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",device_code_expired:"Device code is expired.",device_code_unknown_error:"Device code stopped polling for unknown reasons.",[Iu]:"Please pass an account object, silent flow is not supported without account information",[Em]:"Cache record object was null or undefined.",[Su]:"Invalid environment when attempting to create cache entry",[Du]:"No account found in cache for given key.",[Au]:"No crypto object detected.",[Ru]:"Unexpected credential type.",invalid_assertion:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",invalid_client_credential:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[ei]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",user_timeout_reached:"User defined timeout for device code polling reached",[wm]:"Cannot generate a POP jwt if the token_claims are not populated",[Tm]:"Server response does not contain an authorization code to proceed",[Im]:"Could not remove the credential's binding key from storage.",[Sm]:"The provided authority does not support logout",[Mu]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",no_network_connectivity:"No network connectivity. Check your internet connection.",user_canceled:"User cancelled the flow.",missing_tenant_id_error:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[fe]:"This method has not been implemented",nested_app_auth_bridge_disabled:"The nested app auth bridge is disabled"};class Aw extends $e{constructor(e,t){super(e,t?`${ne[e]}: ${t}`:ne[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Aw.prototype)}}function M(n,e){return new Aw(n,e)}function h1(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function Dm(n){if(!n||n.indexOf("=")<0)return null;try{const e=h1(n),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.ear_jwe||t.error||t.error_description||t.state)return t}catch{throw M(pm)}return null}function ku(n,e=!0,t){const r=new Array;return n.forEach((i,o)=>{r.push(!e&&t&&o in t?`${o}=${i}`:`${o}=${encodeURIComponent(i)}`)}),r.join("&")}class ge{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Oe(Zp);e.includes("#")||(this._urlString=ge.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return Ir.endsWith(t,"?")?t=t.slice(0,-1):Ir.endsWith(t,"?/")&&(t=t.slice(0,-2)),Ir.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Oe(as)}if(!e.HostNameAndPort||!e.PathSegments)throw Oe(as);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Oe(Xp)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return ge.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),r=t.PathSegments;return e&&0!==r.length&&("common"===r[0]||"organizations"===r[0])&&(r[0]=e),ge.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Oe(as);const r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw Oe(as);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===S.FORWARD_SLASH){const i=new ge(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new ge(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Dm(e)}}const Ou="pkce_not_created",Rw="ear_jwk_empty",f1="ear_jwe_empty",Nu="crypto_nonexistent",Qa="empty_navigate_uri",Am="hash_empty_error",xu="no_state_in_hash",Rm="hash_does_not_contain_known_properties",Mm="unable_to_parse_state",km="state_interaction_type_mismatch",Om="interaction_in_progress",Nm="popup_window_error",xm="empty_window_error",cs="user_cancelled",Pm="monitor_window_timeout",Fm="redirect_in_iframe",Lm="block_iframe_reload",Bm="block_nested_popups",Xa="silent_logout_unsupported",Um="no_account_error",Hm="no_token_request_cache_error",jm="unable_to_parse_token_request_cache_error",Za="non_browser_environment",io="database_not_open",Ja="no_network_connectivity",Vm="post_request_failed",$m="get_request_failed",Pu="failed_to_parse_response",zm="unable_to_load_token",Fu="crypto_key_not_found",Gm="auth_code_required",qm="auth_code_or_nativeAccountId_required",Km="spa_code_and_nativeAccountId_present",Lu="database_unavailable",Wm="unable_to_acquire_token_from_native_platform",Ym="native_handshake_timeout",Qm="native_extension_not_installed",Bu="native_connection_not_established",ec="uninitialized_public_client_application",Xm="native_prompt_not_supported",Zm="invalid_base64_string",Jm="invalid_pop_token_request",p1="failed_to_build_headers",m1="failed_to_parse_headers",eg="failed_to_decrypt_ear_response",Mi="For more visit: aka.ms/msaljs/browser-errors",J={[Ou]:"The PKCE code challenge and verifier could not be generated.",[Rw]:"No EAR encryption key provided. This is unexpected.",[f1]:"Server response does not contain ear_jwe property. This is unexpected.",[Nu]:"The crypto object or function is not available.",[Qa]:"Navigation URI is empty. Please check stack trace for more info.",[Am]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Mi}`,[xu]:"Hash does not contain state. Please verify that the request originated from msal.",[Rm]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Mi}`,[Mm]:"Unable to parse state. Please verify that the request originated from msal.",[km]:"Hash contains state but the interaction type does not match the caller.",[Om]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Mi}`,[Nm]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[xm]:"window.open returned null or undefined window object.",[cs]:"User cancelled the flow.",monitor_popup_timeout:`Token acquisition in popup failed due to timeout.  ${Mi}`,[Pm]:`Token acquisition in iframe failed due to timeout.  ${Mi}`,[Fm]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Lm]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Mi}`,[Bm]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",iframe_closed_prematurely:"The iframe being monitored was closed prematurely.",[Xa]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Um]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",silent_prompt_value_error:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Hm]:"No token request found in cache.",[jm]:"The cached token request could not be parsed.",auth_request_not_set_error:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",invalid_cache_type:"Invalid cache type",[Za]:"Login and token requests are not supported in non-browser environments.",[io]:"Database is not open!",[Ja]:"No network connectivity. Check your internet connection.",[Vm]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[$m]:"Network request failed. Please check the network trace to determine root cause.",[Pu]:"Failed to parse network response. Check network trace.",[zm]:"Error loading token to cache.",[Fu]:"Cryptographic Key or Keypair not found in browser storage.",[Gm]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[qm]:"An authorization code or nativeAccountId must be provided to this flow.",[Km]:"Request cannot contain both spa code and native account id.",[Lu]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Wm]:`Unable to acquire token from native platform.  ${Mi}`,[Ym]:"Timed out while attempting to establish connection to browser extension",[Qm]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Bu]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Mi}`,[ec]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Mi}`,[Xm]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Zm]:"Invalid base64 encoded string.",[Jm]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[p1]:"Failed to build request headers object.",[m1]:"Failed to parse response headers",[eg]:"Failed to decrypt ear response"};class Uu extends $e{constructor(e,t){super(e,J[e],t),Object.setPrototypeOf(this,Uu.prototype),this.name="BrowserAuthError"}}function L(n,e){return new Uu(n,e)}const Sn={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},tr_CHANNEL_ID="53ee284d-920a-4b59-9d30-a60315b26836",Rt={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"};var B=function(n){return n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",n}(B||{});const v1={scopes:gu},_1="jwk",Pw="msal.db",rne=`${Pw}.keys`,ine=[0,5,4],ane="msal.browser.platform.auth.dom",g={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"};function ng(n){return encodeURIComponent(ju(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function so(n){return y1(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ju(n){return y1((new TextEncoder).encode(n))}function y1(n){const e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}function Dr(n){return(new TextDecoder).decode(ao(n))}function ao(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw L(Zm)}const t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}const tc="AES-GCM",b1="HKDF",Fw="SHA-256",dne=new Uint8Array([1,0,1]),C1="0123456789abcdef",E1=new Uint32Array(1),Lw="raw",w1="encrypt",Bw="decrypt",hne="deriveKey",Uw={name:"RSASSA-PKCS1-v1_5",hash:Fw,modulusLength:2048,publicExponent:dne};function T1(n,e,t){return Hw.apply(this,arguments)}function Hw(){return(Hw=_(function*(n,e,t){e?.addQueueMeasurement(g.Sha256Digest,t);const i=(new TextEncoder).encode(n);return window.crypto.subtle.digest(Fw,i)})).apply(this,arguments)}function mne(n){return window.crypto.getRandomValues(n)}function jw(){return window.crypto.getRandomValues(E1),E1[0]}function Ar(){const n=Date.now(),e=1024*jw()+(1023&jw()),t=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,o=jw();t[0]=n/2**40,t[1]=n/2**32,t[2]=n/2**24,t[3]=n/65536,t[4]=n/256,t[5]=n,t[6]=112|r>>>8,t[7]=r,t[8]=128|i>>>24,t[9]=i>>>16,t[10]=i>>>8,t[11]=i,t[12]=o>>>24,t[13]=o>>>16,t[14]=o>>>8,t[15]=o;let s="";for(let a=0;a<t.length;a++)s+=C1.charAt(t[a]>>>4),s+=C1.charAt(15&t[a]),(3===a||5===a||7===a||9===a)&&(s+="-");return s}function Vw(){return(Vw=_(function*(n,e){return window.crypto.subtle.generateKey(Uw,n,e)})).apply(this,arguments)}function $w(n){return zw.apply(this,arguments)}function zw(){return(zw=_(function*(n){return window.crypto.subtle.exportKey(_1,n)})).apply(this,arguments)}function Gw(){return(Gw=_(function*(n,e,t){return window.crypto.subtle.importKey(_1,n,Uw,e,t)})).apply(this,arguments)}function qw(){return(qw=_(function*(n,e){return window.crypto.subtle.sign(Uw,n,e)})).apply(this,arguments)}function Kw(){return Ww.apply(this,arguments)}function Ww(){return(Ww=_(function*(){const n=yield I1(),t={alg:"dir",kty:"oct",k:so(new Uint8Array(n))};return ju(JSON.stringify(t))})).apply(this,arguments)}function Yw(){return(Yw=_(function*(n){const e=Dr(n),i=ao(JSON.parse(e).k);return window.crypto.subtle.importKey(Lw,i,tc,!1,[Bw])})).apply(this,arguments)}function bne(n,e){return Qw.apply(this,arguments)}function Qw(){return Qw=_(function*(n,e){const t=e.split(".");if(5!==t.length)throw L(eg,"jwe_length");const r=yield function yne(n){return Yw.apply(this,arguments)}(n).catch(()=>{throw L(eg,"import_key")});try{const i=(new TextEncoder).encode(t[0]),o=ao(t[2]),s=ao(t[3]),a=ao(t[4]),c=8*a.byteLength,l=new Uint8Array(s.length+a.length);l.set(s),l.set(a,s.length);const u=yield window.crypto.subtle.decrypt({name:tc,iv:o,tagLength:c,additionalData:i},r,l);return(new TextDecoder).decode(u)}catch{throw L(eg,"decrypt")}}),Qw.apply(this,arguments)}function I1(){return Xw.apply(this,arguments)}function Xw(){return(Xw=_(function*(){const n=yield window.crypto.subtle.generateKey({name:tc,length:256},!0,[w1,Bw]);return window.crypto.subtle.exportKey(Lw,n)})).apply(this,arguments)}function S1(n){return Zw.apply(this,arguments)}function Zw(){return(Zw=_(function*(n){return window.crypto.subtle.importKey(Lw,n,b1,!1,[hne])})).apply(this,arguments)}function D1(n,e,t){return Jw.apply(this,arguments)}function Jw(){return(Jw=_(function*(n,e,t){return window.crypto.subtle.deriveKey({name:b1,salt:e,hash:Fw,info:(new TextEncoder).encode(t)},n,{name:tc,length:256},!1,[w1,Bw])})).apply(this,arguments)}function Cne(n,e,t){return eT.apply(this,arguments)}function eT(){return(eT=_(function*(n,e,t){const r=(new TextEncoder).encode(e),i=window.crypto.getRandomValues(new Uint8Array(16)),o=yield D1(n,i,t),s=yield window.crypto.subtle.encrypt({name:tc,iv:new Uint8Array(12)},o,r);return{data:so(new Uint8Array(s)),nonce:so(i)}})).apply(this,arguments)}function Ene(n,e,t,r){return tT.apply(this,arguments)}function tT(){return(tT=_(function*(n,e,t,r){const i=ao(r),o=yield D1(n,ao(e),t),s=yield window.crypto.subtle.decrypt({name:tc,iv:new Uint8Array(12)},o,i);return(new TextDecoder).decode(s)})).apply(this,arguments)}function A1(n){return nT.apply(this,arguments)}function nT(){return(nT=_(function*(n){const e=yield T1(n);return so(new Uint8Array(e))})).apply(this,arguments)}const Vu="storage_not_supported",rg="in_mem_redirect_unavailable",ig={[Vu]:"Given storage configuration option was not supported.",stubbed_public_client_application_called:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[rg]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class $u extends $e{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,$u.prototype)}}function iT(n){return new $u(n,ig[n])}function R1(n){n.location.hash="","function"==typeof n.history.replaceState&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}function zu(){return window.parent!==window}function M1(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(`${Sn.POPUP_NAME_PREFIX}.`)}function ki(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function k1(){if(typeof window>"u")throw L(Za)}function O1(n){if(!n)throw L(ec)}function oT(n){k1(),function Ine(){if(ge.hashContainsKnownProperties(window.location.hash)&&zu())throw L(Lm)}(),function Dne(){if(M1())throw L(Bm)}(),O1(n)}function N1(n,e){if(oT(n),function Sne(n){if(zu()&&!n)throw L(Fm)}(e.system.allowRedirectInIframe),e.cache.cacheLocation===Rt.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw iT(rg)}function x1(n){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(n).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}class Rne{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case"msal:loginStart":return"login";case"msal:ssoSilentStart":return"ssoSilent";case"msal:acquireTokenStart":if(e.interactionType===B.Redirect||e.interactionType===B.Popup)return"acquireToken";break;case"msal:handleRedirectStart":return"handleRedirect";case"msal:logoutStart":return"logout";case"msal:ssoSilentSuccess":case"msal:ssoSilentFailure":if(t&&"ssoSilent"!==t)break;return"none";case"msal:logoutEnd":if(t&&"logout"!==t)break;return"none";case"msal:handleRedirectEnd":if(t&&"handleRedirect"!==t)break;return"none";case"msal:loginSuccess":case"msal:loginFailure":case"msal:acquireTokenSuccess":case"msal:acquireTokenFailure":case"msal:restoreFromBFCache":if(e.interactionType===B.Redirect||e.interactionType===B.Popup){if(t&&"login"!==t&&"acquireToken"!==t)break;return"none"}}return null}}class Mne extends re{constructor(e=1/0,t=1/0,r=mC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}const og="@azure/msal-angular",Gu="4.0.12",sg=new D("MSAL_INSTANCE"),qu=new D("MSAL_GUARD_CONFIG"),sT=new D("MSAL_INTERCEPTOR_CONFIG"),kne=new D("MSAL_BROADCAST_CONFIG");let ls=(()=>{class n{constructor(t,r){this.msalInstance=t,this.msalBroadcastConfig=r,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.msalInstance.getLogger().clone(og,Gu).verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new Mne(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new re,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new kt("startup"),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(i=>{this._msalSubject.next(i);const o=Rne.getInteractionStatusFromEvent(i,this._inProgress.value);null!==o&&(this.msalInstance.getLogger().clone(og,Gu).verbose(`BroadcastService - ${i.eventType} results in setting inProgress from ${this._inProgress.value} to ${o}`),this._inProgress.next(o))})}resetInProgressEvent(){"startup"===this._inProgress.value&&this._inProgress.next("none")}}return n.\u0275fac=function(t){return new(t||n)(C(sg),C(kne,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),us=(()=>{class n{constructor(t,r,i){this.instance=t,this.location=r,this.injector=i;const o=this.location.path(!0).split("#").pop();o&&(this.redirectHash=`#${o}`),this.instance.initializeWrapperLibrary("@azure/msal-angular",Gu)}initialize(){return Me(this.instance.initialize())}acquireTokenPopup(t){return Me(this.instance.acquireTokenPopup(t))}acquireTokenRedirect(t){return Me(this.instance.acquireTokenRedirect(t))}acquireTokenSilent(t){return Me(this.instance.acquireTokenSilent(t))}handleRedirectObservable(t){return Me(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(t||this.redirectHash)).finally(()=>{this.injector.get(ls).resetInProgressEvent()}))}loginPopup(t){return Me(this.instance.loginPopup(t))}loginRedirect(t){return Me(this.instance.loginRedirect(t))}logout(t){return Me(this.instance.logout(t))}logoutRedirect(t){return Me(this.instance.logoutRedirect(t))}logoutPopup(t){return Me(this.instance.logoutPopup(t))}ssoSilent(t){return Me(this.instance.ssoSilent(t))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(og,Gu)),this.logger}setLogger(t){this.logger=t.clone(og,Gu),this.instance.setLogger(t)}}return n.\u0275fac=function(t){return new(t||n)(C(sg),C(Kr),C(Se))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),aT=(()=>{class n{constructor(t,r,i,o,s){this.msalGuardConfig=t,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(t){return this.router.parseUrl(t)}getDestinationUrl(t){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(t);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${t}`}loginInteractively(t){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,t):{...this.msalGuardConfig.authRequest};if(this.msalGuardConfig.interactionType===B.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(Z(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const i=this.getDestinationUrl(t.url);return this.authService.loginRedirect({redirectStartPage:i,...r}).pipe(Z(()=>!1))}activateHelper(t){if(this.msalGuardConfig.interactionType!==B.Popup&&this.msalGuardConfig.interactionType!==B.Redirect)throw new $u("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),P(!0);if(ge.hashContainsKnownProperties(window.location.hash)&&zu()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),P(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.initialize().pipe(Qi(()=>this.authService.handleRedirectObservable()),Qi(()=>{if(!this.authService.instance.getAllAccounts().length)return t?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(t)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),P(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),t){const i=this.includesCode(t.url),o=!!t.root&&!!t.root.fragment&&this.includesCode(`#${t.root.fragment}`),s=0===this.location.prepareExternalUrl(t.url).indexOf("#");if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?P(this.parseUrl(this.location.path())):P(this.parseUrl(""))}return P(!0)}),Ai(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&t?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),P(this.loginFailedRoute)):P(!1))))}includesCode(t){return t.lastIndexOf("/code")>-1&&t.lastIndexOf("/code")===t.length-5||t.indexOf("#code=")>-1||t.indexOf("&code=")>-1}canActivate(t,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(t,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(t){return new(t||n)(C(qu),C(ls),C(us),C(Kr),C(Tr))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),One=(()=>{class n{constructor(t,r,i,o,s){this.msalInterceptorConfig=t,this.authService=r,this.location=i,this.msalBroadcastService=o,this._document=s}intercept(t,r){if(this.msalInterceptorConfig.interactionType!==B.Popup&&this.msalInterceptorConfig.interactionType!==B.Redirect)throw new $u("invalid_interaction_type","Invalid interaction type provided to MSAL Interceptor. InteractionType.Popup, InteractionType.Redirect must be provided in the msalInterceptorConfiguration");this.authService.getLogger().verbose("MSAL Interceptor activated");const i=this.getScopesForEndpoint(t.url,t.method);if(!i||0===i.length)return this.authService.getLogger().verbose("Interceptor - no scopes for endpoint"),r.handle(t);let o;this.authService.instance.getActiveAccount()?(this.authService.getLogger().verbose("Interceptor - active account selected"),o=this.authService.instance.getActiveAccount()):(this.authService.getLogger().verbose("Interceptor - no active account, fallback to first account"),o=this.authService.instance.getAllAccounts()[0]);const s="function"==typeof this.msalInterceptorConfig.authRequest?this.msalInterceptorConfig.authRequest(this.authService,t,{account:o}):{...this.msalInterceptorConfig.authRequest,account:o};return this.authService.getLogger().info(`Interceptor - ${i.length} scopes found for endpoint`),this.authService.getLogger().infoPii(`Interceptor - [${i}] scopes found for ${t.url}`),this.acquireToken(s,i,o).pipe(pn(a=>{this.authService.getLogger().verbose("Interceptor - setting authorization headers");const c=t.headers.set("Authorization",`Bearer ${a.accessToken}`),l=t.clone({headers:c});return r.handle(l)}))}acquireToken(t,r,i){return this.authService.acquireTokenSilent({...t,scopes:r,account:i}).pipe(Ai(()=>(this.authService.getLogger().error("Interceptor - acquireTokenSilent rejected with error. Invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(Bn(1),pn(o=>"none"===o?this.acquireTokenInteractively(t,r):this.msalBroadcastService.inProgress$.pipe(Ye(s=>"none"===s),Bn(1),pn(()=>this.acquireToken(t,r,i))))))),pn(o=>o.accessToken?P(o):(this.authService.getLogger().error("Interceptor - acquireTokenSilent resolved with null access token. Known issue with B2C tenants, invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(Ye(s=>"none"===s),Bn(1),pn(()=>this.acquireTokenInteractively(t,r))))))}acquireTokenInteractively(t,r){if(this.msalInterceptorConfig.interactionType===B.Popup)return this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by popup"),this.authService.acquireTokenPopup({...t,scopes:r});this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by redirect");const i=window.location.href;return this.authService.acquireTokenRedirect({...t,scopes:r,redirectStartPage:i}),Zn}getScopesForEndpoint(t,r){this.authService.getLogger().verbose("Interceptor - getting scopes for endpoint");const i=this.location.normalize(t),o=Array.from(this.msalInterceptorConfig.protectedResourceMap.keys()),s=this.matchResourcesToEndpoint(o,i);return s.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,s,r):null}matchResourcesToEndpoint(t,r){const i=[];return t.forEach(o=>{const s=this.location.normalize(o),a=this.getAbsoluteUrl(s),c=new URL(a),l=this.getAbsoluteUrl(r),u=new URL(l);this.checkUrlComponents(c,u)&&i.push(o)}),i}checkUrlComponents(t,r){const i=["protocol","host","pathname","search","hash"];for(const o of i)if(t[o]){const s=decodeURIComponent(t[o]);if(!Ir.matchPattern(s,r[o]))return!1}return!0}getAbsoluteUrl(t){const r=this._document.createElement("a");return r.href=t,r.href}matchScopesToEndpoint(t,r,i){const o=[];return r.forEach(s=>{const a=[],c=t.get(s);null!==c?(c.forEach(l=>{if("string"==typeof l)a.push(l);else{const u=i.toLowerCase();l.httpMethod.toLowerCase()===u&&(null===l.scopes?o.push(null):l.scopes.forEach(h=>{a.push(h)}))}}),a.length>0&&o.push(a)):o.push(null)}),o.length>0?(o.length>1&&this.authService.getLogger().warning("Interceptor - More than 1 matching scopes for endpoint found."),o[0]):null}}return n.\u0275fac=function(t){return new(t||n)(C(sT),C(us),C(Kr),C(ls),C(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Nne=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.getLogger().verbose("MsalRedirectComponent activated"),this.authService.handleRedirectObservable().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(E(us))},n.\u0275cmp=Ge({type:n,selectors:[["app-redirect"]],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),xne=(()=>{class n{static forRoot(t,r,i){return{ngModule:n,providers:[{provide:sg,useValue:t},{provide:qu,useValue:r},{provide:sT,useValue:i},us]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Ne({providers:[aT,ls],imports:[Af]}),n})();function Pne(n,e){if(1&n){const t=Gh();ue(0,"mat-card",4)(1,"mat-card-header")(2,"mat-card-title"),We(3,"Angular single-page application built with MSAL Angular"),he(),ue(4,"mat-card-subtitle"),We(5,"Sign-in with Microsoft Entra External ID"),he()(),ue(6,"mat-card-content"),We(7,"This sample demonstrates how to configure MSAL Angular to sign-up, sign-in and sign-out with Microsoft Entra External ID"),he(),ue(8,"button",5),jo("click",function(){return xd(t),Pd(Gr().signUp())}),We(9,"Sign up"),he()()}}function Fne(n,e){1&n&&(ue(0,"p",6),We(1," See below the claims in your "),ue(2,"strong"),We(3," ID token "),he(),We(4,". For more information, visit: "),ue(5,"span")(6,"a",7),We(7," docs.microsoft.com "),he()()())}function Lne(n,e){1&n&&(ue(0,"th",15),We(1," Claim "),he())}function Bne(n,e){if(1&n&&(ue(0,"td",16),We(1),he()),2&n){const t=e.$implicit;tt(),mr(" ",t.claim," ")}}function Une(n,e){1&n&&(ue(0,"th",15),We(1," Value "),he())}function Hne(n,e){if(1&n&&(ue(0,"td",16),We(1),he()),2&n){const t=e.$implicit;tt(),mr(" ",t.value," ")}}function jne(n,e){1&n&&Fn(0,"tr",17)}function Vne(n,e){1&n&&Fn(0,"tr",18)}function $ne(n,e){if(1&n&&(ue(0,"table",8),Bo(1,9),Ht(2,Lne,2,0,"th",10)(3,Bne,2,1,"td",11),Uo(),Bo(4,12),Ht(5,Une,2,0,"th",10)(6,Hne,2,1,"td",11),Uo(),Ht(7,jne,1,0,"tr",13)(8,Vne,1,0,"tr",14),he()),2&n){const t=Gr();Pn("dataSource",t.dataSource),tt(7),Pn("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),tt(),Pn("matRowDefColumns",t.displayedColumns)}}const zne=[{path:"guarded",component:(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ge({type:n,selectors:[["app-guarded"]],decls:2,vars:0,template:function(r,i){1&r&&(ue(0,"p"),We(1,"This component is guarded. You can see this because you're signed-in. "),he())}})}return n})(),canActivate:[aT]},{path:"",component:(()=>{class n{msalGuardConfig;authService;msalBroadcastService;loginDisplay=!1;dataSource=[];displayedColumns=["claim","value"];_destroying$=new re;constructor(t,r,i){this.msalGuardConfig=t,this.authService=r,this.msalBroadcastService=i}ngOnInit(){this.msalBroadcastService.msalSubject$.pipe(Ye(t=>"msal:loginSuccess"===t.eventType||"msal:acquireTokenSuccess"===t.eventType)).subscribe(t=>{console.log(t),this.setLoginDisplay(),this.getClaims(t.payload.account?.idTokenClaims)}),this.msalBroadcastService.inProgress$.pipe(Ye(t=>"none"===t)).subscribe(()=>{this.setLoginDisplay(),this.getClaims(this.authService.instance.getActiveAccount()?.idTokenClaims)})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}getClaims(t){this.dataSource=[],t&&Object.entries(t).forEach((r,i)=>{this.dataSource.push({id:i,claim:r[0],value:r[1]})})}signUp(){this.msalGuardConfig.interactionType===B.Popup?this.authService.loginPopup({scopes:[],prompt:"create"}).subscribe(t=>{this.authService.instance.setActiveAccount(t.account)}):this.authService.loginRedirect({scopes:[],prompt:"create"})}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}static \u0275fac=function(r){return new(r||n)(E(qu),E(us),E(ls))};static \u0275cmp=Ge({type:n,selectors:[["app-home"]],decls:5,vars:3,consts:[["class","card-section","appearance","outlined",4,"ngIf"],["class","text-center",4,"ngIf"],["id","table-container"],["mat-table","",3,"dataSource",4,"ngIf"],["appearance","outlined",1,"card-section"],["mat-stroked-button","",3,"click"],[1,"text-center"],["href","https://docs.microsoft.com/en-us/azure/active-directory/develop/id-tokens#claims-in-an-id-token"],["mat-table","",3,"dataSource"],["matColumnDef","claim"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,i){1&r&&(Ht(0,Pne,10,0,"mat-card",0),Fn(1,"br"),Ht(2,Fne,8,0,"p",1),ue(3,"div",2),Ht(4,$ne,9,4,"table",3),he()),2&r&&(Pn("ngIf",!i.loginDisplay),tt(2),Pn("ngIf",i.loginDisplay),tt(2),Pn("ngIf",i.loginDisplay))},dependencies:[Ob,bP,CP,wP,IP,TP,EP,UP,qC,HP,KC,GC,jP,WC,YC,VP,$P],styles:["#table-container[_ngcontent-%COMP%]{overflow:auto}table[_ngcontent-%COMP%]{margin:3% auto 1%;width:70%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding:8px 8px 8px 0}p[_ngcontent-%COMP%]{text-align:center}.card-section[_ngcontent-%COMP%]{margin:10%;padding:5%}"]})}return n})()}];let Gne=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pe({type:n});static \u0275inj=Ne({imports:[r1.forRoot(zne,{initialNavigation:zu()||M1()?"disabled":"enabledNonBlocking"}),r1]})}return n})();const qne=()=>["guarded"];function Kne(n,e){if(1&n){const t=Gh();ue(0,"button",9),jo("click",function(){return xd(t),Pd(Gr().login())}),We(1,"Login"),he()}}function Wne(n,e){if(1&n){const t=Gh();ue(0,"button",10),jo("click",function(){return xd(t),Pd(Gr().logout())}),We(1,"Logout"),he()}}function Yne(n,e){1&n&&Fn(0,"router-outlet")}function Qne(n,e){if(1&n&&(ue(0,"footer")(1,"mat-toolbar")(2,"div",11),We(3),ue(4,"a",12),We(5," Contact us"),he()()()()),2&n){const t=Gr();tt(3),mr(" \xa9 ",t.year," Bora Bora AI ")}}let Xne=(()=>{class n{msalGuardConfig;authService;msalBroadcastService;title="Bora Bora AI";year=(new Date).getFullYear();loginDisplay=!1;isIframe=!1;_destroying$=new re;constructor(t,r,i){this.msalGuardConfig=t,this.authService=r,this.msalBroadcastService=i}ngOnInit(){this.isIframe=window!==window.parent&&!window.opener,this.setLoginDisplay(),this.authService.instance.enableAccountStorageEvents(),this.msalBroadcastService.inProgress$.pipe(Ye(t=>"none"===t),_r(this._destroying$)).subscribe(()=>{this.setLoginDisplay(),this.checkAndSetActiveAccount()}),this.msalBroadcastService.msalSubject$.pipe(Ye(t=>"msal:logoutSuccess"===t.eventType),_r(this._destroying$)).subscribe(t=>{this.setLoginDisplay(),this.checkAndSetActiveAccount()}),this.msalBroadcastService.msalSubject$.pipe(Ye(t=>"msal:loginSuccess"===t.eventType||"msal:acquireTokenSuccess"===t.eventType||"msal:ssoSilentSuccess"===t.eventType),_r(this._destroying$)).subscribe(t=>{this.authService.instance.setActiveAccount(t.payload.account)})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}checkAndSetActiveAccount(){if(!this.authService.instance.getActiveAccount()&&this.authService.instance.getAllAccounts().length>0){let r=this.authService.instance.getAllAccounts();this.authService.instance.setActiveAccount(r[0])}}login(){this.msalGuardConfig.interactionType===B.Popup?this.msalGuardConfig.authRequest?this.authService.loginPopup({...this.msalGuardConfig.authRequest}).subscribe(t=>{this.authService.instance.setActiveAccount(t.account)}):this.authService.loginPopup().subscribe(t=>{this.authService.instance.setActiveAccount(t.account)}):this.msalGuardConfig.authRequest?this.authService.loginRedirect({...this.msalGuardConfig.authRequest}):this.authService.loginRedirect()}logout(){this.msalGuardConfig.interactionType===B.Popup?this.authService.logoutPopup({account:this.authService.instance.getActiveAccount()}):this.authService.logoutRedirect({account:this.authService.instance.getActiveAccount()})}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}static \u0275fac=function(r){return new(r||n)(E(qu),E(us),E(ls))};static \u0275cmp=Ge({type:n,selectors:[["app-root"]],decls:13,vars:7,consts:[[1,"app-container"],["href","/",1,"title"],["src","assets/BoraBoraAI-Logo.svg","alt","Logo","height","48px",1,"logo"],[1,"toolbar-spacer"],["mat-button","",3,"routerLink"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[1,"container"],[4,"ngIf"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"footer-text"],["href",""]],template:function(r,i){1&r&&(ue(0,"div",0)(1,"mat-toolbar")(2,"a",1),Fn(3,"img",2),We(4),he(),Fn(5,"div",3),ue(6,"a",4),We(7,"Guarded Component"),he(),Ht(8,Kne,2,0,"button",5)(9,Wne,2,0,"button",6),he(),ue(10,"div",7),Ht(11,Yne,1,0,"router-outlet",8),he()(),Ht(12,Qne,6,1,"footer",8)),2&r&&(tt(4),mr(" ",i.title," "),tt(2),Pn("routerLink",x0(6,qne)),tt(2),Pn("ngIf",!i.loginDisplay),tt(),Pn("ngIf",i.loginDisplay),tt(2),Pn("ngIf",!i.isIframe),tt(),Pn("ngIf",i.loginDisplay))},dependencies:[Ob,QE,zp,D9,x9,bP],styles:[".app-container[_ngcontent-%COMP%]{flex:1}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a.title[_ngcontent-%COMP%]{display:flex;color:#000;align-items:center;text-decoration:none}.logo[_ngcontent-%COMP%]{margin-right:10px}footer[_ngcontent-%COMP%]{width:100%;color:#fff;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:small;text-align:center;flex:1 1 auto}"]})}return n})();var Qe=function(n){return n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",n}(Qe||{});class co{constructor(e,t,r){this.level=Qe.Info;const o=e||co.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||(()=>{}),this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level="number"==typeof o.logLevel?o.logLevel:Qe.Info,this.correlationId=o.correlationId||S.EMPTY_STRING,this.packageName=t||S.EMPTY_STRING,this.packageVersion=r||S.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Qe.Info}}clone(e,t,r){return new co({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const o=`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}] : ${this.packageName}@${this.packageVersion} : ${Qe[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:Qe.Error,containsPii:!1,correlationId:t||S.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:Qe.Error,containsPii:!0,correlationId:t||S.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:Qe.Warning,containsPii:!1,correlationId:t||S.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:Qe.Warning,containsPii:!0,correlationId:t||S.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:Qe.Info,containsPii:!1,correlationId:t||S.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:Qe.Info,containsPii:!0,correlationId:t||S.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:Qe.Verbose,containsPii:!1,correlationId:t||S.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:Qe.Verbose,containsPii:!0,correlationId:t||S.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:Qe.Trace,containsPii:!1,correlationId:t||S.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:Qe.Trace,containsPii:!0,correlationId:t||S.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const $n={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"},ag={createNewGuid:()=>{throw M(fe)},base64Decode:()=>{throw M(fe)},base64Encode:()=>{throw M(fe)},base64UrlEncode:()=>{throw M(fe)},encodeKid:()=>{throw M(fe)},getPublicKeyThumbprint:()=>_(function*(){throw M(fe)})(),removeTokenBindingKey:()=>_(function*(){throw M(fe)})(),clearKeystore:()=>_(function*(){throw M(fe)})(),signJwt:()=>_(function*(){throw M(fe)})(),hashString:()=>_(function*(){throw M(fe)})()},P1="@azure/msal-common",lT="15.7.1";function nc(n,e){const t=function Zne(n){if(!n)throw M(dm);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!t||t.length<4)throw M(Cu);return t[2]}(n);try{const r=e(t);return JSON.parse(r)}catch{throw M(Cu)}}function F1(n,e){if(0===e||Date.now()-3e5>n+e)throw M(vm)}function zn(){return Math.round((new Date).getTime()/1e3)}function L1(n){return n.getTime()/1e3}function rc(n){return n?new Date(1e3*Number(n)):new Date}function uT(n,e){const t=Number(n)||0;return zn()+e>t}function Ku(n){return[rre(n),ire(n),ore(n),sre(n),are(n)].join(Xt.CACHE_KEY_SEPARATOR).toLowerCase()}function cg(n,e,t,r,i){return{credentialType:ie.ID_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t,realm:i}}function lg(n,e,t,r,i,o,s,a,c,l,u,d,h,f,p){const m={homeAccountId:n,credentialType:ie.ACCESS_TOKEN,secret:t,cachedAt:zn().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:i,target:o,tokenType:u||ke.BEARER};if(d&&(m.userAssertionHash=d),l&&(m.refreshOn=l.toString()),f&&(m.requestedClaims=f,m.requestedClaimsHash=p),m.tokenType?.toLowerCase()!==ke.BEARER.toLowerCase())switch(m.credentialType=ie.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case ke.POP:const v=nc(t,c);if(!v?.cnf?.kid)throw M(wm);m.keyId=v.cnf.kid;break;case ke.SSH:m.keyId=h}return m}function B1(n,e,t,r,i,o,s){const a={credentialType:ie.REFRESH_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function dT(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function rre(n){return[n.homeAccountId,n.environment].join(Xt.CACHE_KEY_SEPARATOR).toLowerCase()}function ire(n){return[n.credentialType,n.credentialType===ie.REFRESH_TOKEN&&n.familyId||n.clientId,n.realm||""].join(Xt.CACHE_KEY_SEPARATOR).toLowerCase()}function ore(n){return(n.target||"").toLowerCase()}function sre(n){return(n.requestedClaimsHash||"").toLowerCase()}function are(n){return n.tokenType&&n.tokenType.toLowerCase()!==ke.BEARER.toLowerCase()?n.tokenType.toLowerCase():""}function U1(){return zn()+86400}function ug(n,e,t){n.authorization_endpoint=e.authorization_endpoint,n.token_endpoint=e.token_endpoint,n.end_session_endpoint=e.end_session_endpoint,n.issuer=e.issuer,n.endpointsFromNetwork=t,n.jwks_uri=e.jwks_uri}function hT(n,e,t){n.aliases=e.aliases,n.preferred_cache=e.preferred_cache,n.preferred_network=e.preferred_network,n.aliasesFromNetwork=t}function H1(n){return n.expiresAt<=zn()}class Mt{constructor(e){const t=e?Ir.trimArrayEntries([...e]):[],r=t?Ir.removeEmptyStringsFromArray(t):[];if(!r||!r.length)throw Oe(Jp);this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){const r=(e||S.EMPTY_STRING).split(" ");return new Mt(r)}static createSearchScopes(e){const t=new Mt(e);return t.containsOnlyOIDCScopes()?t.removeScope(S.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),r=new Mt(t);return!!e&&r.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return s1.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw M(Cm)}}removeScope(e){if(!e)throw M(bm);this.scopes.delete(e.trim())}removeOIDCScopes(){s1.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw M(Tu);const t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw M(Tu);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return t.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):S.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function dg(n,e){if(!n)throw M(um);try{const t=e(n);return JSON.parse(t)}catch{throw M(bu)}}function ic(n){if(!n)throw M(bu);const e=n.split(Xt.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?S.EMPTY_STRING:e[1]}}function j1(n,e){return!!n&&!!e&&n===e.split(".")[1]}function fT(n,e,t,r){if(r){const{oid:i,sub:o,tid:s,name:a,tfp:c,acr:l}=r,u=s||c||l||"";return{tenantId:u,localAccountId:i||o||"",name:a,isHomeTenant:j1(u,n)}}return{tenantId:t,localAccountId:e,isHomeTenant:j1(t,n)}}function pT(n,e,t,r){let i=n;if(e){const{isHomeTenant:o,...s}=e;i={...n,...s}}if(t){const{isHomeTenant:o,...s}=fT(n.homeAccountId,n.localAccountId,n.tenantId,t);return i={...i,...s,idTokenClaims:t,idToken:r},i}return i}function V1(n){return n&&(n.tid||n.tfp||n.acr)||null}class vn{generateAccountId(){return[this.homeAccountId,this.environment].join(Xt.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return vn.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(Xt.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){const i=new vn;let o;i.authorityType=1===t.authorityType?"ADFS":t.protocolMode===$n.OIDC?"Generic":"MSSTS",e.clientInfo&&r&&(o=dg(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw M(Su);if(i.environment=s,i.realm=o?.utid||V1(e.idTokenClaims)||"",i.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"",i.username=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn||(e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null)||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const l=fT(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[l]}return i}static createFromAccountInfo(e,t,r){const i=new vn;return i.authorityType=e.authorityType||"Generic",i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=r,i.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),i}static generateHomeAccountId(e,t,r,i,o){if(1!==t&&2!==t){if(e)try{const s=dg(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let i=!0;if(r){const o=e.idTokenClaims||{},s=t.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i}}const z1={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},mT={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},G1=new Set;function q1(n,e,t,r){if(r?.trace(`getAliasesFromMetadata called with source: ${t}`),n&&e){const i=hg(e,n);if(i)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),i.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function hg(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.aliases.includes(e))return r}return null}mT.metadata.forEach(n=>{n.aliases.forEach(e=>{G1.add(e)})});const K1="cache_quota_exceeded",gT="cache_error_unknown",vT={[K1]:"Exceeded cache storage capacity.",[gT]:"Unexpected error occurred when using cache storage."};class oc extends Error{constructor(e,t){const r=t||(vT[e]?vT[e]:vT[gT]);super(`${e}: ${r}`),Object.setPrototypeOf(this,oc.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}class _T{constructor(e,t,r,i,o){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(P1,lT),this.staticAuthorityOptions=o,this.performanceClient=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);return t.length>1?t.sort(i=>i.idTokenClaims?-1:1)[0]:1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,t?.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,i){let s,o=null;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const a=this.getIdToken(e,t,r.tenantId);return a&&(s=nc(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(o=pT(e,r,s,a?.secret),o)}getTenantProfilesFromAccountEntity(e,t,r){const i=e.getAccountInfo();let o=i.tenantProfiles||new Map;const s=this.getTokenKeys();if(t){const c=o.get(t);if(!c)return[];o=new Map([[t,c]])}const a=[];return o.forEach(c=>{const l=this.getTenantedAccountInfoByFilter(i,s,c,r);l&&a.push(l)}),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||void 0!==t.isHomeTenant&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}saveCacheRecord(e,t,r){var i=this;return _(function*(){if(!e)throw M(Em);try{e.account&&(yield i.setAccount(e.account,t)),e.idToken&&!1!==r?.idToken&&(yield i.setIdTokenCredential(e.idToken,t)),e.accessToken&&!1!==r?.accessToken&&(yield i.saveAccessToken(e.accessToken,t)),e.refreshToken&&!1!==r?.refreshToken&&(yield i.setRefreshTokenCredential(e.refreshToken,t)),e.appMetadata&&i.setAppMetadata(e.appMetadata)}catch(o){throw i.commonLogger?.error("CacheManager.saveCacheRecord: failed"),o instanceof Error?(i.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${o.message}`,t),"QuotaExceededError"===o.name||"NS_ERROR_DOM_QUOTA_REACHED"===o.name||o.message.includes("exceeded the quota")?(i.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new oc(K1)):new oc(o.name,o.message)):(i.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${o}`,t),new oc(gT))}})()}saveAccessToken(e,t){var r=this;return _(function*(){const i={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=r.getTokenKeys(),s=Mt.fromString(e.target);o.accessToken.forEach(a=>{if(!r.accessTokenKeyMatchesFilter(a,i,!1))return;const c=r.getAccessTokenCredential(a);c&&r.credentialMatchesFilter(c,i)&&Mt.fromString(c.target).intersectingScopeSets(s)&&r.removeAccessToken(a,t)}),yield r.setAccessTokenCredential(e,t)})()}getAccountsFilteredBy(e){const t=this.getAccountKeys(),r=[];return t.forEach(i=>{if(!this.isAccountKey(i,e.homeAccountId))return;const o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const s={localAccountId:e?.localAccountId,name:e?.name},a=o.tenantProfiles?.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&0===a.length||r.push(o)}),r}isAccountKey(e,t,r){return!(e.split(Xt.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(Xt.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(ie.ID_TOKEN.toLowerCase())&&-1===t.indexOf(ie.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(ie.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(ie.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(ie.REFRESH_TOKEN.toLowerCase())>-1){const i=`${ie.REFRESH_TOKEN}${Xt.CACHE_KEY_SEPARATOR}1${Xt.CACHE_KEY_SEPARATOR}`;if(-1===t.indexOf(`${ie.REFRESH_TOKEN}${Xt.CACHE_KEY_SEPARATOR}${this.clientId}${Xt.CACHE_KEY_SEPARATOR}`.toLowerCase())&&-1===t.indexOf(i.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||"string"==typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===ie.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===ke.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){const t=this.getKeys(),r={};return t.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let r=null;return t.forEach(i=>{if(!this.isAuthorityMetadata(i)||-1===i.indexOf(this.clientId))return;const o=this.getAuthorityMetadata(i);o&&-1!==o.aliases.indexOf(e)&&(r=o)}),r}removeAllAccounts(e){this.getAccountKeys().forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,t){const r=this.getAccount(e,this.commonLogger);r&&(this.removeAccountContext(r,t),this.removeItem(e))}removeAccountContext(e,t){const r=this.getTokenKeys(),i=e.generateAccountId();r.idToken.forEach(o=>{0===o.indexOf(i)&&this.removeIdToken(o)}),r.accessToken.forEach(o=>{0===o.indexOf(i)&&this.removeAccessToken(o,t)}),r.refreshToken.forEach(o=>{0===o.indexOf(i)&&this.removeRefreshToken(o)})}removeAccessToken(e,t){const r=this.getAccessTokenCredential(e);if(r&&(this.removeItem(e),r.credentialType.toLowerCase()===ie.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&r.tokenType===ke.POP)){const o=r.keyId;o&&this.cryptoImpl.removeTokenBindingKey(o).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${o}`,t),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},t)})}}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){const t=vn.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const a=this.getIdTokensByFilter({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ie.ID_TOKEN,clientId:this.clientId,realm:r},t),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=a;if(!r){const u=new Map;a.forEach((h,f)=>{h.realm===e.tenantId&&u.set(f,h)});const d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===d)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;l=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((u,d)=>{this.removeIdToken(d)}),i&&o&&i.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const r=t&&t.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,{clientId:this.clientId,...e}))return;const s=this.getIdTokenCredential(o);s&&this.credentialMatchesFilter(s,e)&&i.set(o,s)}),i}idTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,i){const o=t.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",o);const s=Mt.createSearchScopes(t.scopes),a=t.authenticationScheme||ke.BEARER,c=a&&a.toLowerCase()!==ke.BEARER.toLowerCase()?ie.ACCESS_TOKEN_WITH_AUTH_SCHEME:ie.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:i||e.tenantId,target:s,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=r&&r.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach(f=>{if(this.accessTokenKeyMatchesFilter(f,l,!0)){const p=this.getAccessTokenCredential(f);p&&this.credentialMatchesFilter(p,l)&&d.push(p)}});const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",o),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",o),d.forEach(f=>{this.removeAccessToken(Ku(f),o)}),this.performanceClient.addFields({multiMatchedAT:d.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",o),d[0])}accessTokenKeyMatchesFilter(e,t,r){const i=e.toLowerCase();if(t.clientId&&-1===i.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===i.indexOf(t.homeAccountId.toLowerCase())||t.realm&&-1===i.indexOf(t.realm.toLowerCase())||t.requestedClaimsHash&&-1===i.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const o=t.target.asArray();for(let s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),r=[];return t.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&r.push(o)}),r}getRefreshToken(e,t,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ie.REFRESH_TOKEN,clientId:this.clientId,familyId:t?"1":void 0},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,a)){const h=this.getRefreshTokenCredential(d);h&&this.credentialMatchesFilter(h,a)&&l.push(h)}});const u=l.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&o&&i.addFields({multiMatchedRT:u},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.familyId&&-1===r.indexOf(t.familyId.toLowerCase())||!t.familyId&&t.clientId&&-1===r.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))}readAppMetadataFromCache(e){const r=this.getAppMetadataFilteredBy({environment:e,clientId:this.clientId}),i=Object.keys(r).map(s=>r[s]),o=i.length;if(o<1)return null;if(o>1)throw M(_m);return i[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||"1"!==t.familyId)}matchHomeAccountId(e,t){return"string"==typeof e.homeAccountId&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return t.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,t){return!(!e||"string"!=typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const i=function fre(n,e){let t;const r=n.canonicalAuthority;if(r){const i=new ge(r).getUrlComponents().HostNameAndPort;t=q1(i,n.cloudDiscoveryMetadata?.metadata,"config",e)||q1(i,mT.metadata,"hardcoded_values",e)||n.knownAuthorities}return t||[]}(this.staticAuthorityOptions,this.commonLogger);if(i.includes(t)&&i.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return e.realm?.toLowerCase()===t.toLowerCase()}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){return!(e.credentialType!==ie.ACCESS_TOKEN&&e.credentialType!==ie.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)&&Mt.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(cw)}isAuthorityMetadata(e){return-1!==e.indexOf("authority-metadata")}generateAuthorityMetadataCacheKey(e){return`authority-metadata-${this.clientId}-${e}`}static toObject(e,t){for(const r in t)e[r]=t[r];return e}}class mre extends _T{setAccount(){return _(function*(){throw M(fe)})()}getAccount(){throw M(fe)}setIdTokenCredential(){return _(function*(){throw M(fe)})()}getIdTokenCredential(){throw M(fe)}setAccessTokenCredential(){return _(function*(){throw M(fe)})()}getAccessTokenCredential(){throw M(fe)}setRefreshTokenCredential(){return _(function*(){throw M(fe)})()}getRefreshTokenCredential(){throw M(fe)}setAppMetadata(){throw M(fe)}getAppMetadata(){throw M(fe)}setServerTelemetry(){throw M(fe)}getServerTelemetry(){throw M(fe)}setAuthorityMetadata(){throw M(fe)}getAuthorityMetadata(){throw M(fe)}getAuthorityMetadataKeys(){throw M(fe)}setThrottlingCache(){throw M(fe)}getThrottlingCache(){throw M(fe)}removeItem(){throw M(fe)}getKeys(){throw M(fe)}getAccountKeys(){throw M(fe)}getTokenKeys(){throw M(fe)}}class W1{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Y1{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:1,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new W1}}startPerformanceMeasurement(){return new W1}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const Q1={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},gre={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Qe.Info,correlationId:S.EMPTY_STRING},vre={claimsBasedCachingEnabled:!1},_re={sendGetRequestAsync:()=>_(function*(){throw M(fe)})(),sendPostRequestAsync:()=>_(function*(){throw M(fe)})()},yre={sku:S.SKU,version:lT,cpu:S.EMPTY_STRING,os:S.EMPTY_STRING},bre={clientSecret:S.EMPTY_STRING,clientAssertion:void 0},Cre={azureCloudInstance:"none",tenant:`${S.DEFAULT_COMMON_TENANT}`},Ere={application:{appName:"",appVersion:""}};function Tre(n){return{clientCapabilities:[],azureCloudOptions:Cre,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...n}}function X1(n){return n.authOptions.authority.options.protocolMode===$n.OIDC}const Ire={sendGetRequestAsync:()=>Promise.reject(M(fe)),sendPostRequestAsync:()=>Promise.reject(M(fe))};class fg{navigateInternal(e,t){return fg.defaultNavigateWindow(e,t)}navigateExternal(e,t){return fg.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},t.timeout)})}}class pg extends $e{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,pg.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}function Wu(n,e,t,r){return n.errorMessage=`${n.errorMessage}, additionalErrorInfo: error.name:${r?.name}, error.message:${r?.message}`,new pg(n,e,t)}class Sre{sendGetRequestAsync(e,t){return _(function*(){let r,i={},o=0;const s=Z1(t);try{r=yield fetch(e,{method:"GET",headers:s})}catch(a){throw Wu(L(window.navigator.onLine?$m:Ja),void 0,void 0,a)}i=J1(r.headers);try{return o=r.status,{headers:i,body:yield r.json(),status:o}}catch(a){throw Wu(L(Pu),o,i,a)}})()}sendPostRequestAsync(e,t){return _(function*(){const r=t&&t.body||"",i=Z1(t);let o,s=0,a={};try{o=yield fetch(e,{method:"POST",headers:i,body:r})}catch(c){throw Wu(L(window.navigator.onLine?Vm:Ja),void 0,void 0,c)}a=J1(o.headers);try{return s=o.status,{headers:a,body:yield o.json(),status:s}}catch(c){throw Wu(L(Pu),s,a,c)}})()}}function Z1(n){try{const e=new Headers;return n&&n.headers?(Object.entries(n.headers).forEach(([r,i])=>{e.append(r,i)}),e):e}catch(e){throw Wu(L(p1),void 0,void 0,e)}}function J1(n){try{const e={};return n.forEach((t,r)=>{e[r]=t}),e}catch{throw L(m1)}}const yT=1e4,eB=2e3,ds="4.13.2";class bT{static loggerCallback(e,t){switch(e){case Qe.Error:return void console.error(t);case Qe.Info:return void console.info(t);case Qe.Verbose:return void console.debug(t);case Qe.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment=typeof window<"u",this.config=function Rre({auth:n,cache:e,system:t,telemetry:r},i){const o={clientId:S.EMPTY_STRING,authority:`${S.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:S.EMPTY_STRING,authorityMetadata:S.EMPTY_STRING,redirectUri:typeof window<"u"?ki():"",postLogoutRedirectUri:S.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:$n.AAD,OIDCOptions:{serverResponseType:qp.FRAGMENT,defaultScopes:[S.OPENID_SCOPE,S.PROFILE_SCOPE,S.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:"none",tenant:S.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:Rt.SessionStorage,temporaryCacheLocation:Rt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!e||e.cacheLocation!==Rt.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:Qe.Info,piiLoggingEnabled:!1},l={...{...Q1,loggerOptions:a,networkClient:i?new Sre:Ire,navigationClient:new fg,loadFrameTimeout:0,windowHashTimeout:t?.loadFrameTimeout||6e4,iframeHashTimeout:t?.loadFrameTimeout||yT,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:t?.nativeBrokerHandshakeTimeout||eB,pollIntervalMilliseconds:Sn.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:t?.loggerOptions||a},u={application:{appName:S.EMPTY_STRING,appVersion:S.EMPTY_STRING},client:new Y1};if(n?.protocolMode!==$n.OIDC&&n?.OIDCOptions&&new co(l.loggerOptions).warning(JSON.stringify(Oe(am))),n?.protocolMode&&n.protocolMode===$n.OIDC&&l?.allowPlatformBroker)throw Oe(cm);return{auth:{...o,...n,OIDCOptions:{...o.OIDCOptions,...n?.OIDCOptions}},cache:{...s,...e},system:l,telemetry:{...u,...r}}}(e,this.browserEnvironment);try{t=window[Rt.SessionStorage]}catch{}const r=t?.getItem("msal.browser.log.level"),i=t?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===i||"false"!==i&&void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(Qe).includes(r)?Qe[r]:void 0;a&&(s.loggerCallback=bT.loggerCallback,s.logLevel=a),void 0!==o&&(s.piiLoggingEnabled=o),this.logger=new co(s,"@azure/msal-browser",ds),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}let tB=(()=>{class n extends bT{getModuleName(){return n.MODULE_NAME}getId(){return n.ID}initialize(){var t=this;return _(function*(){return t.available=typeof window<"u",t.available})()}}return n.MODULE_NAME="",n.ID="StandardOperatingContext",n})();const nB="missing_kid_error",rB="missing_alg_error",kre={[nB]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[rB]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class CT extends $e{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,CT.prototype)}}function iB(n){return new CT(n,kre[n])}class ET{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw iB(nB);if(!e.alg)throw iB(rB);const t=new ET({typ:e.typ||"pop",kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class Ore{constructor(){this.dbName=Pw,this.version=1,this.tableName=rne,this.dbOpen=!1}open(){var e=this;return _(function*(){return new Promise((t,r)=>{const i=window.indexedDB.open(e.dbName,e.version);i.addEventListener("upgradeneeded",o=>{o.target.result.createObjectStore(e.tableName)}),i.addEventListener("success",o=>{e.db=o.target.result,e.dbOpen=!0,t()}),i.addEventListener("error",()=>r(L(Lu)))})})()}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}validateDbIsOpen(){var e=this;return _(function*(){if(!e.dbOpen)return e.open()})()}getItem(e){var t=this;return _(function*(){return yield t.validateDbIsOpen(),new Promise((r,i)=>{if(!t.db)return i(L(io));const a=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);a.addEventListener("success",c=>{const l=c;t.closeConnection(),r(l.target.result)}),a.addEventListener("error",c=>{t.closeConnection(),i(c)})})})()}setItem(e,t){var r=this;return _(function*(){return yield r.validateDbIsOpen(),new Promise((i,o)=>{if(!r.db)return o(L(io));const c=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(t,e);c.addEventListener("success",()=>{r.closeConnection(),i()}),c.addEventListener("error",l=>{r.closeConnection(),o(l)})})})()}removeItem(e){var t=this;return _(function*(){return yield t.validateDbIsOpen(),new Promise((r,i)=>{if(!t.db)return i(L(io));const a=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);a.addEventListener("success",()=>{t.closeConnection(),r()}),a.addEventListener("error",c=>{t.closeConnection(),i(c)})})})()}getKeys(){var e=this;return _(function*(){return yield e.validateDbIsOpen(),new Promise((t,r)=>{if(!e.db)return r(L(io));const s=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();s.addEventListener("success",a=>{const c=a;e.closeConnection(),t(c.target.result)}),s.addEventListener("error",a=>{e.closeConnection(),r(a)})})})()}containsKey(e){var t=this;return _(function*(){return yield t.validateDbIsOpen(),new Promise((r,i)=>{if(!t.db)return i(L(io));const a=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);a.addEventListener("success",c=>{const l=c;t.closeConnection(),r(1===l.target.result)}),a.addEventListener("error",c=>{t.closeConnection(),i(c)})})})()}deleteDatabase(){var e=this;return _(function*(){return e.db&&e.dbOpen&&e.closeConnection(),new Promise((t,r)=>{const i=window.indexedDB.deleteDatabase(Pw),o=setTimeout(()=>r(!1),200);i.addEventListener("success",()=>(clearTimeout(o),t(!0))),i.addEventListener("blocked",()=>(clearTimeout(o),t(!0))),i.addEventListener("error",()=>(clearTimeout(o),r(!1)))})})()}}class mg{constructor(){this.cache=new Map}initialize(){return _(function*(){})()}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}setUserData(e,t){var r=this;return _(function*(){r.setItem(e,t)})()}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Nre{constructor(e){this.inMemoryCache=new mg,this.indexedDBCache=new Ore,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof Uu&&e.errorCode===Lu))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}getItem(e){var t=this;return _(function*(){const r=t.inMemoryCache.getItem(e);if(!r)try{return t.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield t.indexedDBCache.getItem(e)}catch(i){t.handleDatabaseAccessError(i)}return r})()}setItem(e,t){var r=this;return _(function*(){r.inMemoryCache.setItem(e,t);try{yield r.indexedDBCache.setItem(e,t)}catch(i){r.handleDatabaseAccessError(i)}})()}removeItem(e){var t=this;return _(function*(){t.inMemoryCache.removeItem(e);try{yield t.indexedDBCache.removeItem(e)}catch(r){t.handleDatabaseAccessError(r)}})()}getKeys(){var e=this;return _(function*(){const t=e.inMemoryCache.getKeys();if(0===t.length)try{return e.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield e.indexedDBCache.getKeys()}catch(r){e.handleDatabaseAccessError(r)}return t})()}containsKey(e){var t=this;return _(function*(){const r=t.inMemoryCache.containsKey(e);if(!r)try{return t.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield t.indexedDBCache.containsKey(e)}catch(i){t.handleDatabaseAccessError(i)}return r})()}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}clearPersistent(){var e=this;return _(function*(){try{e.logger.verbose("Deleting persistent keystore");const t=yield e.indexedDBCache.deleteDatabase();return t&&e.logger.verbose("Persistent keystore deleted"),t}catch(t){return e.handleDatabaseAccessError(t),!1}})()}}let gg=(()=>{class n{constructor(t,r,i){this.logger=t,function pne(n){if(!window)throw L(Za);if(!window.crypto)throw L(Nu);if(!n&&!window.crypto.subtle)throw L(Nu,"crypto_subtle_undefined")}(i??!1),this.cache=new Nre(this.logger),this.performanceClient=r}createNewGuid(){return Ar()}base64Encode(t){return ju(t)}base64Decode(t){return Dr(t)}base64UrlEncode(t){return ng(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}getPublicKeyThumbprint(t){var r=this;return _(function*(){const i=r.performanceClient?.startMeasurement(g.CryptoOptsGetPublicKeyThumbprint,t.correlationId),o=yield function gne(n,e){return Vw.apply(this,arguments)}(n.EXTRACTABLE,n.POP_KEY_USAGES),s=yield $w(o.publicKey),c=oB({e:s.e,kty:s.kty,n:s.n}),l=yield r.hashString(c),u=yield $w(o.privateKey),d=yield function vne(n,e,t){return Gw.apply(this,arguments)}(u,!1,["sign"]);return yield r.cache.setItem(l,{privateKey:d,publicKey:o.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),i&&i.end({success:!0}),l})()}removeTokenBindingKey(t){var r=this;return _(function*(){if(yield r.cache.removeItem(t),yield r.cache.containsKey(t))throw M(Im)})()}clearKeystore(){var t=this;return _(function*(){t.cache.clearInMemory();try{return yield t.cache.clearPersistent(),!0}catch(r){return r instanceof Error?t.logger.error(`Clearing keystore failed with error: ${r.message}`):t.logger.error("Clearing keystore failed with unknown error"),!1}})()}signJwt(t,r,i,o){var s=this;return _(function*(){const a=s.performanceClient?.startMeasurement(g.CryptoOptsSignJwt,o),c=yield s.cache.getItem(r);if(!c)throw L(Fu);const l=yield $w(c.publicKey),u=oB(l),d=ng(JSON.stringify({kid:r})),f=ng(ET.getShrHeaderString({...i?.header,alg:l.alg,kid:d}));t.cnf={jwk:JSON.parse(u)};const m=`${f}.${ng(JSON.stringify(t))}`,b=(new TextEncoder).encode(m),y=yield function _ne(n,e){return qw.apply(this,arguments)}(c.privateKey,b),x=`${m}.${so(new Uint8Array(y))}`;return a&&a.end({success:!0}),x})()}hashString(t){return _(function*(){return A1(t)})()}}return n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n})();function oB(n){return JSON.stringify(n,Object.keys(n).sort())}const nr=(n,e,t,r,i)=>(...o)=>{t.trace(`Executing function ${e}`);const s=r?.startMeasurement(e,i);if(i){const a=e+"CallCount";r?.incrementFields({[a]:1},i)}try{const a=n(...o);return s?.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a}},A=(n,e,t,r,i)=>(...o)=>{t.trace(`Executing function ${e}`);const s=r?.startMeasurement(e,i);if(i){const a=e+"CallCount";r?.incrementFields({[a]:1},i)}return r?.setPreQueueTime(e,i),n(...o).then(a=>(t.trace(`Returning result from ${e}`),s?.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a})};let Lre=(()=>{class n{constructor(t,r,i,o){this.networkInterface=t,this.logger=r,this.performanceClient=i,this.correlationId=o}detectRegion(t,r){var i=this;return _(function*(){i.performanceClient?.addQueueMeasurement(g.RegionDiscoveryDetectRegion,i.correlationId);let o=t;if(o)r.region_source="3";else{const s=n.IMDS_OPTIONS;try{const a=yield A(i.getRegionFromIMDS.bind(i),g.RegionDiscoveryGetRegionFromIMDS,i.logger,i.performanceClient,i.correlationId)(S.IMDS_VERSION,s);if(200===a.status&&(o=a.body,r.region_source="4"),400===a.status){const c=yield A(i.getCurrentVersion.bind(i),g.RegionDiscoveryGetCurrentVersion,i.logger,i.performanceClient,i.correlationId)(s);if(!c)return r.region_source="1",null;const l=yield A(i.getRegionFromIMDS.bind(i),g.RegionDiscoveryGetRegionFromIMDS,i.logger,i.performanceClient,i.correlationId)(c,s);200===l.status&&(o=l.body,r.region_source="4")}}catch{return r.region_source="1",null}}return o||(r.region_source="1"),o||null})()}getRegionFromIMDS(t,r){var i=this;return _(function*(){return i.performanceClient?.addQueueMeasurement(g.RegionDiscoveryGetRegionFromIMDS,i.correlationId),i.networkInterface.sendGetRequestAsync(`${S.IMDS_ENDPOINT}?api-version=${t}&format=text`,r,S.IMDS_TIMEOUT)})()}getCurrentVersion(t){var r=this;return _(function*(){r.performanceClient?.addQueueMeasurement(g.RegionDiscoveryGetCurrentVersion,r.correlationId);try{const i=yield r.networkInterface.sendGetRequestAsync(`${S.IMDS_ENDPOINT}?format=json`,t);return 400===i.status&&i.body&&i.body["newest-versions"]&&i.body["newest-versions"].length>0?i.body["newest-versions"][0]:null}catch{return null}})()}}return n.IMDS_OPTIONS={headers:{Metadata:"true"}},n})();class Zt{constructor(e,t,r,i,o,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new Lre(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(S.CIAM_AUTH_URL))return 3;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case S.ADFS:return 1;case S.DSTS:return 2}return 0}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new ge(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw M(Sr)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw M(Sr)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw M(Sr)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw M(Sm);return this.replacePath(this.metadata.end_session_endpoint)}throw M(Sr)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw M(Sr)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw M(Sr)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Zt.reservedTenantDomains.has(e.PathSegments[0])&&0===this.getAuthorityType(e)&&this.protocolMode!==$n.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const i=new ge(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let l=o[c];if(0===c&&this.canReplaceTenant(i)){const u=new ge(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==u&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${u}`),l=u)}a!==l&&(t=t.replace(`/${l}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||1===this.authorityType||this.protocolMode===$n.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){var e=this;return _(function*(){e.performanceClient?.addQueueMeasurement(g.AuthorityResolveEndpointsAsync,e.correlationId);const t=e.getCurrentMetadataEntity(),r=yield A(e.updateCloudDiscoveryMetadata.bind(e),g.AuthorityUpdateCloudDiscoveryMetadata,e.logger,e.performanceClient,e.correlationId)(t);e.canonicalAuthority=e.canonicalAuthority.replace(e.hostnameAndPort,t.preferred_network);const i=yield A(e.updateEndpointMetadata.bind(e),g.AuthorityUpdateEndpointMetadata,e.logger,e.performanceClient,e.correlationId)(t);e.updateCachedMetadata(t,r,{source:i}),e.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:i},e.correlationId)})()}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:U1(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){"cache"!==t&&"cache"!==r?.source&&(e.expiresAt=U1(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}updateEndpointMetadata(e){var t=this;return _(function*(){t.performanceClient?.addQueueMeasurement(g.AuthorityUpdateEndpointMetadata,t.correlationId);const r=t.updateEndpointMetadataFromLocalSources(e);if(r){if("hardcoded_values"===r.source&&t.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){const o=yield A(t.updateMetadataWithRegionalInformation.bind(t),g.AuthorityUpdateMetadataWithRegionalInformation,t.logger,t.performanceClient,t.correlationId)(r.metadata);ug(e,o,!1),e.canonical_authority=t.canonicalAuthority}return r.source}let i=yield A(t.getEndpointMetadataFromNetwork.bind(t),g.AuthorityGetEndpointMetadataFromNetwork,t.logger,t.performanceClient,t.correlationId)();if(i)return t.authorityOptions.azureRegionConfiguration?.azureRegion&&(i=yield A(t.updateMetadataWithRegionalInformation.bind(t),g.AuthorityUpdateMetadataWithRegionalInformation,t.logger,t.performanceClient,t.correlationId)(i)),ug(e,i,!0),"network";throw M(fm,t.defaultOpenIdConfigurationEndpoint)})()}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),ug(e,t,!1),{source:"config"};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return ug(e,i,!1),{source:"hardcoded_values",metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=H1(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:"cache"}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new ge(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Oe(im)}return null}getEndpointMetadataFromNetwork(){var e=this;return _(function*(){e.performanceClient?.addQueueMeasurement(g.AuthorityGetEndpointMetadataFromNetwork,e.correlationId);const t={},r=e.defaultOpenIdConfigurationEndpoint;e.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{const i=yield e.networkInterface.sendGetRequestAsync(r,t);return function xre(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}(i.body)?i.body:(e.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return e.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}})()}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in z1?z1[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(e){var t=this;return _(function*(){t.performanceClient?.addQueueMeasurement(g.AuthorityUpdateMetadataWithRegionalInformation,t.correlationId);const r=t.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==S.AZURE_REGION_AUTO_DISCOVER_FLAG)return t.regionDiscoveryMetadata.region_outcome="2",t.regionDiscoveryMetadata.region_used=r,Zt.replaceWithRegionalInformation(e,r);const i=yield A(t.regionDiscovery.detectRegion.bind(t.regionDiscovery),g.RegionDiscoveryDetectRegion,t.logger,t.performanceClient,t.correlationId)(t.authorityOptions.azureRegionConfiguration?.environmentRegion,t.regionDiscoveryMetadata);if(i)return t.regionDiscoveryMetadata.region_outcome="4",t.regionDiscoveryMetadata.region_used=i,Zt.replaceWithRegionalInformation(e,i);t.regionDiscoveryMetadata.region_outcome="5"}return e})()}updateCloudDiscoveryMetadata(e){var t=this;return _(function*(){t.performanceClient?.addQueueMeasurement(g.AuthorityUpdateCloudDiscoveryMetadata,t.correlationId);const r=t.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;const i=yield A(t.getCloudDiscoveryMetadataFromNetwork.bind(t),g.AuthorityGetCloudDiscoveryMetadataFromNetwork,t.logger,t.performanceClient,t.correlationId)();if(i)return hT(e,i,!0),"network";throw Oe(om)})()}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||S.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||S.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||S.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),hT(e,t,!1),"config";if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=function pre(n){return hg(mT.metadata,n)}(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),hT(e,i,!1),"hardcoded_values";this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=H1(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),"cache"):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(3===this.authorityType)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Zt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const t=hg(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Oe(yu)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Zt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){var e=this;return _(function*(){e.performanceClient?.addQueueMeasurement(g.AuthorityGetCloudDiscoveryMetadataFromNetwork,e.correlationId);const t=`${S.AAD_INSTANCE_DISCOVERY_ENDPT}${e.canonicalAuthority}oauth2/v2.0/authorize`,r={};let i=null;try{const o=yield e.networkInterface.sendGetRequestAsync(t,r);let s,a;if(function Pre(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}(o.body))s=o.body,a=s.metadata,e.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else{if(!function Fre(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}(o.body))return e.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(e.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===S.INVALID_INSTANCE)return e.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;e.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),e.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),e.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}e.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),i=hg(a,e.hostnameAndPort)}catch(o){return e.logger.error(o instanceof $e?`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${o.errorCode}\nError Description: ${o.errorMessage}`:`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${o.name}\nError Description: ${o.message}`),null}return i||(e.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),e.logger.verbose("Creating custom Authority for custom domain scenario."),i=Zt.createCloudDiscoveryMetadataFromHost(e.hostnameAndPort)),i})()}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&ge.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;return t&&"none"!==t.azureCloudInstance&&(r=`${t.azureCloudInstance}/${t.tenant?t.tenant:S.DEFAULT_COMMON_TENANT}/`),r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return S.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw M(Sr)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return G1.has(e)}static isPublicCloudAuthority(e){return S.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){const i=new ge(e);i.validateAsUri();const o=i.getUrlComponents();let s=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${t}.${S.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=ge.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,t){const r={...e};return r.authorization_endpoint=Zt.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=Zt.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=Zt.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e;const i=new ge(e).getUrlComponents();return 0===i.PathSegments.length&&i.HostNameAndPort.endsWith(S.CIAM_AUTH_URL)&&(t=`${t}${i.HostNameAndPort.split(".")[0]}${S.AAD_TENANT_DOMAIN_SUFFIX}`),t}}function sB(n){return n.endsWith(S.FORWARD_SLASH)?n:`${n}${S.FORWARD_SLASH}`}Zt.reservedTenantDomains=new Set(["{tenant}","{tenantid}","common","consumers","organizations"]);const sc="no_tokens_found",vg="native_account_unavailable",wT="refresh_token_expired",TT="ux_not_allowed",ac="bad_token",aB=["interaction_required","consent_required","login_required",ac,TT],$re=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],_g={[sc]:"No refresh token found in the cache. Please sign-in.",[vg]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[wT]:"Refresh token has expired.",[ac]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[TT]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class Mr extends $e{constructor(e,t,r,i,o,s,a,c){super(e,t,r),Object.setPrototypeOf(this,Mr.prototype),this.timestamp=i||S.EMPTY_STRING,this.traceId=o||S.EMPTY_STRING,this.correlationId=s||S.EMPTY_STRING,this.claims=a||S.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function cB(n,e,t){const r=!!n&&aB.indexOf(n)>-1,i=!!t&&$re.indexOf(t)>-1,o=!!e&&aB.some(s=>e.indexOf(s)>-1);return r||o||i}function yg(n){return new Mr(n,_g[n])}function bg(n,e,t){return{clientId:n,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:t,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}class lB{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){const o=r[i],[s,...a]=decodeURIComponent(o).trim().split("="),c=a.join("=");if(s===t)return c}return""}getUserData(){throw M(fe)}setItem(e,t,r,i=!0,o="Lax"){let s=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${o};`;if(r){s+=`expires=${function Gre(n){return new Date((new Date).getTime()+864e5*n).toUTCString()}(r)};`}(i||"None"===o)&&(s+="Secure;"),document.cookie=s}setUserData(){return _(function*(){return Promise.reject(M(fe))})()}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(r=>{const i=decodeURIComponent(r).trim().split("=");t.push(i[0])}),t}containsKey(e){return this.getKeys().includes(e)}}function ST(n){const e=n.getItem("msal.account.keys");return e?JSON.parse(e):[]}function DT(n,e){const t=e.getItem(`msal.token.keys.${n}`);if(t){const r=JSON.parse(t);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}const uB="msal.cache.encryption";class Kre{constructor(e,t,r){if(!window.localStorage)throw iT(Vu);this.memoryStorage=new mg,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=r,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}initialize(e){var t=this;return _(function*(){const r=new lB,i=r.getItem(uB);let o={key:"",id:""};if(i)try{o=JSON.parse(i)}catch{}if(o.key&&o.id){const s=nr(ao,g.Base64Decode,t.logger,t.performanceClient,e)(o.key);t.encryptionCookie={id:o.id,key:yield A(S1,g.GenerateHKDF,t.logger,t.performanceClient,e)(s)},yield A(t.importExistingCache.bind(t),g.ImportExistingCache,t.logger,t.performanceClient,e)(e)}else{t.clear();const s=Ar(),a=yield A(I1,g.GenerateBaseKey,t.logger,t.performanceClient,e)(),c=nr(so,g.UrlEncodeArr,t.logger,t.performanceClient,e)(new Uint8Array(a));t.encryptionCookie={id:s,key:yield A(S1,g.GenerateHKDF,t.logger,t.performanceClient,e)(a)},r.setItem(uB,JSON.stringify({id:s,key:c}),0,!0,"None")}t.broadcast.addEventListener("message",t.updateCache.bind(t)),t.initialized=!0})()}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw L(ec);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}setUserData(e,t,r){var i=this;return _(function*(){if(!i.initialized||!i.encryptionCookie)throw L(ec);const{data:o,nonce:s}=yield A(Cne,g.Encrypt,i.logger,i.performanceClient,r)(i.encryptionCookie.key,t,i.getContext(e)),a={id:i.encryptionCookie.id,nonce:s,data:o};i.memoryStorage.setItem(e,t),i.setItem(e,JSON.stringify(a)),i.broadcast.postMessage({key:e,value:t,context:i.getContext(e)})})()}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),ST(this).forEach(r=>this.removeItem(r));const t=DT(this.clientId,this);t.idToken.forEach(r=>this.removeItem(r)),t.accessToken.forEach(r=>this.removeItem(r)),t.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(S.CACHE_PREFIX)||-1!==r.indexOf(this.clientId))&&this.removeItem(r)})}importExistingCache(e){var t=this;return _(function*(){if(!t.encryptionCookie)return;let r=ST(t);r=yield t.importArray(r,e),t.setItem("msal.account.keys",JSON.stringify(r));const i=DT(t.clientId,t);i.idToken=yield t.importArray(i.idToken,e),i.accessToken=yield t.importArray(i.accessToken,e),i.refreshToken=yield t.importArray(i.refreshToken,e),t.setItem(`msal.token.keys.${t.clientId}`,JSON.stringify(i))})()}getItemFromEncryptedCache(e,t){var r=this;return _(function*(){if(!r.encryptionCookie)return null;const i=r.getItem(e);if(!i)return null;let o;try{o=JSON.parse(i)}catch{return null}return o.id&&o.nonce&&o.data?o.id!==r.encryptionCookie.id?(r.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):A(Ene,g.Decrypt,r.logger,r.performanceClient,t)(r.encryptionCookie.key,o.nonce,r.getContext(e),o.data):(r.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)})()}importArray(e,t){var r=this;return _(function*(){const i=[],o=[];return e.forEach(s=>{const a=r.getItemFromEncryptedCache(s,t).then(c=>{c?(r.memoryStorage.setItem(s,c),i.push(s)):r.removeItem(s)});o.push(a)}),yield Promise.all(o),i})()}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(g.LocalStorageUpdated);t.add({isBackground:!0});const{key:r,value:i,context:o}=e.data;return r?o&&o!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),void t.end({success:!1,errorCode:"contextMismatch"})):(i?(this.memoryStorage.setItem(r,i),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class Wre{constructor(){if(!window.sessionStorage)throw iT(Vu)}initialize(){return _(function*(){})()}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}setUserData(e,t){var r=this;return _(function*(){r.setItem(e,t)})()}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}class AT extends _T{constructor(e,t,r,i,o,s,a){super(e,r,i,o,a),this.cacheConfig=t,this.logger=i,this.internalStorage=new mg,this.browserStorage=dB(e,t.cacheLocation,i,o),this.temporaryCacheStorage=dB(e,t.temporaryCacheLocation,i,o),this.cookieStorage=new lB,this.eventHandler=s}initialize(e){var t=this;return _(function*(){yield t.browserStorage.initialize(e),t.trackVersionChanges(e)})()}trackVersionChanges(e){const t=this.browserStorage.getItem("msal.version");t&&(this.logger.info(`MSAL.js was last initialized by version: ${t}`),this.performanceClient.addFields({previousLibraryVersion:t},e)),t!==ds&&this.browserStorage.setItem("msal.version",ds)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch{return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const r=this.validateAndParseJson(t);return r&&vn.isAccountEntity(r)?_T.toObject(new vn,r):(this.removeAccountKeyFromMap(e),null)}setAccount(e,t){var r=this;return _(function*(){r.logger.trace("BrowserCacheManager.setAccount called");const i=e.generateAccountKey();yield A(r.browserStorage.setUserData.bind(r.browserStorage),g.SetUserData,r.logger,r.performanceClient)(i,JSON.stringify(e),t);const o=r.addAccountKeyToMap(i);r.cacheConfig.cacheLocation===Rt.LocalStorage&&o&&r.eventHandler.emitEvent("msal:accountAdded",void 0,e.getAccountInfo())})()}getAccountKeys(){return ST(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem("msal.account.keys",JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),r=t.indexOf(e);r>-1?(t.splice(r,1),this.browserStorage.setItem("msal.account.keys",JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,t){super.removeAccount(e,t),this.removeAccountKeyFromMap(e)}removeAccountContext(e,t){super.removeAccountContext(e,t),this.cacheConfig.cacheLocation===Rt.LocalStorage&&this.eventHandler.emitEvent("msal:accountRemoved",void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,ie.ID_TOKEN)}removeAccessToken(e,t){super.removeAccessToken(e,t),this.removeTokenKey(e,ie.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,ie.REFRESH_TOKEN)}getTokenKeys(){return DT(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(t){case ie.ID_TOKEN:-1===r.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case ie.ACCESS_TOKEN:-1===r.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case ie.REFRESH_TOKEN:-1===r.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),M(Ru)}this.browserStorage.setItem(`msal.token.keys.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(t){case ie.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const i=r.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case ie.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=r.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case ie.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const s=r.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),M(Ru)}this.browserStorage.setItem(`msal.token.keys.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,ie.ID_TOKEN),null;const r=this.validateAndParseJson(t);return r&&function tre(n){return!!n&&dT(n)&&n.hasOwnProperty("realm")&&n.credentialType===ie.ID_TOKEN}(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,ie.ID_TOKEN),null)}setIdTokenCredential(e,t){var r=this;return _(function*(){r.logger.trace("BrowserCacheManager.setIdTokenCredential called");const i=Ku(e);yield A(r.browserStorage.setUserData.bind(r.browserStorage),g.SetUserData,r.logger,r.performanceClient)(i,JSON.stringify(e),t),r.addTokenKey(i,ie.ID_TOKEN)})()}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,ie.ACCESS_TOKEN),null;const r=this.validateAndParseJson(t);return r&&function ere(n){return!!n&&dT(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===ie.ACCESS_TOKEN||n.credentialType===ie.ACCESS_TOKEN_WITH_AUTH_SCHEME)}(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,ie.ACCESS_TOKEN),null)}setAccessTokenCredential(e,t){var r=this;return _(function*(){r.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const i=Ku(e);yield A(r.browserStorage.setUserData.bind(r.browserStorage),g.SetUserData,r.logger,r.performanceClient)(i,JSON.stringify(e),t),r.addTokenKey(i,ie.ACCESS_TOKEN)})()}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,ie.REFRESH_TOKEN),null;const r=this.validateAndParseJson(t);return r&&function nre(n){return!!n&&dT(n)&&n.credentialType===ie.REFRESH_TOKEN}(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,ie.REFRESH_TOKEN),null)}setRefreshTokenCredential(e,t){var r=this;return _(function*(){r.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const i=Ku(e);yield A(r.browserStorage.setUserData.bind(r.browserStorage),g.SetUserData,r.logger,r.performanceClient)(i,JSON.stringify(e),t),r.addTokenKey(i,ie.REFRESH_TOKEN)})()}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&function dre(n,e){return!!e&&0===n.indexOf(cw)&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment")}(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function ure({environment:n,clientId:e}){return[cw,n,e].join(Xt.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&function cre(n,e){const t=0===n.indexOf(Gt.CACHE_KEY);let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&function hre(n,e){return!!e&&0===n.indexOf("authority-metadata")&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri")}(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem("wrapper.sku",e),this.internalStorage.setItem("wrapper.version",t)}getWrapperMetadata(){return[this.internalStorage.getItem("wrapper.sku")||S.EMPTY_STRING,this.internalStorage.getItem("wrapper.version")||S.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey("active-account-filters"),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(t);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey("active-account-filters");e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(t,JSON.stringify({homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId}))):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t)),this.eventHandler.emitEvent("msal:activeAccountChanged")}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&function lre(n,e){let t=!1;n&&(t=0===n.indexOf("throttling"));let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===Rt.LocalStorage){const o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,t,r){const i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(t=>{(-1!==t.indexOf(S.CACHE_PREFIX)||-1!==t.indexOf(this.clientId))&&this.removeTemporaryItem(t)}),this.browserStorage.getKeys().forEach(t=>{(-1!==t.indexOf(S.CACHE_PREFIX)||-1!==t.indexOf(this.clientId))&&this.browserStorage.removeItem(t)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(g.ClearTokensAndKeysWithClaims,e);const t=this.getTokenKeys();let r=0;t.accessToken.forEach(i=>{const o=this.getAccessTokenCredential(i);o?.requestedClaimsHash&&i.includes(o.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(i,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Ir.startsWith(e,S.CACHE_PREFIX)?e:`${S.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey("request.params")),this.removeTemporaryItem(this.generateCacheKey("code.verifier")),this.removeTemporaryItem(this.generateCacheKey("request.origin")),this.removeTemporaryItem(this.generateCacheKey("urlHash")),this.removeTemporaryItem(this.generateCacheKey("request.native")),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=ju(JSON.stringify(e));if(this.setTemporaryCache("request.params",r,!0),t){const i=ju(t);this.setTemporaryCache("code.verifier",i,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache("request.params",!0);if(!e)throw L(Hm);const t=this.getTemporaryCache("code.verifier",!0);let r,i="";try{r=JSON.parse(Dr(e)),t&&(i=Dr(t))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),L(jm)}return[r,i]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache("request.native",!0);return e?this.validateAndParseJson(e)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress()?.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${S.CACHE_PREFIX}.interaction.status`,t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),R1(window),null}}setInteractionInProgress(e,t="signin"){const r=`${S.CACHE_PREFIX}.interaction.status`;if(e){if(this.getInteractionInProgress())throw L(Om);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:t}),!1)}else!e&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(r)}hydrateCache(e,t){var r=this;return _(function*(){const i=cg(e.account?.homeAccountId,e.account?.environment,e.idToken,r.clientId,e.tenantId);let o;t.claims&&(o=yield r.cryptoImpl.hashString(t.claims));const s=lg(e.account?.homeAccountId,e.account.environment,e.accessToken,r.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?L1(e.expiresOn):0,e.extExpiresOn?L1(e.extExpiresOn):0,Dr,void 0,e.tokenType,void 0,t.sshKid,t.claims,o);return r.saveCacheRecord({idToken:i,accessToken:s},e.correlationId)})()}saveCacheRecord(e,t,r){var i=()=>super.saveCacheRecord,o=this;return _(function*(){try{yield i().call(o,e,t,r)}catch(s){if(s instanceof oc&&o.performanceClient&&t)try{const a=o.getTokenKeys();o.performanceClient.addFields({cacheRtCount:a.refreshToken.length,cacheIdCount:a.idToken.length,cacheAtCount:a.accessToken.length},t)}catch{}throw s}})()}}function dB(n,e,t,r){try{switch(e){case Rt.LocalStorage:return new Kre(n,t,r);case Rt.SessionStorage:return new Wre}}catch(i){t.error(i)}return new mg}class iie{constructor(e){this.eventCallbacks=new Map,this.logger=e||new co({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,r){if(typeof window<"u"){const i=r||function Ane(){return Ar()}();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,r,i){const o={eventType:e,interactionType:t||null,payload:r||null,error:i||null,timestamp:Date.now()};switch(e){case"msal:accountAdded":case"msal:accountRemoved":case"msal:activeAccountChanged":this.broadcastChannel?.postMessage(o);break;default:this.invokeCallbacks(o)}}invokeCallbacks(e){this.eventCallbacks.forEach(([t,r],i)=>{(0===r.length||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${i}: ${e.eventType}`),t.apply(null,[e]))})}invokeCrossTabCallbacks(e){this.invokeCallbacks(e.data)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}const hs="client_id",hB="redirect_uri",oie="response_type",sie="response_mode",cie="claims",lie="scope",die="state",hie="nonce",fie="prompt",mie="code_challenge",gie="code_challenge_method",_ie="client-request-id",yie="x-client-SKU",bie="x-client-VER",Cie="x-client-OS",Eie="x-client-CPU",Sie="x-app-name",Die="x-app-ver",fB="token_type",pB="req_cnf",mB="return_spa_code",Nie="nativebroker",Pie="sid",Fie="login_hint",Lie="domain_hint",Cg="brk_client_id",Eg="brk_redirect_uri",RT="instance_aware",Uie="ear_jwk",Hie="ear_jwe_crypto";function wg(n,e,t){if(!e)return;const r=n.get(hs);r&&n.has(Cg)&&t?.addFields({embeddedClientId:r,embeddedRedirectUri:n.get(hB)},e)}function gB(n,e){n.set(oie,e)}function MT(n,e,t=!0,r=gu){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const i=t?[...e||[],...r]:e||[],o=new Mt(i);n.set(lie,o.printScopes())}function kT(n,e){n.set(hs,e)}function OT(n,e){n.set(hB,e)}function Tg(n,e){n.set(Fie,e)}function Ig(n,e){n.set(mn.CCS_HEADER,`UPN:${e}`)}function Yu(n,e){n.set(mn.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function vB(n,e){n.set(Pie,e)}function NT(n,e,t){const r=function Zie(n,e){let t;if(n)try{t=JSON.parse(n)}catch{throw Oe(Ka)}else t={};return e&&e.length>0&&(t.hasOwnProperty(Gp.ACCESS_TOKEN)||(t[Gp.ACCESS_TOKEN]={}),t[Gp.ACCESS_TOKEN][Gp.XMS_CC]={values:e}),JSON.stringify(t)}(e,t);try{JSON.parse(r)}catch{throw Oe(Ka)}n.set(cie,r)}function xT(n,e){n.set(_ie,e)}function PT(n,e){n.set(yie,e.sku),n.set(bie,e.version),e.os&&n.set(Cie,e.os),e.cpu&&n.set(Eie,e.cpu)}function FT(n,e){e?.appName&&n.set(Sie,e.appName),e?.appVersion&&n.set(Die,e.appVersion)}function _B(n,e){e&&n.set(die,e)}function yB(n,e){n.set("client_secret",e)}function bB(n,e){e&&n.set("client_assertion",e)}function CB(n,e){e&&n.set("client_assertion_type",e)}function EB(n,e){n.set("grant_type",e)}function LT(n){n.set(Zte,"1")}function wB(n){n.has(RT)||n.set(RT,"true")}function fs(n,e){Object.entries(e).forEach(([t,r])=>{!n.has(t)&&r&&n.set(t,r)})}function BT(n,e){e&&(n.set(fB,ke.POP),n.set(pB,e))}function TB(n,e){e&&(n.set(fB,ke.SSH),n.set(pB,e))}function IB(n,e){n.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),n.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}function SB(n){n.set("x-ms-lib-capability","retry-after, h429")}function Sg(n,e,t){n.has(Cg)||n.set(Cg,e),n.has(Eg)||n.set(Eg,t)}function DB(n,e,t,r,i,o,s){return UT.apply(this,arguments)}function UT(){return(UT=_(function*(n,e,t,r,i,o,s){s?.addQueueMeasurement(g.AuthorityFactoryCreateDiscoveredInstance,o);const a=Zt.transformCIAMAuthority(sB(n)),c=new Zt(a,e,t,r,i,o,s);try{return yield A(c.resolveEndpointsAsync.bind(c),g.AuthorityResolveEndpointsAsync,i,s,o)(),c}catch{throw M(Sr)}})).apply(this,arguments)}class ps extends $e{constructor(e,t,r,i,o){super(e,t,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,ps.prototype)}}class ni{static generateThrottlingStorageKey(e){return`throttling.${JSON.stringify(e)}`}static preProcess(e,t){const r=ni.generateThrottlingStorageKey(t),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now())return void e.removeItem(r);throw new ps(i.errorCodes?.join(" ")||S.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,r){if(ni.checkResponseStatus(r)||ni.checkResponseForRetryAfter(r)){const i={throttleTime:ni.calculateThrottleTime(parseInt(r.headers[mn.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(ni.generateThrottlingStorageKey(t),i)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&e.headers.hasOwnProperty(mn.RETRY_AFTER)&&(e.status<200||e.status>=300)}static calculateThrottleTime(e){const t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||60),r+3600))}static removeThrottle(e,t,r,i){const o=bg(t,r,i),s=this.generateThrottlingStorageKey(o);e.removeItem(s)}}class HT{constructor(e,t){this.config=function wre({authOptions:n,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:l,serverTelemetryManager:u,persistencePlugin:d,serializableCache:h}){const f={...gre,...t};return{authOptions:Tre(n),systemOptions:{...Q1,...e},loggerOptions:f,cacheOptions:{...vre,...r},storageInterface:i||new mre(n.clientId,ag,new co(f),new Y1),networkInterface:o||_re,cryptoInterface:s||ag,clientCredentials:a||bre,libraryInfo:{...yre,...c},telemetry:{...Ere,...l},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null}}(e),this.logger=new co(this.config.loggerOptions,P1,lT),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[mn.CONTENT_TYPE]=S.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case"home_account_id":try{const r=ic(e.credential);t[mn.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case"UPN":t[mn.CCS_HEADER]=`UPN: ${e.credential}`}return t}executePostToTokenEndpoint(e,t,r,i,o,s){var a=this;return _(function*(){s&&a.performanceClient?.addQueueMeasurement(s,o);const c=yield a.sendPostRequest(i,e,{body:t,headers:r},o);return a.config.serverTelemetryManager&&c.status<500&&429!==c.status&&a.config.serverTelemetryManager.clearTelemetryCache(),c})()}sendPostRequest(e,t,r,i){var o=this;return _(function*(){let s;ni.preProcess(o.cacheManager,e);try{s=yield A(o.networkClient.sendPostRequestAsync.bind(o.networkClient),g.NetworkClientSendPostRequestAsync,o.logger,o.performanceClient,i)(t,r);const a=s.headers||{};o.performanceClient?.addFields({refreshTokenSize:s.body.refresh_token?.length||0,httpVerToken:a[mn.X_MS_HTTP_VERSION]||"",requestId:a[mn.X_MS_REQUEST_ID]||""},i)}catch(a){if(a instanceof pg){const c=a.responseHeaders;throw c&&o.performanceClient?.addFields({httpVerToken:c[mn.X_MS_HTTP_VERSION]||"",requestId:c[mn.X_MS_REQUEST_ID]||"",contentTypeHeader:c[mn.CONTENT_TYPE]||void 0,contentLengthHeader:c[mn.CONTENT_LENGTH]||void 0,httpStatus:a.httpStatus},i),a.error}throw a instanceof $e?a:M(hm)}return ni.postProcess(o.cacheManager,e,s),s})()}updateAuthority(e,t){var r=this;return _(function*(){r.performanceClient?.addQueueMeasurement(g.UpdateTokenEndpointAuthority,t);const i=`https://${e}/${r.authority.tenant}/`,o=yield DB(i,r.networkClient,r.cacheManager,r.authority.options,r.logger,t,r.performanceClient);r.authority=o})()}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&Sg(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&fs(t,e.tokenQueryParameters),xT(t,e.correlationId),wg(t,e.correlationId,this.performanceClient),ku(t)}}class cc{static setRequestState(e,t,r){const i=cc.generateLibraryState(e,r);return t?`${i}${S.RESOURCE_DELIM}${t}`:i}static generateLibraryState(e,t){if(!e)throw M(Au);const r={id:e.createNewGuid()};t&&(r.meta=t);const i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,t){if(!e)throw M(Au);if(!t)throw M(ro);try{const r=t.split(S.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(S.RESOURCE_DELIM):S.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||S.EMPTY_STRING,libraryState:a}}catch{throw M(ro)}}}class lc{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}generateCnf(e,t){var r=this;return _(function*(){r.performanceClient?.addQueueMeasurement(g.PopTokenGenerateCnf,e.correlationId);const i=yield A(r.generateKid.bind(r),g.PopTokenGenerateCnf,t,r.performanceClient,e.correlationId)(e),o=r.cryptoUtils.base64UrlEncode(JSON.stringify(i));return{kid:i.kid,reqCnfString:o}})()}generateKid(e){var t=this;return _(function*(){return t.performanceClient?.addQueueMeasurement(g.PopTokenGenerateKid,e.correlationId),{kid:yield t.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:"sw"}})()}signPopToken(e,t,r){var i=this;return _(function*(){return i.signPayload(e,t,r)})()}signPayload(e,t,r,i){var o=this;return _(function*(){const{resourceRequestMethod:s,resourceRequestUri:a,shrClaims:c,shrNonce:l,shrOptions:u}=r,h=(a?new ge(a):void 0)?.getUrlComponents();return o.cryptoUtils.signJwt({at:e,ts:zn(),m:s?.toUpperCase(),u:h?.HostNameAndPort,nonce:l||o.cryptoUtils.createNewGuid(),p:h?.AbsolutePath,q:h?.QueryString?[[],h.QueryString]:void 0,client_claims:c||void 0,...i},t,u,r.correlationId)})()}}class noe{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class ms{constructor(e,t,r,i,o,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const r=`Error(s): ${e.error_codes||S.NOT_AVAILABLE} - Timestamp: ${e.timestamp||S.NOT_AVAILABLE} - Description: ${e.error_description||S.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||S.NOT_AVAILABLE} - Trace ID: ${e.trace_id||S.NOT_AVAILABLE}`,i=e.error_codes?.length?e.error_codes[0]:void 0,o=new ps(e.error,r,e.suberror,i,e.status);if(t&&e.status&&e.status>=500&&e.status<=599)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(t&&e.status&&e.status>=400&&e.status<=499)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);throw cB(e.error,e.error_description,e.suberror)?new Mr(e.error,e.error_description,e.suberror,e.timestamp||S.EMPTY_STRING,e.trace_id||S.EMPTY_STRING,e.correlation_id||S.EMPTY_STRING,e.claims||S.EMPTY_STRING,i):o}}handleServerTokenResponse(e,t,r,i,o,s,a,c,l){var u=this;return _(function*(){let d,h;if(u.performanceClient?.addQueueMeasurement(g.HandleServerTokenResponse,e.correlation_id),e.id_token){if(d=nc(e.id_token||S.EMPTY_STRING,u.cryptoObj.base64Decode),o&&o.nonce&&d.nonce!==o.nonce)throw M(gm);if(i.maxAge||0===i.maxAge){const m=d.auth_time;if(!m)throw M(wu);F1(m,i.maxAge)}}u.homeAccountIdentifier=vn.generateHomeAccountId(e.client_info||S.EMPTY_STRING,t.authorityType,u.logger,u.cryptoObj,d),o&&o.state&&(h=cc.parseRequestState(u.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;const f=u.generateCacheRecord(e,t,r,i,d,s,o);let p;try{if(u.persistencePlugin&&u.serializableCache&&(u.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new noe(u.serializableCache,!0),yield u.persistencePlugin.beforeCacheAccess(p)),a&&!c&&f.account){const m=f.account.generateAccountKey();if(!u.cacheStorage.getAccount(m))return u.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield ms.generateAuthenticationResult(u.cryptoObj,t,f,!1,i,d,h,void 0,l)}yield u.cacheStorage.saveCacheRecord(f,i.correlationId,i.storeInCache)}finally{u.persistencePlugin&&u.serializableCache&&p&&(u.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield u.persistencePlugin.afterCacheAccess(p))}return ms.generateAuthenticationResult(u.cryptoObj,t,f,!1,i,d,h,e,l)})()}generateCacheRecord(e,t,r,i,o,s,a){const c=t.getPreferredCache();if(!c)throw M(Su);const l=V1(o);let u,d;e.id_token&&o&&(u=cg(this.homeAccountIdentifier,c,e.id_token,this.clientId,l||""),d=jT(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,c,l,a,void 0,this.logger));let h=null;if(e.access_token){const m=e.scope?Mt.fromString(e.scope):new Mt(i.scopes||[]),v=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,b=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,y=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,R=r+v,x=R+b,K=y&&y>0?r+y:void 0;h=lg(this.homeAccountIdentifier,c,e.access_token,this.clientId,l||t.tenant||"",m.printScopes(),R,x,this.cryptoObj.base64Decode,K,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let f=null;if(e.refresh_token){let m;e.refresh_token_expires_in&&(m=r+("string"==typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)),f=B1(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,m)}let p=null;return e.foci&&(p={clientId:this.clientId,environment:c,familyId:e.foci}),{account:d,idToken:u,accessToken:h,refreshToken:f,appMetadata:p}}static generateAuthenticationResult(e,t,r,i,o,s,a,c,l){return _(function*(){let f,p,u=S.EMPTY_STRING,d=[],h=null,m=S.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType!==ke.POP||o.popKid)u=r.accessToken.secret;else{const R=new lc(e),{secret:x,keyId:K}=r.accessToken;if(!K)throw M(Mu);u=yield R.signPopToken(x,K,o)}d=Mt.fromString(r.accessToken.target).asArray(),h=rc(r.accessToken.expiresOn),f=rc(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(p=rc(r.accessToken.refreshOn))}r.appMetadata&&(m="1"===r.appMetadata.familyId?"1":"");const v=s?.oid||s?.sub||"",b=s?.tid||"";c?.spa_accountid&&r.account&&(r.account.nativeAccountId=c?.spa_accountid);const y=r.account?pT(r.account.getAccountInfo(),void 0,s,r.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:v,tenantId:b,scopes:d,account:y,idToken:r?.idToken?.secret||"",idTokenClaims:s||{},accessToken:u,fromCache:i,expiresOn:h,extExpiresOn:f,refreshOn:p,correlationId:o.correlationId,requestId:l||S.EMPTY_STRING,familyId:m,tokenType:r.accessToken?.tokenType||S.EMPTY_STRING,state:a?a.userRequestState:S.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||S.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||S.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}})()}}function jT(n,e,t,r,i,o,s,a,c,l,u){u?.verbose("setCachedAccount called");const h=n.getAccountKeys().find(b=>b.startsWith(t));let f=null;h&&(f=n.getAccount(h));const p=f||vn.createAccount({homeAccountId:t,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},e,r),m=p.tenantProfiles||[],v=a||p.realm;if(v&&!m.find(b=>b.tenantId===v)){const b=fT(t,p.localAccountId,v,i);m.push(b)}return p.tenantProfiles=m,p}class roe{static validateRedirectUri(e){if(!e)throw Oe(Qp)}static validatePrompt(e){const t=[];for(const r in zt)t.push(zt[r]);if(t.indexOf(e)<0)throw Oe(em)}static validateClaims(e){try{JSON.parse(e)}catch{throw Oe(Ka)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw Oe(Wa);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([c1.PLAIN,c1.S256].indexOf(e)<0)throw Oe(rm)}}function AB(n,e,t){return VT.apply(this,arguments)}function VT(){return(VT=_(function*(n,e,t){return"string"==typeof n?n:n({clientId:e,tokenEndpoint:t})})).apply(this,arguments)}class RB extends HT{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}acquireToken(e,t){var r=this;return _(function*(){if(r.performanceClient?.addQueueMeasurement(g.AuthClientAcquireToken,e.correlationId),!e.code)throw M(ym);const i=zn(),o=yield A(r.executeTokenRequest.bind(r),g.AuthClientExecuteTokenRequest,r.logger,r.performanceClient,e.correlationId)(r.authority,e),s=o.headers?.[mn.X_MS_REQUEST_ID],a=new ms(r.config.authOptions.clientId,r.cacheManager,r.cryptoUtils,r.logger,r.config.serializableCache,r.config.persistencePlugin,r.performanceClient);return a.validateTokenResponse(o.body),A(a.handleServerTokenResponse.bind(a),g.HandleServerTokenResponse,r.logger,r.performanceClient,e.correlationId)(o.body,r.authority,i,e,t,void 0,void 0,void 0,s)})()}getLogoutUri(e){if(!e)throw Oe(nm);const t=this.createLogoutUrlQueryString(e);return ge.appendQueryString(this.authority.endSessionEndpoint,t)}executeTokenRequest(e,t){var r=this;return _(function*(){r.performanceClient?.addQueueMeasurement(g.AuthClientExecuteTokenRequest,t.correlationId);const i=r.createTokenQueryParameters(t),o=ge.appendQueryString(e.tokenEndpoint,i),s=yield A(r.createTokenRequestBody.bind(r),g.AuthClientCreateTokenRequestBody,r.logger,r.performanceClient,t.correlationId)(t);let a;if(t.clientInfo)try{const u=dg(t.clientInfo,r.cryptoUtils.base64Decode);a={credential:`${u.uid}${Xt.CLIENT_INFO_SEPARATOR}${u.utid}`,type:"home_account_id"}}catch(u){r.logger.verbose("Could not parse client info for CCS Header: "+u)}const c=r.createTokenRequestHeaders(a||t.ccsCredential),l=bg(r.config.authOptions.clientId,t);return A(r.executePostToTokenEndpoint.bind(r),g.AuthorizationCodeClientExecutePostToTokenEndpoint,r.logger,r.performanceClient,t.correlationId)(o,s,c,l,t.correlationId,g.AuthorizationCodeClientExecutePostToTokenEndpoint)})()}createTokenRequestBody(e){var t=this;return _(function*(){t.performanceClient?.addQueueMeasurement(g.AuthClientCreateTokenRequestBody,e.correlationId);const r=new Map;if(kT(r,e.embeddedClientId||e.tokenBodyParameters?.[hs]||t.config.authOptions.clientId),t.includeRedirectUri?OT(r,e.redirectUri):roe.validateRedirectUri(e.redirectUri),MT(r,e.scopes,!0,t.oidcDefaultScopes),function Yie(n,e){n.set("code",e)}(r,e.code),PT(r,t.config.libraryInfo),FT(r,t.config.telemetry.application),SB(r),t.serverTelemetryManager&&!X1(t.config)&&IB(r,t.serverTelemetryManager),e.codeVerifier&&function Xie(n,e){n.set("code_verifier",e)}(r,e.codeVerifier),t.config.clientCredentials.clientSecret&&yB(r,t.config.clientCredentials.clientSecret),t.config.clientCredentials.clientAssertion){const o=t.config.clientCredentials.clientAssertion;bB(r,yield AB(o.assertion,t.config.authOptions.clientId,e.resourceRequestUri)),CB(r,o.assertionType)}if(EB(r,"authorization_code"),LT(r),e.authenticationScheme===ke.POP){const o=new lc(t.cryptoUtils,t.performanceClient);let s;s=e.popKid?t.cryptoUtils.encodeKid(e.popKid):(yield A(o.generateCnf.bind(o),g.PopTokenGenerateCnf,t.logger,t.performanceClient,e.correlationId)(e,t.logger)).reqCnfString,BT(r,s)}else if(e.authenticationScheme===ke.SSH){if(!e.sshJwk)throw Oe(Ya);TB(r,e.sshJwk)}let i;if((!Ir.isEmptyObj(e.claims)||t.config.authOptions.clientCapabilities&&t.config.authOptions.clientCapabilities.length>0)&&NT(r,e.claims,t.config.authOptions.clientCapabilities),e.clientInfo)try{const o=dg(e.clientInfo,t.cryptoUtils.base64Decode);i={credential:`${o.uid}${Xt.CLIENT_INFO_SEPARATOR}${o.utid}`,type:"home_account_id"}}catch(o){t.logger.verbose("Could not parse client info for CCS Header: "+o)}else i=e.ccsCredential;if(t.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case"home_account_id":try{Yu(r,ic(i.credential))}catch(o){t.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case"UPN":Ig(r,i.credential)}return e.embeddedClientId&&Sg(r,t.config.authOptions.clientId,t.config.authOptions.redirectUri),e.tokenBodyParameters&&fs(r,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[mB])&&fs(r,{[mB]:"1"}),wg(r,e.correlationId,t.performanceClient),ku(r)})()}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function $ie(n,e){n.set("post_logout_redirect_uri",e)}(t,e.postLogoutRedirectUri),e.correlationId&&xT(t,e.correlationId),e.idTokenHint&&function zie(n,e){n.set("id_token_hint",e)}(t,e.idTokenHint),e.state&&_B(t,e.state),e.logoutHint&&function Jie(n,e){n.set("logout_hint",e)}(t,e.logoutHint),e.extraQueryParameters&&fs(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&wB(t),ku(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}class Qu{constructor(e,t){this.cacheOutcome="0",this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||S.EMPTY_STRING,this.wrapperVer=e.wrapperVer||S.EMPTY_STRING,this.telemetryCacheKey=Gt.CACHE_KEY+Xt.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Gt.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&t.push(`broker_error=${r}`);const i=t.join(Gt.VALUE_SEPARATOR),s=[e,this.getRegionDiscoveryFields()].join(Gt.VALUE_SEPARATOR);return[Gt.SCHEMA_VERSION,s,i].join(Gt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Qu.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(Gt.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(Gt.VALUE_SEPARATOR),o=e.errors.length,a=[o,t<o?Gt.OVERFLOW_TRUE:Gt.OVERFLOW_FALSE].join(Gt.VALUE_SEPARATOR);return[Gt.SCHEMA_VERSION,e.cacheHits,r,i,a].join(Gt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=Gt.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?t.errors.push(e instanceof $e?e.subError?e.subError:e.errorCode?e.errorCode:e.toString():e.toString()):t.errors.push(Gt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=Qu.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let t,r=0,i=0;const o=e.errors.length;for(t=0;t<o;t++){const a=e.failedRequests[2*t+1]||S.EMPTY_STRING,c=e.errors[t]||S.EMPTY_STRING;if(i+=(e.failedRequests[2*t]||S.EMPTY_STRING).toString().length+a.toString().length+c.length+3,!(i<Gt.MAX_LAST_HEADER_BYTES))break;r+=1}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||S.EMPTY_STRING),e.push(this.regionSource||S.EMPTY_STRING),e.push(this.regionOutcome||S.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return function ioe(n){const{skus:e,libraryName:t,libraryVersion:r,extensionName:i,extensionVersion:o}=n,s=new Map([[0,[t,r]],[2,[i,o]]]);let a=[];if(e?.length){if(a=e.split(","),a.length<4)return e}else a=Array.from({length:4},()=>"|");return s.forEach((c,l)=>{2===c.length&&c[0]?.length&&c[1]?.length&&function ooe(n){const{skuArr:e,index:t,skuName:r,skuVersion:i}=n;t>=e.length||(e[t]=[r,i].join("|"))}({skuArr:a,index:l,skuName:c[0],skuVersion:c[1]})}),a.join(",")}(e)}}class OB{constructor(e,t,r,i,o,s,a,c,l){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.platformAuthProvider=c,this.correlationId=l||Ar(),this.logger=i.clone(Sn.MSAL_SKU,ds,this.correlationId),this.performanceClient=a}clearCacheOnLogout(e){var t=this;return _(function*(){if(e){vn.accountInfoIsEqual(e,t.browserStorage.getActiveAccount(),!1)&&(t.logger.verbose("Setting active account to null"),t.browserStorage.setActiveAccount(null));try{t.browserStorage.removeAccount(vn.generateAccountCacheKey(e),t.correlationId),t.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{t.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{t.logger.verbose("No account provided in logout request, clearing all cache items.",t.correlationId),t.browserStorage.clear(t.correlationId),yield t.browserCrypto.clearKeystore()}catch{t.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})()}getRedirectUri(e){return this.logger.verbose("getRedirectUri called"),ge.getAbsoluteUrl(e||this.config.auth.redirectUri,ki())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Qu(r,this.browserStorage)}getDiscoveredAuthority(e){var t=this;return _(function*(){const{account:r}=e,i=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;t.performanceClient.addQueueMeasurement(g.StandardInteractionClientGetDiscoveredAuthority,t.correlationId);const o={protocolMode:t.config.auth.protocolMode,OIDCOptions:t.config.auth.OIDCOptions,knownAuthorities:t.config.auth.knownAuthorities,cloudDiscoveryMetadata:t.config.auth.cloudDiscoveryMetadata,authorityMetadata:t.config.auth.authorityMetadata,skipAuthorityMetadataCache:t.config.auth.skipAuthorityMetadataCache},s=e.requestAuthority||t.config.auth.authority,c=r&&(i?.length?"true"===i:t.config.auth.instanceAware)?t.config.auth.authority.replace(ge.getDomainFromUrl(s),r.environment):s,l=Zt.generateAuthority(c,e.requestAzureCloudOptions||t.config.auth.azureCloudOptions),u=yield A(DB,g.AuthorityFactoryCreateDiscoveredInstance,t.logger,t.performanceClient,t.correlationId)(l,t.config.system.networkClient,t.browserStorage,o,t.logger,t.correlationId,t.performanceClient);if(r&&!u.isAlias(r.environment))throw Oe(lm);return u})()}}function $T(n,e,t,r){return zT.apply(this,arguments)}function zT(){return(zT=_(function*(n,e,t,r){t.addQueueMeasurement(g.InitializeBaseRequest,n.correlationId);const i=n.authority||e.auth.authority,o=[...n&&n.scopes||[]],s={...n,correlationId:n.correlationId,authority:i,scopes:o};if(s.authenticationScheme){if(s.authenticationScheme===ke.SSH){if(!n.sshJwk)throw Oe(Ya);if(!n.sshKid)throw Oe(sm)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}else s.authenticationScheme=ke.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return e.cache.claimsBasedCachingEnabled&&n.claims&&!Ir.isEmptyObj(n.claims)&&(s.requestedClaimsHash=yield A1(n.claims)),s})).apply(this,arguments)}function soe(n,e,t,r,i){return GT.apply(this,arguments)}function GT(){return(GT=_(function*(n,e,t,r,i){r.addQueueMeasurement(g.InitializeSilentRequest,n.correlationId);const o=yield A($T,g.InitializeBaseRequest,i,r,n.correlationId)(n,t,r,i);return{...n,...o,account:e,forceRefresh:n.forceRefresh||!1}})).apply(this,arguments)}class uc extends OB{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||Ar(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=ge.getAbsoluteUrl(e.postLogoutRedirectUri,ki())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=ge.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ki())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=ge.getAbsoluteUrl(ki(),ki())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(e){var t=this;return _(function*(){t.performanceClient.addQueueMeasurement(g.StandardInteractionClientCreateAuthCodeClient,t.correlationId);const r=yield A(t.getClientConfiguration.bind(t),g.StandardInteractionClientGetClientConfiguration,t.logger,t.performanceClient,t.correlationId)(e);return new RB(r,t.performanceClient)})()}getClientConfiguration(e){var t=this;return _(function*(){const{serverTelemetryManager:r,requestAuthority:i,requestAzureCloudOptions:o,requestExtraQueryParameters:s,account:a}=e;t.performanceClient.addQueueMeasurement(g.StandardInteractionClientGetClientConfiguration,t.correlationId);const c=yield A(t.getDiscoveredAuthority.bind(t),g.StandardInteractionClientGetDiscoveredAuthority,t.logger,t.performanceClient,t.correlationId)({requestAuthority:i,requestAzureCloudOptions:o,requestExtraQueryParameters:s,account:a}),l=t.config.system.loggerOptions;return{authOptions:{clientId:t.config.auth.clientId,authority:c,clientCapabilities:t.config.auth.clientCapabilities,redirectUri:t.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:t.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:l.loggerCallback,piiLoggingEnabled:l.piiLoggingEnabled,logLevel:l.logLevel,correlationId:t.correlationId},cacheOptions:{claimsBasedCachingEnabled:t.config.cache.claimsBasedCachingEnabled},cryptoInterface:t.browserCrypto,networkInterface:t.networkClient,storageInterface:t.browserStorage,serverTelemetryManager:r,libraryInfo:{sku:Sn.MSAL_SKU,version:ds,cpu:S.EMPTY_STRING,os:S.EMPTY_STRING},telemetry:t.config.telemetry}})()}initializeAuthorizationRequest(e,t){var r=this;return _(function*(){r.performanceClient.addQueueMeasurement(g.StandardInteractionClientInitializeAuthorizationRequest,r.correlationId);const i=r.getRedirectUri(e.redirectUri),s=cc.setRequestState(r.browserCrypto,e&&e.state||S.EMPTY_STRING,{interactionType:t}),c={...yield A($T,g.InitializeBaseRequest,r.logger,r.performanceClient,r.correlationId)({...e,correlationId:r.correlationId},r.config,r.performanceClient,r.logger),redirectUri:i,state:s,nonce:e.nonce||Ar(),responseMode:r.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return c;const l=e.account||r.browserStorage.getActiveAccount();return l&&(r.logger.verbose("Setting validated request account",r.correlationId),r.logger.verbosePii(`Setting validated request account: ${l.homeAccountId}`,r.correlationId),c.account=l),c})()}}function Dg(n,e,t){const r=Dm(n);if(!r)throw h1(n)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${n}`),L(Rm)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),L(Am));return r}function NB(n,e,t,r){const i=ku(e,t,r);return ge.appendQueryString(n.authorizationEndpoint,i)}function xB(n,e){if(!n.state||!e)throw M(Eu,n.state?"Cached State":"Server State");let t,r;try{t=decodeURIComponent(n.state)}catch{throw M(ro,n.state)}try{r=decodeURIComponent(e)}catch{throw M(ro,n.state)}if(t!==r)throw M(mm);if(n.error||n.error_description||n.suberror){const i=function doe(n){const e="code=",t=n.error_uri?.lastIndexOf(e);return t&&t>=0?n.error_uri?.substring(t+5):void 0}(n);throw cB(n.error,n.error_description,n.suberror)?new Mr(n.error||"",n.error_description,n.suberror,n.timestamp||"",n.trace_id||"",n.correlation_id||"",n.claims||"",i):new ps(n.error||"",n.error_description,n.suberror,i)}}class PB{constructor(e,t,r,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}handleCodeResponse(e,t){var r=this;return _(function*(){let i;r.performanceClient.addQueueMeasurement(g.HandleCodeResponse,t.correlationId);try{i=function uoe(n,e){if(xB(n,e),!n.code)throw M(Tm);return n}(e,t.state)}catch(o){throw o instanceof ps&&o.subError===cs?L(cs):o}return A(r.handleCodeResponseFromServer.bind(r),g.HandleCodeResponseFromServer,r.logger,r.performanceClient,t.correlationId)(i,t)})()}handleCodeResponseFromServer(e,t,r=!0){var i=this;return _(function*(){if(i.performanceClient.addQueueMeasurement(g.HandleCodeResponseFromServer,t.correlationId),i.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),i.authCodeRequest.code=e.code,e.cloud_instance_host_name&&(yield A(i.authModule.updateAuthority.bind(i.authModule),g.UpdateTokenEndpointAuthority,i.logger,i.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId)),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)i.authCodeRequest.clientInfo=e.client_info;else{const s=i.createCcsCredentials(t);s&&(i.authCodeRequest.ccsCredential=s)}return yield A(i.authModule.acquireToken.bind(i.authModule),g.AuthClientAcquireToken,i.logger,i.performanceClient,t.correlationId)(i.authCodeRequest,e)})()}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:"home_account_id"}:e.loginHint?{credential:e.loginHint,type:"UPN"}:null}}const FB="user_switch",woe={[FB]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class ri extends $e{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,ri.prototype),this.name="NativeAuthError",this.ext=r}}function dc(n){return!!(n.ext&&n.ext.status&&("PERSISTENT_ERROR"===n.ext.status||"DISABLED"===n.ext.status)||n.ext&&n.ext.error&&-2147186943===n.ext.error)||"ContentError"===n.errorCode}function Ag(n,e,t){if(t&&t.status)switch(t.status){case"ACCOUNT_UNAVAILABLE":return yg(vg);case"USER_INTERACTION_REQUIRED":return new Mr(n,e);case"USER_CANCEL":return L(cs);case"NO_NETWORK":return L(Ja);case"UX_NOT_ALLOWED":return yg(TT)}return new ri(n,woe[n]||e,t)}class Toe extends HT{constructor(e,t){super(e,t)}acquireCachedToken(e){var t=this;return _(function*(){t.performanceClient?.addQueueMeasurement(g.SilentFlowClientAcquireCachedToken,e.correlationId);let r="0";if(e.forceRefresh||!t.config.cacheOptions.claimsBasedCachingEnabled&&!Ir.isEmptyObj(e.claims))throw t.setCacheOutcome("1",e.correlationId),M(ei);if(!e.account)throw M(Iu);const i=e.account.tenantId||function Bre(n){const r=new ge(n).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case"common":case"organizations":case"consumers":return;default:return r}}(e.authority),o=t.cacheManager.getTokenKeys(),s=t.cacheManager.getAccessToken(e.account,e,o,i);if(!s)throw t.setCacheOutcome("2",e.correlationId),M(ei);if(function Jne(n){return Number(n)>zn()}(s.cachedAt)||uT(s.expiresOn,t.config.systemOptions.tokenRenewalOffsetSeconds))throw t.setCacheOutcome("3",e.correlationId),M(ei);s.refreshOn&&uT(s.refreshOn,0)&&(r="4");const a=e.authority||t.authority.getPreferredCache(),c={account:t.cacheManager.readAccountFromCache(e.account),accessToken:s,idToken:t.cacheManager.getIdToken(e.account,o,i,t.performanceClient,e.correlationId),refreshToken:null,appMetadata:t.cacheManager.readAppMetadataFromCache(a)};return t.setCacheOutcome(r,e.correlationId),t.config.serverTelemetryManager&&t.config.serverTelemetryManager.incrementCacheHits(),[yield A(t.generateResultFromCacheRecord.bind(t),g.SilentFlowClientGenerateResultFromCacheRecord,t.logger,t.performanceClient,e.correlationId)(c,e),r]})()}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),"0"!==e&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}generateResultFromCacheRecord(e,t){var r=this;return _(function*(){let i;if(r.performanceClient?.addQueueMeasurement(g.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId),e.idToken&&(i=nc(e.idToken.secret,r.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const o=i?.auth_time;if(!o)throw M(wu);F1(o,t.maxAge)}return ms.generateAuthenticationResult(r.cryptoUtils,r.authority,e,!0,t,i)})()}}class LB extends uc{acquireToken(e){var t=this;return _(function*(){t.performanceClient.addQueueMeasurement(g.SilentCacheClientAcquireToken,e.correlationId);const r=t.initializeServerTelemetryManager(61),i=yield A(t.getClientConfiguration.bind(t),g.StandardInteractionClientGetClientConfiguration,t.logger,t.performanceClient,t.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),o=new Toe(i,t.performanceClient);t.logger.verbose("Silent auth client created");try{const a=(yield A(o.acquireCachedToken.bind(o),g.SilentFlowClientAcquireCachedToken,t.logger,t.performanceClient,e.correlationId)(e))[0];return t.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(s){throw s instanceof Uu&&s.errorCode===Fu&&t.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),s}})()}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class Rg extends OB{constructor(e,t,r,i,o,s,a,c,l,u,d,h){super(e,t,r,i,o,s,c,l,h),this.apiId=a,this.accountId=u,this.platformAuthProvider=l,this.nativeStorageManager=d,this.silentCacheClient=new LB(e,this.nativeStorageManager,r,i,o,s,c,l,h);const f=this.platformAuthProvider.getExtensionName();this.skus=Qu.makeExtraSkuString({libraryName:Sn.MSAL_SKU,libraryVersion:ds,extensionName:f,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,"x-client-xtra-sku":this.skus}}acquireToken(e,t){var r=this;return _(function*(){r.performanceClient.addQueueMeasurement(g.NativeInteractionClientAcquireToken,e.correlationId),r.logger.trace("NativeInteractionClient - acquireToken called.");const i=r.performanceClient.startMeasurement(g.NativeInteractionClientAcquireToken,e.correlationId),o=zn(),s=r.initializeServerTelemetryManager(r.apiId);try{const a=yield r.initializeNativeRequest(e);try{const l=yield r.acquireTokensFromCache(r.accountId,a);return i.end({success:!0,isNativeBroker:!1,fromCache:!0}),l}catch(l){if(1===t)throw r.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),l;r.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const c=yield r.platformAuthProvider.sendMessage(a);return yield r.handleNativeResponse(c,a,o).then(l=>(i.end({success:!0,isNativeBroker:!0,requestId:l.requestId}),s.clearNativeBrokerErrorCode(),l)).catch(l=>{throw i.end({success:!1,errorCode:l.errorCode,subErrorCode:l.subError,isNativeBroker:!0}),l})}catch(a){throw a instanceof ri&&s.setNativeBrokerErrorCode(a.errorCode),a}})()}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Mt.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}acquireTokensFromCache(e,t){var r=this;return _(function*(){if(!e)throw r.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),M(Du);const i=r.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!i)throw M(Du);try{const o=r.createSilentCacheRequest(t,i),s=yield r.silentCacheClient.acquireToken(o),a={...i,idTokenClaims:s?.idTokenClaims,idToken:s?.idToken};return{...s,account:a}}catch(o){throw o}})()}acquireTokenRedirect(e,t){var r=this;return _(function*(){r.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...i}=e;delete i.onRedirectNavigate;const o=yield r.initializeNativeRequest(i);try{yield r.platformAuthProvider.sendMessage(o)}catch(c){if(c instanceof ri&&(r.initializeServerTelemetryManager(r.apiId).setNativeBrokerErrorCode(c.errorCode),dc(c)))throw c}r.browserStorage.setTemporaryCache("request.native",JSON.stringify(o),!0);const s={apiId:861,timeout:r.config.system.redirectNavigationTimeout,noHistory:!1},a=r.config.auth.navigateToLoginRequestUrl?window.location.href:r.getRedirectUri(e.redirectUri);t.end({success:!0}),yield r.navigationClient.navigateExternal(a,s)})()}handleRedirectPromise(e,t){var r=this;return _(function*(){if(r.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!r.browserStorage.isInteractionInProgress(!0))return r.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const i=r.browserStorage.getCachedNativeRequest();if(!i)return r.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:o,...s}=i;o&&r.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),r.browserStorage.removeItem(r.browserStorage.generateCacheKey("request.native"));const a=zn();try{r.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const c=yield r.platformAuthProvider.sendMessage(s),l=yield r.handleNativeResponse(c,s,a);return r.initializeServerTelemetryManager(r.apiId).clearNativeBrokerErrorCode(),l}catch(c){throw c}})()}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(e,t,r){var i=this;return _(function*(){i.logger.trace("NativeInteractionClient - handleNativeResponse called.");const o=nc(e.id_token,Dr),s=i.createHomeAccountIdentifier(e,o),a=i.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(t.extraParameters?.child_client_id&&e.account.id!==t.accountId)i.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(s!==a&&e.account.id!==t.accountId)throw Ag(FB);const c=yield i.getDiscoveredAuthority({requestAuthority:t.authority}),l=jT(i.browserStorage,c,s,Dr,o,e.client_info,void 0,o.tid,void 0,e.account.id,i.logger);e.expires_in=Number(e.expires_in);const u=yield i.generateAuthenticationResult(e,t,o,l,c.canonicalAuthority,r);return yield i.cacheAccount(l),yield i.cacheNativeTokens(e,t,s,o,e.access_token,u.tenantId,r),u})()}createHomeAccountIdentifier(e,t){return vn.generateHomeAccountId(e.client_info||S.EMPTY_STRING,0,this.logger,this.browserCrypto,t)}generateScopes(e,t){return Mt.fromString(t||e)}generatePopAccessToken(e,t){var r=this;return _(function*(){if(t.tokenType===ke.POP&&t.signPopToken){if(e.shr)return r.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const i=new lc(r.browserCrypto),o={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw M(Mu);return i.signPopToken(e.access_token,t.keyId,o)}return e.access_token})()}generateAuthenticationResult(e,t,r,i,o,s){var a=this;return _(function*(){const c=a.addTelemetryFromNativeResponse(e.properties.MATS),l=a.generateScopes(t.scope,e.scope),u=e.account.properties||{},d=u.UID||r.oid||r.sub||S.EMPTY_STRING,h=u.TenantId||r.tid||S.EMPTY_STRING,f=pT(i.getAccountInfo(),void 0,r,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);const p=yield a.generatePopAccessToken(e,t),m=t.tokenType===ke.POP?ke.POP:ke.BEARER;return{authority:o,uniqueId:d,tenantId:h,scopes:l.asArray(),account:f,idToken:e.id_token,idTokenClaims:r,accessToken:p,fromCache:!!c&&a.isResponseFromCache(c),expiresOn:rc(s+e.expires_in),tokenType:m,correlationId:a.correlationId,state:e.state,fromNativeBroker:!0}})()}cacheAccount(e){var t=this;return _(function*(){yield t.browserStorage.setAccount(e,t.correlationId),t.browserStorage.removeAccountContext(e,t.correlationId)})()}cacheNativeTokens(e,t,r,i,o,s,a){const c=cg(r,t.authority,e.id_token||"",t.clientId,i.tid||""),u=a+(t.tokenType===ke.POP?S.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),d=this.generateScopes(e.scope,t.scope),h=lg(r,t.authority,o,t.clientId,i.tid||s,d.printScopes(),u,0,Dr,void 0,t.tokenType,void 0,t.keyId);return this.nativeStorageManager.saveCacheRecord({idToken:c,accessToken:h},this.correlationId,t.storeInCache)}getExpiresInValue(e,t){return e===ke.POP?S.SHR_NONCE_VALIDITY:("string"==typeof t?parseInt(t,10):t)||0}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}initializeNativeRequest(e){var t=this;return _(function*(){t.logger.trace("NativeInteractionClient - initializeNativeRequest called");const r=yield t.getCanonicalAuthority(e),{scopes:i,...o}=e,s=new Mt(i||[]);s.appendScopes(gu);const a={...o,accountId:t.accountId,clientId:t.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:t.getRedirectUri(e.redirectUri),prompt:t.getPrompt(e.prompt),correlationId:t.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw L(Jm);if(t.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry="MATS",e.authenticationScheme===ke.POP){const c={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},l=new lc(t.browserCrypto);let u;if(a.keyId)u=t.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const d=yield A(l.generateCnf.bind(l),g.PopTokenGenerateCnf,t.logger,t.performanceClient,e.correlationId)(c,t.logger);u=d.reqCnfString,a.keyId=d.kid,a.signPopToken=!0}a.reqCnf=u}return t.addRequestSKUs(a),a})()}getCanonicalAuthority(e){var t=this;return _(function*(){const r=e.authority||t.config.auth.authority;e.account&&(yield t.getDiscoveredAuthority({requestAuthority:r,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}));const i=new ge(r);return i.validateAsUri(),i})()}getPrompt(e){switch(this.apiId){case 863:case 61:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),zt.NONE}if(e)switch(e){case zt.NONE:case zt.CONSENT:case zt.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),L(Xm)}else this.logger.trace("initializeNativeRequest: prompt was not provided")}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(Cg)&&e.extraParameters.hasOwnProperty(Eg)&&e.extraParameters.hasOwnProperty(hs);if(!e.embeddedClientId&&!t)return;let r="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Eg],r=e.extraParameters[hs]),e.extraParameters={child_client_id:r,child_redirect_uri:i},this.performanceClient?.addFields({embeddedClientId:r,embeddedRedirectUri:i},e.correlationId)}}function BB(n,e,t,r,i){return qT.apply(this,arguments)}function qT(){return(qT=_(function*(n,e,t,r,i){const o=function loe(n,e,t,r){const i=e.correlationId,o=new Map;if(kT(o,e.embeddedClientId||e.extraQueryParameters?.[hs]||n.clientId),MT(o,[...e.scopes||[],...e.extraScopesToConsent||[]],!0,n.authority.options.OIDCOptions?.defaultScopes),OT(o,e.redirectUri),xT(o,i),function jie(n,e){n.set(sie,e||Xte.QUERY)}(o,e.responseMode),LT(o),e.prompt&&(function qie(n,e){n.set(fie,e)}(o,e.prompt),r?.addFields({prompt:e.prompt},i)),e.domainHint&&(function Gie(n,e){n.set(Lie,e)}(o,e.domainHint),r?.addFields({domainHintFromRequest:!0},i)),e.prompt!==zt.SELECT_ACCOUNT)if(e.sid&&e.prompt===zt.NONE)t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),vB(o,e.sid),r?.addFields({sidFromRequest:!0},i);else if(e.account){const a=function hoe(n){return n.idTokenClaims?.sid||null}(e.account);let c=function foe(n){return n.idTokenClaims?.login_hint||null}(e.account);if(c&&e.domainHint&&(t.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),c=null),c){t.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Tg(o,c),r?.addFields({loginHintFromClaim:!0},i);try{Yu(o,ic(e.account.homeAccountId))}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===zt.NONE){t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),vB(o,a),r?.addFields({sidFromClaim:!0},i);try{Yu(o,ic(e.account.homeAccountId))}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)t.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Tg(o,e.loginHint),Ig(o,e.loginHint),r?.addFields({loginHintFromRequest:!0},i);else if(e.account.username){t.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Tg(o,e.account.username),r?.addFields({loginHintFromUpn:!0},i);try{Yu(o,ic(e.account.homeAccountId))}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(t.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Tg(o,e.loginHint),Ig(o,e.loginHint),r?.addFields({loginHintFromRequest:!0},i));else t.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&function Kie(n,e){n.set(hie,e)}(o,e.nonce),e.state&&_B(o,e.state),(e.claims||n.clientCapabilities&&n.clientCapabilities.length>0)&&NT(o,e.claims,n.clientCapabilities),e.embeddedClientId&&Sg(o,n.clientId,n.redirectUri),n.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(RT))&&wB(o),o}({...n.auth,authority:e},t,r,i);if(PT(o,{sku:Sn.MSAL_SKU,version:ds,os:"",cpu:""}),n.auth.protocolMode!==$n.OIDC&&FT(o,n.telemetry.application),t.platformBroker&&(function Vie(n){n.set(Nie,"1")}(o),t.authenticationScheme===ke.POP)){const s=new gg(r,i),a=new lc(s);let c;c=t.popKid?s.encodeKid(t.popKid):(yield A(a.generateCnf.bind(a),g.PopTokenGenerateCnf,r,i,t.correlationId)(t,r)).reqCnfString,BT(o,c)}return wg(o,t.correlationId,i),o})).apply(this,arguments)}function KT(n,e,t,r,i){return WT.apply(this,arguments)}function WT(){return(WT=_(function*(n,e,t,r,i){if(!t.codeChallenge)throw Oe(Wa);const o=yield A(BB,g.GetStandardParams,r,i,t.correlationId)(n,e,t,r,i);return gB(o,l1.CODE),function Wie(n,e,t){if(!e||!t)throw Oe(Wa);n.set(mie,e),n.set(gie,t)}(o,t.codeChallenge,S.S256_CODE_CHALLENGE_METHOD),fs(o,t.extraQueryParameters||{}),NB(e,o,n.auth.encodeExtraQueryParams,t.extraQueryParameters)})).apply(this,arguments)}function YT(n,e,t,r,i,o){return QT.apply(this,arguments)}function QT(){return(QT=_(function*(n,e,t,r,i,o){if(!r.earJwk)throw L(Rw);const s=yield BB(e,t,r,i,o);gB(s,l1.IDTOKEN_TOKEN_REFRESHTOKEN),function eoe(n,e){n.set(Uie,encodeURIComponent(e)),n.set(Hie,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(s,r.earJwk);const a=new Map;return fs(a,r.extraQueryParameters||{}),function Ioe(n,e,t){const r=n.createElement("form");return r.method="post",r.action=e,t.forEach((i,o)=>{const s=n.createElement("input");s.hidden=!0,s.name=o,s.value=i,r.appendChild(s)}),n.body.appendChild(r),r}(n,NB(t,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters),s)})).apply(this,arguments)}function UB(n,e,t,r,i,o,s,a,c,l){return XT.apply(this,arguments)}function XT(){return(XT=_(function*(n,e,t,r,i,o,s,a,c,l){if(a.verbose("Account id found, calling WAM for token"),!l)throw L(Bu);const u=new gg(a,c),d=new Rg(r,i,u,a,s,r.system.navigationClient,t,c,l,e,o,n.correlationId),{userRequestState:h}=cc.parseRequestState(u,n.state);return A(d.acquireToken.bind(d),g.NativeInteractionClientAcquireToken,a,c,n.correlationId)({...n,state:h,prompt:void 0})})).apply(this,arguments)}function ZT(n,e,t,r,i,o,s,a,c,l,u,d){return JT.apply(this,arguments)}function JT(){return(JT=_(function*(n,e,t,r,i,o,s,a,c,l,u,d){if(ni.removeThrottle(s,i.auth.clientId,n),e.accountId)return A(UB,g.HandleResponsePlatformBroker,l,u,n.correlationId)(n,e.accountId,r,i,s,a,c,l,u,d);const h={...n,code:e.code||"",codeVerifier:t},f=new PB(o,s,h,l,u);return yield A(f.handleCodeResponse.bind(f),g.HandleCodeResponse,l,u,n.correlationId)(e,n)})).apply(this,arguments)}function eI(n,e,t,r,i,o,s,a,c,l,u){return tI.apply(this,arguments)}function tI(){return(tI=_(function*(n,e,t,r,i,o,s,a,c,l,u){if(ni.removeThrottle(o,r.auth.clientId,n),xB(e,n.state),!e.ear_jwe)throw L(f1);if(!n.earJwk)throw L(Rw);const d=JSON.parse(yield A(bne,g.DecryptEarResponse,c,l,n.correlationId)(n.earJwk,e.ear_jwe));if(d.accountId)return A(UB,g.HandleResponsePlatformBroker,c,l,n.correlationId)(n,d.accountId,t,r,o,s,a,c,l,u);const h=new ms(r.auth.clientId,o,new gg(c,l),c,null,null,l);h.validateTokenResponse(d);const f={code:"",state:n.state,nonce:n.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return yield A(h.handleServerTokenResponse.bind(h),g.HandleServerTokenResponse,c,l,n.correlationId)(d,i,zn(),n,f,void 0,void 0,void 0,void 0)})).apply(this,arguments)}const Soe=32;function Mg(n,e,t){return nI.apply(this,arguments)}function nI(){return(nI=_(function*(n,e,t){n.addQueueMeasurement(g.GeneratePkceCodes,t);const r=nr(Doe,g.GenerateCodeVerifier,e,n,t)(n,e,t);return{verifier:r,challenge:yield A(Aoe,g.GenerateCodeChallengeFromVerifier,e,n,t)(r,n,e,t)}})).apply(this,arguments)}function Doe(n,e,t){try{const r=new Uint8Array(Soe);return nr(mne,g.GetRandomValues,e,n,t)(r),so(r)}catch{throw L(Ou)}}function Aoe(n,e,t,r){return rI.apply(this,arguments)}function rI(){return(rI=_(function*(n,e,t,r){e.addQueueMeasurement(g.GenerateCodeChallengeFromVerifier,r);try{const i=yield A(T1,g.Sha256Digest,t,e,r)(n,e,r);return so(new Uint8Array(i))}catch{throw L(Ou)}})).apply(this,arguments)}class kg{constructor(e,t,r,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(g.NativeMessageHandlerHandshake),this.platformAuthType="PlatformAuthExtensionHandler"}sendMessage(e){var t=this;return _(function*(){t.logger.trace(t.platformAuthType+" - sendMessage called.");const r={method:"GetToken",request:e},i={channel:tr_CHANNEL_ID,extensionId:t.extensionId,responseId:Ar(),body:r};t.logger.trace(t.platformAuthType+" - Sending request to browser extension"),t.logger.tracePii(t.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(i)}`),t.messageChannel.port1.postMessage(i);const o=yield new Promise((a,c)=>{t.resolvers.set(i.responseId,{resolve:a,reject:c})});return t.validatePlatformBrokerResponse(o)})()}static createProvider(e,t,r){return _(function*(){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const i=new kg(e,t,r,"ppnbnpeolgkicgegkbkbjmhlideopiji");return yield i.sendHandshakeRequest(),i}catch{const o=new kg(e,t,r);return yield o.sendHandshakeRequest(),o}})()}sendHandshakeRequest(){var e=this;return _(function*(){e.logger.trace(e.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",e.windowListener,!1);const t={channel:tr_CHANNEL_ID,extensionId:e.extensionId,responseId:Ar(),body:{method:"Handshake"}};return e.handshakeEvent.add({extensionId:e.extensionId,extensionHandshakeTimeoutMs:e.handshakeTimeoutMs}),e.messageChannel.port1.onmessage=r=>{e.onChannelMessage(r)},window.postMessage(t,window.origin,[e.messageChannel.port2]),new Promise((r,i)=>{e.handshakeResolvers.set(t.responseId,{resolve:r,reject:i}),e.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",e.windowListener,!1),e.messageChannel.port1.close(),e.messageChannel.port2.close(),e.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),i(L(Ym)),e.handshakeResolvers.delete(t.responseId)},e.handshakeTimeoutMs)})})()}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===tr_CHANNEL_ID&&(!t.extensionId||t.extensionId===this.extensionId)&&"Handshake"===t.body.method){const r=this.handshakeResolvers.get(t.responseId);if(!r)return void this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(L(Qm))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const t=e.data,r=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{const o=t.body.method;if("Response"===o){if(!r)return;const s=t.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(s)}`),"Success"!==s.status)r.reject(Ag(s.code,s.description,s.ext));else{if(!s.result)throw dw(qa,"Event does not contain result.");s.result.code&&s.result.description?r.reject(Ag(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result)}this.resolvers.delete(t.responseId)}else if("HandshakeResponse"===o){if(!i)return void this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):i&&i.reject(o)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw dw(qa,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return"ppnbnpeolgkicgegkbkbjmhlideopiji"===this.getExtensionId()?"chrome":this.getExtensionId()?.length?"unknown":void 0}}class iI{constructor(e,t,r){this.logger=e,this.performanceClient=t,this.correlationId=r,this.platformAuthType="PlatformAuthDOMHandler"}static createProvider(e,t,r){return _(function*(){if(e.trace("PlatformAuthDOMHandler: createProvider called"),window.navigator?.platformAuthentication&&(yield window.navigator.platformAuthentication.getSupportedContracts("MicrosoftEntra"))?.includes("get-token-and-sign-out"))return e.trace("Platform auth api available in DOM"),new iI(e,t,r)})()}getExtensionId(){return"MicrosoftEntra"}getExtensionVersion(){return""}getExtensionName(){return"DOM API"}sendMessage(e){var t=this;return _(function*(){t.logger.trace(t.platformAuthType+" - Sending request to browser DOM API");try{const r=t.initializePlatformDOMRequest(e),i=yield window.navigator.platformAuthentication.executeGetToken(r);return t.validatePlatformBrokerResponse(i)}catch(r){throw t.logger.error(t.platformAuthType+" - executeGetToken DOM API error"),r}})()}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:t,clientId:r,authority:i,scope:o,redirectUri:s,correlationId:a,state:c,storeInCache:l,embeddedClientId:u,extraParameters:d,...h}=e,f=this.getDOMExtraParams(h);return{accountId:t,brokerId:this.getExtensionId(),authority:i,clientId:r,correlationId:a||this.correlationId,extraParameters:{...d,...f},isSecurityTokenService:!1,redirectUri:s,scope:o,state:c,storeInCache:l,embeddedClientId:u}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const t=e;if(!1===t.isSuccess&&t.error&&t.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Ag(t.error.code,t.error.description,{error:parseInt(t.error.errorCode),protocol_error:t.error.protocolError,status:t.error.status,properties:t.error.properties})}}throw dw(qa,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((i,[o,s])=>(i[o]=String(s),i),{})}}}function HB(n,e,t,r){return sI.apply(this,arguments)}function sI(){return(sI=_(function*(n,e,t,r){n.trace("getPlatformAuthProvider called",t);const i=function Roe(){let n;try{return n=window[Rt.SessionStorage],"true"===n?.getItem(ane)}catch{return!1}}();let o;n.trace("Has client allowed platform auth via DOM API: "+i);try{i&&(o=yield iI.createProvider(n,e,t)),o||(n.trace("Platform auth via DOM API not available, checking for extension"),o=yield kg.createProvider(n,r||eB,e))}catch(s){n.trace("Platform auth not available",s)}return o})).apply(this,arguments)}function Xu(n,e,t,r){if(e.trace("isPlatformAuthAllowed called"),!n.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!t)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case ke.BEARER:case ke.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}class Moe extends uc{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,a,l,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=o}acquireToken(e,t){try{const i={popupName:this.generatePopupName(e.scopes||gu,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,i,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),i.popup=this.openSizedPopup("about:blank",i),this.acquireTokenPopupAsync(e,i,t))}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(t,r,i,o))}catch(t){return Promise.reject(t)}}acquireTokenPopupAsync(e,t,r){var i=this;return _(function*(){i.logger.verbose("acquireTokenPopupAsync called");const o=yield A(i.initializeAuthorizationRequest.bind(i),g.StandardInteractionClientInitializeAuthorizationRequest,i.logger,i.performanceClient,i.correlationId)(e,B.Popup);t.popup&&x1(o.authority);const s=Xu(i.config,i.logger,i.platformAuthProvider,e.authenticationScheme);return o.platformBroker=s,i.config.auth.protocolMode===$n.EAR?i.executeEarFlow(o,t):i.executeCodeFlow(o,t,r)})()}executeCodeFlow(e,t,r){var i=this;return _(function*(){const o=e.correlationId,s=i.initializeServerTelemetryManager(862),a=r||(yield A(Mg,g.GeneratePkceCodes,i.logger,i.performanceClient,o)(i.performanceClient,i.logger,o)),c={...e,codeChallenge:a.challenge};try{const l=yield A(i.createAuthCodeClient.bind(i),g.StandardInteractionClientCreateAuthCodeClient,i.logger,i.performanceClient,o)({serverTelemetryManager:s,requestAuthority:c.authority,requestAzureCloudOptions:c.azureCloudOptions,requestExtraQueryParameters:c.extraQueryParameters,account:c.account}),u=yield A(KT,g.GetAuthCodeUrl,i.logger,i.performanceClient,o)(i.config,l.authority,c,i.logger,i.performanceClient),d=i.initiateAuthRequest(u,t);i.eventHandler.emitEvent("msal:popupOpened",B.Popup,{popupWindow:d},null);const h=yield i.monitorPopupForHash(d,t.popupWindowParent),f=nr(Dg,g.DeserializeResponse,i.logger,i.performanceClient,i.correlationId)(h,i.config.auth.OIDCOptions.serverResponseType,i.logger);return yield A(ZT,g.HandleResponseCode,i.logger,i.performanceClient,o)(e,f,a.verifier,862,i.config,l,i.browserStorage,i.nativeStorage,i.eventHandler,i.logger,i.performanceClient,i.platformAuthProvider)}catch(l){throw t.popup?.close(),l instanceof $e&&(l.setCorrelationId(i.correlationId),s.cacheFailedRequest(l)),l}})()}executeEarFlow(e,t){var r=this;return _(function*(){const i=e.correlationId,o=yield A(r.getDiscoveredAuthority.bind(r),g.StandardInteractionClientGetDiscoveredAuthority,r.logger,r.performanceClient,i)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=yield A(Kw,g.GenerateEarKey,r.logger,r.performanceClient,i)(),a={...e,earJwk:s},c=t.popup||r.openPopup("about:blank",t);(yield YT(c.document,r.config,o,a,r.logger,r.performanceClient)).submit();const u=yield A(r.monitorPopupForHash.bind(r),g.SilentHandlerMonitorIframeForHash,r.logger,r.performanceClient,i)(c,t.popupWindowParent),d=nr(Dg,g.DeserializeResponse,r.logger,r.performanceClient,r.correlationId)(u,r.config.auth.OIDCOptions.serverResponseType,r.logger);return A(eI,g.HandleResponseEar,r.logger,r.performanceClient,i)(a,d,862,r.config,o,r.browserStorage,r.nativeStorage,r.eventHandler,r.logger,r.performanceClient,r.platformAuthProvider)})()}logoutPopupAsync(e,t,r,i){var o=this;return _(function*(){o.logger.verbose("logoutPopupAsync called"),o.eventHandler.emitEvent("msal:logoutStart",B.Popup,e);const s=o.initializeServerTelemetryManager(962);try{yield o.clearCacheOnLogout(e.account);const c=(yield A(o.createAuthCodeClient.bind(o),g.StandardInteractionClientCreateAuthCodeClient,o.logger,o.performanceClient,o.correlationId)({serverTelemetryManager:s,requestAuthority:r,account:e.account||void 0})).getLogoutUri(e);o.eventHandler.emitEvent("msal:logoutSuccess",B.Popup,e);const l=o.openPopup(c,t);if(o.eventHandler.emitEvent("msal:popupOpened",B.Popup,{popupWindow:l},null),yield o.monitorPopupForHash(l,t.popupWindowParent).catch(()=>{}),i){const u={apiId:962,timeout:o.config.system.redirectNavigationTimeout,noHistory:!1},d=ge.getAbsoluteUrl(i,ki());o.logger.verbose("Redirecting main window to url specified in the request"),o.logger.verbosePii(`Redirecting main window to: ${d}`),yield o.navigationClient.navigateInternal(d,u)}else o.logger.verbose("No main window navigation requested")}catch(a){throw t.popup?.close(),a instanceof $e&&(a.setCorrelationId(o.correlationId),s.cacheFailedRequest(a)),o.eventHandler.emitEvent("msal:logoutFailure",B.Popup,null,a),o.eventHandler.emitEvent("msal:logoutEnd",B.Popup),a}o.eventHandler.emitEvent("msal:logoutEnd",B.Popup)})()}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),L(Qa)}monitorPopupForHash(e,t){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),void i(L(cs));let s="";try{s=e.location.href}catch{}if(!s||"about:blank"===s)return;clearInterval(o);let a="";e&&(a=this.config.auth.OIDCOptions.serverResponseType===qp.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t)),!r)throw L(xm);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),L(Nm)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:r,popupWindowParent:i}){const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,h=r.popupPosition?.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=Sn.POPUP_WIDTH),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=Sn.POPUP_HEIGHT),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-Sn.POPUP_HEIGHT/2+s)),(!h||h<0||h>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,a/2-Sn.POPUP_WIDTH/2+o)),i.open(e,t,`width=${l}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${Sn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){return`${Sn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.account&&e.account.homeAccountId}.${this.correlationId}`}}class Ooe extends uc{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,a,l,u),this.nativeStorage=c}acquireToken(e){var t=this;return _(function*(){const r=yield A(t.initializeAuthorizationRequest.bind(t),g.StandardInteractionClientInitializeAuthorizationRequest,t.logger,t.performanceClient,t.correlationId)(e,B.Redirect);r.platformBroker=Xu(t.config,t.logger,t.platformAuthProvider,e.authenticationScheme);const i=s=>{s.persisted&&(t.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),t.browserStorage.resetRequestCache(),t.eventHandler.emitEvent("msal:restoreFromBFCache",B.Redirect))},o=t.getRedirectStartPage(e.redirectStartPage);t.logger.verbosePii(`Redirect start page: ${o}`),t.browserStorage.setTemporaryCache("request.origin",o,!0),window.addEventListener("pageshow",i);try{t.config.auth.protocolMode===$n.EAR?yield t.executeEarFlow(r):yield t.executeCodeFlow(r,e.onRedirectNavigate)}catch(s){throw s instanceof $e&&s.setCorrelationId(t.correlationId),window.removeEventListener("pageshow",i),s}})()}executeCodeFlow(e,t){var r=this;return _(function*(){const i=e.correlationId,o=r.initializeServerTelemetryManager(861),s=yield A(Mg,g.GeneratePkceCodes,r.logger,r.performanceClient,i)(r.performanceClient,r.logger,i),a={...e,codeChallenge:s.challenge};r.browserStorage.cacheAuthorizeRequest(a,s.verifier);try{const c=yield A(r.createAuthCodeClient.bind(r),g.StandardInteractionClientCreateAuthCodeClient,r.logger,r.performanceClient,r.correlationId)({serverTelemetryManager:o,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),l=yield A(KT,g.GetAuthCodeUrl,r.logger,r.performanceClient,e.correlationId)(r.config,c.authority,a,r.logger,r.performanceClient);return yield r.initiateAuthRequest(l,t)}catch(c){throw c instanceof $e&&(c.setCorrelationId(r.correlationId),o.cacheFailedRequest(c)),c}})()}executeEarFlow(e){var t=this;return _(function*(){const r=e.correlationId,i=yield A(t.getDiscoveredAuthority.bind(t),g.StandardInteractionClientGetDiscoveredAuthority,t.logger,t.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=yield A(Kw,g.GenerateEarKey,t.logger,t.performanceClient,r)(),s={...e,earJwk:o};t.browserStorage.cacheAuthorizeRequest(s),(yield YT(document,t.config,i,s,t.logger,t.performanceClient)).submit()})()}handleRedirectPromise(e="",t,r,i){var o=this;return _(function*(){const s=o.initializeServerTelemetryManager(865);try{const[a,c]=o.getRedirectResponse(e||"");if(!a)return o.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),o.browserStorage.resetRequestCache(),"back_forward"!==function koe(){if(typeof window>"u"||typeof window.performance>"u"||"function"!=typeof window.performance.getEntriesByType)return;const n=window.performance.getEntriesByType("navigation");return(n.length?n[0]:void 0)?.type}()?i.event.errorCode="no_server_response":o.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const l=o.browserStorage.getTemporaryCache("request.origin",!0)||S.EMPTY_STRING;if(ge.removeHashFromUrl(l)===ge.removeHashFromUrl(window.location.href)&&o.config.auth.navigateToLoginRequestUrl)return o.logger.verbose("Current page is loginRequestUrl, handling response"),l.indexOf("#")>-1&&function wne(n){const e=n.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}(l),yield o.handleResponse(a,t,r,s);if(!o.config.auth.navigateToLoginRequestUrl)return o.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield o.handleResponse(a,t,r,s);if(!zu()||o.config.system.allowRedirectInIframe){o.browserStorage.setTemporaryCache("urlHash",c,!0);const h={apiId:865,timeout:o.config.system.redirectNavigationTimeout,noHistory:!0};let f=!0;if(l&&"null"!==l)o.logger.verbose(`Navigating to loginRequestUrl: ${l}`),f=yield o.navigationClient.navigateInternal(l,h);else{const p=function Tne(){const e=new ge(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();o.browserStorage.setTemporaryCache("request.origin",p,!0),o.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),f=yield o.navigationClient.navigateInternal(p,h)}if(!f)return yield o.handleResponse(a,t,r,s)}return null}catch(a){throw a instanceof $e&&(a.setCorrelationId(o.correlationId),s.cacheFailedRequest(a)),a}})()}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===qp.QUERY?window.location.search:window.location.hash);let r=Dm(t);if(r){try{!function coe(n,e,t){if(!n.state)throw L(xu);const r=function aoe(n,e){if(!e)return null;try{return cc.parseRequestState(n,e).libraryState.meta}catch{throw M(ro)}}(e,n.state);if(!r)throw L(Mm);if(r.interactionType!==t)throw L(km)}(r,this.browserCrypto,B.Redirect)}catch(o){return o instanceof $e&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return R1(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}const i=this.browserStorage.getTemporaryCache("urlHash",!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey("urlHash")),i&&(r=Dm(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}handleResponse(e,t,r,i){var o=this;return _(function*(){if(!e.state)throw L(xu);if(e.ear_jwe){const c=yield A(o.getDiscoveredAuthority.bind(o),g.StandardInteractionClientGetDiscoveredAuthority,o.logger,o.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return A(eI,g.HandleResponseEar,o.logger,o.performanceClient,t.correlationId)(t,e,861,o.config,c,o.browserStorage,o.nativeStorage,o.eventHandler,o.logger,o.performanceClient,o.platformAuthProvider)}const a=yield A(o.createAuthCodeClient.bind(o),g.StandardInteractionClientCreateAuthCodeClient,o.logger,o.performanceClient,o.correlationId)({serverTelemetryManager:i,requestAuthority:t.authority});return A(ZT,g.HandleResponseCode,o.logger,o.performanceClient,t.correlationId)(t,e,r,861,o.config,a,o.browserStorage,o.nativeStorage,o.eventHandler,o.logger,o.performanceClient,o.platformAuthProvider)})()}initiateAuthRequest(e,t){var r=this;return _(function*(){if(r.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){r.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const i={apiId:861,timeout:r.config.system.redirectNavigationTimeout,noHistory:!1},o=t||r.config.auth.onRedirectNavigate;return"function"==typeof o?(r.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1!==o(e)?(r.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void(yield r.navigationClient.navigateExternal(e,i))):void r.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")):(r.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void(yield r.navigationClient.navigateExternal(e,i)))}throw r.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),L(Qa)})()}logout(e){var t=this;return _(function*(){t.logger.verbose("logoutRedirect called");const r=t.initializeLogoutRequest(e),i=t.initializeServerTelemetryManager(961);try{t.eventHandler.emitEvent("msal:logoutStart",B.Redirect,e),yield t.clearCacheOnLogout(r.account);const o={apiId:961,timeout:t.config.system.redirectNavigationTimeout,noHistory:!1},a=(yield A(t.createAuthCodeClient.bind(t),g.StandardInteractionClientCreateAuthCodeClient,t.logger,t.performanceClient,t.correlationId)({serverTelemetryManager:i,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0})).getLogoutUri(r);if(t.eventHandler.emitEvent("msal:logoutSuccess",B.Redirect,r),!e||"function"!=typeof e.onRedirectNavigate)return t.browserStorage.getInteractionInProgress()||t.browserStorage.setInteractionInProgress(!0,"signout"),void(yield t.navigationClient.navigateExternal(a,o));if(!1!==e.onRedirectNavigate(a))return t.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),t.browserStorage.getInteractionInProgress()||t.browserStorage.setInteractionInProgress(!0,"signout"),void(yield t.navigationClient.navigateExternal(a,o));t.browserStorage.setInteractionInProgress(!1),t.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(o){throw o instanceof $e&&(o.setCorrelationId(t.correlationId),i.cacheFailedRequest(o)),t.eventHandler.emitEvent("msal:logoutFailure",B.Redirect,null,o),t.eventHandler.emitEvent("msal:logoutEnd",B.Redirect),o}t.eventHandler.emitEvent("msal:logoutEnd",B.Redirect)})()}getRedirectStartPage(e){const t=e||window.location.href;return ge.getAbsoluteUrl(t,ki())}}function Noe(n,e,t,r,i){return aI.apply(this,arguments)}function aI(){return(aI=_(function*(n,e,t,r,i){if(e.addQueueMeasurement(g.SilentHandlerInitiateAuthRequest,r),!n)throw t.info("Navigate url is empty"),L(Qa);return i?A(Poe,g.SilentHandlerLoadFrame,t,e,r)(n,i,e,r):nr(Foe,g.SilentHandlerLoadFrameSync,t,e,r)(n)})).apply(this,arguments)}function xoe(n,e,t,r,i){return cI.apply(this,arguments)}function cI(){return(cI=_(function*(n,e,t,r,i){const o=uI();if(!o.contentDocument)throw"No document associated with iframe!";return(yield YT(o.contentDocument,n,e,t,r,i)).submit(),o})).apply(this,arguments)}function jB(n,e,t,r,i,o,s){return lI.apply(this,arguments)}function lI(){return(lI=_(function*(n,e,t,r,i,o,s){return r.addQueueMeasurement(g.SilentHandlerMonitorIframeForHash,o),new Promise((a,c)=>{e<yT&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${yT}ms). This may result in timeouts.`);const l=window.setTimeout(()=>{window.clearInterval(u),c(L(Pm))},e),u=window.setInterval(()=>{let d="";const h=n.contentWindow;try{d=h?h.location.href:""}catch{}if(!d||"about:blank"===d)return;let f="";h&&(f=s===qp.QUERY?h.location.search:h.location.hash),window.clearTimeout(l),window.clearInterval(u),a(f)},t)}).finally(()=>{nr(Loe,g.RemoveHiddenIframe,i,r,o)(n)})})).apply(this,arguments)}function Poe(n,e,t,r){return t.addQueueMeasurement(g.SilentHandlerLoadFrame,r),new Promise((i,o)=>{const s=uI();window.setTimeout(()=>{s?(s.src=n,i(s)):o("Unable to load iframe")},e)})}function Foe(n){const e=uI();return e.src=n,e}function uI(){const n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(n),n}function Loe(n){document.body===n.parentNode&&document.body.removeChild(n)}class Boe extends uc{constructor(e,t,r,i,o,s,a,c,l,u,d){super(e,t,r,i,o,s,c,u,d),this.apiId=a,this.nativeStorage=l}acquireToken(e){var t=this;return _(function*(){t.performanceClient.addQueueMeasurement(g.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&t.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const r={...e};r.prompt?r.prompt!==zt.NONE&&r.prompt!==zt.NO_SESSION&&(t.logger.warning(`SilentIframeClient. Replacing invalid prompt ${r.prompt} with ${zt.NONE}`),r.prompt=zt.NONE):r.prompt=zt.NONE;const i=yield A(t.initializeAuthorizationRequest.bind(t),g.StandardInteractionClientInitializeAuthorizationRequest,t.logger,t.performanceClient,e.correlationId)(r,B.Silent);return i.platformBroker=Xu(t.config,t.logger,t.platformAuthProvider,i.authenticationScheme),x1(i.authority),t.config.auth.protocolMode===$n.EAR?t.executeEarFlow(i):t.executeCodeFlow(i)})()}executeCodeFlow(e){var t=this;return _(function*(){let r;const i=t.initializeServerTelemetryManager(t.apiId);try{return r=yield A(t.createAuthCodeClient.bind(t),g.StandardInteractionClientCreateAuthCodeClient,t.logger,t.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),yield A(t.silentTokenHelper.bind(t),g.SilentIframeClientTokenHelper,t.logger,t.performanceClient,e.correlationId)(r,e)}catch(o){if(o instanceof $e&&(o.setCorrelationId(t.correlationId),i.cacheFailedRequest(o)),!(r&&o instanceof $e&&o.errorCode===Sn.INVALID_GRANT_ERROR))throw o;return t.performanceClient.addFields({retryError:o.errorCode},t.correlationId),yield A(t.silentTokenHelper.bind(t),g.SilentIframeClientTokenHelper,t.logger,t.performanceClient,t.correlationId)(r,e)}})()}executeEarFlow(e){var t=this;return _(function*(){const r=e.correlationId,i=yield A(t.getDiscoveredAuthority.bind(t),g.StandardInteractionClientGetDiscoveredAuthority,t.logger,t.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=yield A(Kw,g.GenerateEarKey,t.logger,t.performanceClient,r)(),s={...e,earJwk:o},a=yield A(xoe,g.SilentHandlerInitiateAuthRequest,t.logger,t.performanceClient,r)(t.config,i,s,t.logger,t.performanceClient),c=t.config.auth.OIDCOptions.serverResponseType,l=yield A(jB,g.SilentHandlerMonitorIframeForHash,t.logger,t.performanceClient,r)(a,t.config.system.iframeHashTimeout,t.config.system.pollIntervalMilliseconds,t.performanceClient,t.logger,r,c),u=nr(Dg,g.DeserializeResponse,t.logger,t.performanceClient,r)(l,c,t.logger);return A(eI,g.HandleResponseEar,t.logger,t.performanceClient,r)(s,u,t.apiId,t.config,i,t.browserStorage,t.nativeStorage,t.eventHandler,t.logger,t.performanceClient,t.platformAuthProvider)})()}logout(){return Promise.reject(L(Xa))}silentTokenHelper(e,t){var r=this;return _(function*(){const i=t.correlationId;r.performanceClient.addQueueMeasurement(g.SilentIframeClientTokenHelper,i);const o=yield A(Mg,g.GeneratePkceCodes,r.logger,r.performanceClient,i)(r.performanceClient,r.logger,i),s={...t,codeChallenge:o.challenge},a=yield A(KT,g.GetAuthCodeUrl,r.logger,r.performanceClient,i)(r.config,e.authority,s,r.logger,r.performanceClient),c=yield A(Noe,g.SilentHandlerInitiateAuthRequest,r.logger,r.performanceClient,i)(a,r.performanceClient,r.logger,i,r.config.system.navigateFrameWait),l=r.config.auth.OIDCOptions.serverResponseType,u=yield A(jB,g.SilentHandlerMonitorIframeForHash,r.logger,r.performanceClient,i)(c,r.config.system.iframeHashTimeout,r.config.system.pollIntervalMilliseconds,r.performanceClient,r.logger,i,l),d=nr(Dg,g.DeserializeResponse,r.logger,r.performanceClient,i)(u,l,r.logger);return A(ZT,g.HandleResponseCode,r.logger,r.performanceClient,i)(t,d,o.verifier,r.apiId,r.config,e,r.browserStorage,r.nativeStorage,r.eventHandler,r.logger,r.performanceClient,r.platformAuthProvider)})()}}class Hoe extends HT{constructor(e,t){super(e,t)}acquireToken(e){var t=this;return _(function*(){t.performanceClient?.addQueueMeasurement(g.RefreshTokenClientAcquireToken,e.correlationId);const r=zn(),i=yield A(t.executeTokenRequest.bind(t),g.RefreshTokenClientExecuteTokenRequest,t.logger,t.performanceClient,e.correlationId)(e,t.authority),o=i.headers?.[mn.X_MS_REQUEST_ID],s=new ms(t.config.authOptions.clientId,t.cacheManager,t.cryptoUtils,t.logger,t.config.serializableCache,t.config.persistencePlugin);return s.validateTokenResponse(i.body),A(s.handleServerTokenResponse.bind(s),g.HandleServerTokenResponse,t.logger,t.performanceClient,e.correlationId)(i.body,t.authority,r,e,void 0,void 0,!0,e.forceCache,o)})()}acquireTokenByRefreshToken(e){var t=this;return _(function*(){if(!e)throw Oe(tm);if(t.performanceClient?.addQueueMeasurement(g.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw M(Iu);if(t.cacheManager.isAppMetadataFOCI(e.account.environment))try{return yield A(t.acquireTokenWithCachedRefreshToken.bind(t),g.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.logger,t.performanceClient,e.correlationId)(e,!0)}catch(i){if(i instanceof Mr&&i.errorCode===sc||i instanceof ps&&"invalid_grant"===i.errorCode&&"client_mismatch"===i.subError)return A(t.acquireTokenWithCachedRefreshToken.bind(t),g.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.logger,t.performanceClient,e.correlationId)(e,!1);throw i}return A(t.acquireTokenWithCachedRefreshToken.bind(t),g.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.logger,t.performanceClient,e.correlationId)(e,!1)})()}acquireTokenWithCachedRefreshToken(e,t){var r=this;return _(function*(){r.performanceClient?.addQueueMeasurement(g.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const i=nr(r.cacheManager.getRefreshToken.bind(r.cacheManager),g.CacheManagerGetRefreshToken,r.logger,r.performanceClient,e.correlationId)(e.account,t,void 0,r.performanceClient,e.correlationId);if(!i)throw yg(sc);if(i.expiresOn&&uT(i.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw r.performanceClient?.addFields({rtExpiresOnMs:Number(i.expiresOn)},e.correlationId),yg(wT);const o={...e,refreshToken:i.secret,authenticationScheme:e.authenticationScheme||ke.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:"home_account_id"}};try{return yield A(r.acquireToken.bind(r),g.RefreshTokenClientAcquireToken,r.logger,r.performanceClient,e.correlationId)(o)}catch(s){if(s instanceof Mr&&(r.performanceClient?.addFields({rtExpiresOnMs:Number(i.expiresOn)},e.correlationId),s.subError===ac)){r.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const a=Ku(i);r.cacheManager.removeRefreshToken(a)}throw s}})()}executeTokenRequest(e,t){var r=this;return _(function*(){r.performanceClient?.addQueueMeasurement(g.RefreshTokenClientExecuteTokenRequest,e.correlationId);const i=r.createTokenQueryParameters(e),o=ge.appendQueryString(t.tokenEndpoint,i),s=yield A(r.createTokenRequestBody.bind(r),g.RefreshTokenClientCreateTokenRequestBody,r.logger,r.performanceClient,e.correlationId)(e),a=r.createTokenRequestHeaders(e.ccsCredential),c=bg(r.config.authOptions.clientId,e);return A(r.executePostToTokenEndpoint.bind(r),g.RefreshTokenClientExecutePostToTokenEndpoint,r.logger,r.performanceClient,e.correlationId)(o,s,a,c,e.correlationId,g.RefreshTokenClientExecutePostToTokenEndpoint)})()}createTokenRequestBody(e){var t=this;return _(function*(){t.performanceClient?.addQueueMeasurement(g.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const r=new Map;if(kT(r,e.embeddedClientId||e.tokenBodyParameters?.[hs]||t.config.authOptions.clientId),e.redirectUri&&OT(r,e.redirectUri),MT(r,e.scopes,!0,t.config.authOptions.authority.options.OIDCOptions?.defaultScopes),EB(r,"refresh_token"),LT(r),PT(r,t.config.libraryInfo),FT(r,t.config.telemetry.application),SB(r),t.serverTelemetryManager&&!X1(t.config)&&IB(r,t.serverTelemetryManager),function Qie(n,e){n.set("refresh_token",e)}(r,e.refreshToken),t.config.clientCredentials.clientSecret&&yB(r,t.config.clientCredentials.clientSecret),t.config.clientCredentials.clientAssertion){const i=t.config.clientCredentials.clientAssertion;bB(r,yield AB(i.assertion,t.config.authOptions.clientId,e.resourceRequestUri)),CB(r,i.assertionType)}if(e.authenticationScheme===ke.POP){const i=new lc(t.cryptoUtils,t.performanceClient);let o;o=e.popKid?t.cryptoUtils.encodeKid(e.popKid):(yield A(i.generateCnf.bind(i),g.PopTokenGenerateCnf,t.logger,t.performanceClient,e.correlationId)(e,t.logger)).reqCnfString,BT(r,o)}else if(e.authenticationScheme===ke.SSH){if(!e.sshJwk)throw Oe(Ya);TB(r,e.sshJwk)}if((!Ir.isEmptyObj(e.claims)||t.config.authOptions.clientCapabilities&&t.config.authOptions.clientCapabilities.length>0)&&NT(r,e.claims,t.config.authOptions.clientCapabilities),t.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case"home_account_id":try{Yu(r,ic(e.ccsCredential.credential))}catch(i){t.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case"UPN":Ig(r,e.ccsCredential.credential)}return e.embeddedClientId&&Sg(r,t.config.authOptions.clientId,t.config.authOptions.redirectUri),e.tokenBodyParameters&&fs(r,e.tokenBodyParameters),wg(r,e.correlationId,t.performanceClient),ku(r)})()}}class joe extends uc{acquireToken(e){var t=this;return _(function*(){t.performanceClient.addQueueMeasurement(g.SilentRefreshClientAcquireToken,e.correlationId);const r=yield A($T,g.InitializeBaseRequest,t.logger,t.performanceClient,e.correlationId)(e,t.config,t.performanceClient,t.logger),i={...e,...r};e.redirectUri&&(i.redirectUri=t.getRedirectUri(e.redirectUri));const o=t.initializeServerTelemetryManager(61),s=yield t.createRefreshTokenClient({serverTelemetryManager:o,authorityUrl:i.authority,azureCloudOptions:i.azureCloudOptions,account:i.account});return A(s.acquireTokenByRefreshToken.bind(s),g.RefreshTokenClientAcquireTokenByRefreshToken,t.logger,t.performanceClient,e.correlationId)(i).catch(a=>{throw a.setCorrelationId(t.correlationId),o.cacheFailedRequest(a),a})})()}logout(){return Promise.reject(L(Xa))}createRefreshTokenClient(e){var t=this;return _(function*(){const r=yield A(t.getClientConfiguration.bind(t),g.StandardInteractionClientGetClientConfiguration,t.logger,t.performanceClient,t.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Hoe(r,t.performanceClient)})()}}class Voe{constructor(e,t,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=i}loadExternalTokens(e,t,r){var i=this;return _(function*(){if(!i.isBrowserEnvironment)throw L(Za);const o=e.correlationId||Ar(),s=t.id_token?nc(t.id_token,Dr):void 0,a={protocolMode:i.config.auth.protocolMode,knownAuthorities:i.config.auth.knownAuthorities,cloudDiscoveryMetadata:i.config.auth.cloudDiscoveryMetadata,authorityMetadata:i.config.auth.authorityMetadata,skipAuthorityMetadataCache:i.config.auth.skipAuthorityMetadataCache},c=e.authority?new Zt(Zt.generateAuthority(e.authority,e.azureCloudOptions),i.config.system.networkClient,i.storage,a,i.logger,e.correlationId||Ar()):void 0,l=yield i.loadAccount(e,r.clientInfo||t.client_info||"",o,s,c),u=yield i.loadIdToken(t,l.homeAccountId,l.environment,l.realm,o),d=yield i.loadAccessToken(e,t,l.homeAccountId,l.environment,l.realm,r,o),h=yield i.loadRefreshToken(t,l.homeAccountId,l.environment,o);return i.generateAuthenticationResult(e,{account:l,idToken:u,accessToken:d,refreshToken:h},s,c)})()}loadAccount(e,t,r,i,o){var s=this;return _(function*(){if(s.logger.verbose("TokenCache - loading account"),e.account){const u=vn.createFromAccountInfo(e.account);return yield s.storage.setAccount(u,r),u}if(!o||!t&&!i)throw s.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),L(zm);const a=vn.generateHomeAccountId(t,o.authorityType,s.logger,s.cryptoObj,i),c=i?.tid,l=jT(s.storage,o,a,Dr,i,t,o.hostnameAndPort,c,void 0,void 0,s.logger);return yield s.storage.setAccount(l,r),l})()}loadIdToken(e,t,r,i,o){var s=this;return _(function*(){if(!e.id_token)return s.logger.verbose("TokenCache - no id token found in response"),null;s.logger.verbose("TokenCache - loading id token");const a=cg(t,r,e.id_token,s.config.auth.clientId,i);return yield s.storage.setIdTokenCredential(a,o),a})()}loadAccessToken(e,t,r,i,o,s,a){var c=this;return _(function*(){if(!t.access_token)return c.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return c.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!(t.scope||e.scopes&&e.scopes.length))return c.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;c.logger.verbose("TokenCache - loading access token");const l=t.scope?Mt.fromString(t.scope):new Mt(e.scopes),u=s.expiresOn||t.expires_in+zn(),d=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+zn(),h=lg(r,i,t.access_token,c.config.auth.clientId,o,l.printScopes(),u,d,Dr);return yield c.storage.setAccessTokenCredential(h,a),h})()}loadRefreshToken(e,t,r,i){var o=this;return _(function*(){if(!e.refresh_token)return o.logger.verbose("TokenCache - no refresh token found in response"),null;o.logger.verbose("TokenCache - loading refresh token");const s=B1(t,r,e.refresh_token,o.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return yield o.storage.setRefreshTokenCredential(s,i),s})()}generateAuthenticationResult(e,t,r,i){let c,o="",s=[],a=null;t?.accessToken&&(o=t.accessToken.secret,s=Mt.fromString(t.accessToken.target).asArray(),a=rc(t.accessToken.expiresOn),c=rc(t.accessToken.extendedExpiresOn));const l=t.account;return{authority:i?i.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:l.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}class $oe extends RB{constructor(e){super(e),this.includeRedirectUri=!1}}class zoe extends uc{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,c,l,u),this.apiId=a}acquireToken(e){var t=this;return _(function*(){if(!e.code)throw L(Gm);const r=yield A(t.initializeAuthorizationRequest.bind(t),g.StandardInteractionClientInitializeAuthorizationRequest,t.logger,t.performanceClient,e.correlationId)(e,B.Silent),i=t.initializeServerTelemetryManager(t.apiId);try{const o={...r,code:e.code},s=yield A(t.getClientConfiguration.bind(t),g.StandardInteractionClientGetClientConfiguration,t.logger,t.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),a=new $oe(s);t.logger.verbose("Auth code client created");const c=new PB(a,t.browserStorage,o,t.logger,t.performanceClient);return yield A(c.handleCodeResponseFromServer.bind(c),g.HandleCodeResponseFromServer,t.logger,t.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},r,!1)}catch(o){throw o instanceof $e&&(o.setCorrelationId(t.correlationId),i.cacheFailedRequest(o)),o}})()}logout(){return Promise.reject(L(Xa))}}function ii(n){const e=n?.idTokenClaims;return e?.tfp||e?.acr?"B2C":e?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===e?.tid?"MSA":"AAD":void 0}function Og(n,e){try{oT(n)}catch(t){throw e.end({success:!1},t),t}}class Ng{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new gg(this.logger,this.performanceClient):ag,this.eventHandler=new iie(this.logger),this.browserStorage=this.isBrowserEnvironment?new AT(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function Ure(n){const e=n.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw Oe(yu)}return{canonicalAuthority:n.authority?sB(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:t}}(this.config.auth)):((n,e,t,r)=>new AT(this.config.auth.clientId,{cacheLocation:Rt.MemoryStorage,temporaryCacheLocation:Rt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},ag,this.logger,this.performanceClient,this.eventHandler))(),this.nativeInternalStorage=new AT(this.config.auth.clientId,{cacheLocation:Rt.MemoryStorage,temporaryCacheLocation:Rt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Voe(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static createController(e,t){return _(function*(){const r=new Ng(e);return yield r.initialize(t),r})()}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}initialize(e,t){var r=this;return _(function*(){if(r.logger.trace("initialize called"),r.initialized)return void r.logger.info("initialize has already been called, exiting early.");if(!r.isBrowserEnvironment)return r.logger.info("in non-browser environment, exiting early."),r.initialized=!0,void r.eventHandler.emitEvent("msal:initializeEnd");const i=e?.correlationId||r.getRequestCorrelationId(),o=r.config.system.allowPlatformBroker,s=r.performanceClient.startMeasurement(g.InitializeClientApplication,i);if(r.eventHandler.emitEvent("msal:initializeStart"),!t)try{r.logMultipleInstances(s)}catch{}if(yield A(r.browserStorage.initialize.bind(r.browserStorage),g.InitializeCache,r.logger,r.performanceClient,i)(i),o)try{r.platformAuthProvider=yield HB(r.logger,r.performanceClient,i,r.config.system.nativeBrokerHandshakeTimeout)}catch(a){r.logger.verbose(a)}r.config.cache.claimsBasedCachingEnabled||(r.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),nr(r.browserStorage.clearTokensAndKeysWithClaims.bind(r.browserStorage),g.ClearTokensAndKeysWithClaims,r.logger,r.performanceClient,i)(i)),r.config.system.asyncPopups&&(yield r.preGeneratePkceCodes(i)),r.initialized=!0,r.eventHandler.emitEvent("msal:initializeEnd"),s.end({allowPlatformBroker:o,success:!0})})()}handleRedirectPromise(e){var t=this;return _(function*(){if(t.logger.verbose("handleRedirectPromise called"),O1(t.initialized),t.isBrowserEnvironment){const r=e||"";let i=t.redirectResponse.get(r);return typeof i>"u"?(i=t.handleRedirectPromiseInternal(e),t.redirectResponse.set(r,i),t.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):t.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),i}return t.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})()}handleRedirectPromiseInternal(e){var t=this;return _(function*(){if(!t.browserStorage.isInteractionInProgress(!0))return t.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if("signout"===t.browserStorage.getInteractionInProgress()?.type)return t.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),t.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const i=t.getAllAccounts(),o=t.browserStorage.getCachedNativeRequest(),s=o&&t.platformAuthProvider&&!e;let a,c;t.eventHandler.emitEvent("msal:handleRedirectStart",B.Redirect);try{if(s&&t.platformAuthProvider){a=t.performanceClient.startMeasurement(g.AcquireTokenRedirect,o?.correlationId||""),t.logger.trace("handleRedirectPromise - acquiring token from native platform");const l=new Rg(t.config,t.browserStorage,t.browserCrypto,t.logger,t.eventHandler,t.navigationClient,865,t.performanceClient,t.platformAuthProvider,o.accountId,t.nativeInternalStorage,o.correlationId);c=A(l.handleRedirectPromise.bind(l),g.HandleNativeRedirectPromiseMeasurement,t.logger,t.performanceClient,a.event.correlationId)(t.performanceClient,a.event.correlationId)}else{const[l,u]=t.browserStorage.getCachedRequest(),d=l.correlationId;a=t.performanceClient.startMeasurement(g.AcquireTokenRedirect,d),t.logger.trace("handleRedirectPromise - acquiring token from web flow");const h=t.createRedirectClient(d);c=A(h.handleRedirectPromise.bind(h),g.HandleRedirectPromiseMeasurement,t.logger,t.performanceClient,a.event.correlationId)(e,l,u,a)}}catch(l){throw t.browserStorage.resetRequestCache(),l}return c.then(l=>(l?(t.browserStorage.resetRequestCache(),i.length<t.getAllAccounts().length?(t.eventHandler.emitEvent("msal:loginSuccess",B.Redirect,l),t.logger.verbose("handleRedirectResponse returned result, login success")):(t.eventHandler.emitEvent("msal:acquireTokenSuccess",B.Redirect,l),t.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:ii(l.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),t.eventHandler.emitEvent("msal:handleRedirectEnd",B.Redirect),l)).catch(l=>{t.browserStorage.resetRequestCache();const u=l;throw t.eventHandler.emitEvent(i.length>0?"msal:acquireTokenFailure":"msal:loginFailure",B.Redirect,null,u),t.eventHandler.emitEvent("msal:handleRedirectEnd",B.Redirect),a.end({success:!1},u),l})})()}acquireTokenRedirect(e){var t=this;return _(function*(){const r=t.getRequestCorrelationId(e);t.logger.verbose("acquireTokenRedirect called",r);const i=t.performanceClient.startMeasurement(g.AcquireTokenPreRedirect,r);i.add({accountType:ii(e.account),scenarioId:e.scenarioId});const o=e.onRedirectNavigate;if(o)e.onRedirectNavigate=a=>{const c="function"==typeof o?o(a):void 0;return!1!==c?i.end({success:!0}):i.discard(),c};else{const a=t.config.auth.onRedirectNavigate;t.config.auth.onRedirectNavigate=c=>{const l="function"==typeof a?a(c):void 0;return!1!==l?i.end({success:!0}):i.discard(),l}}const s=t.getAllAccounts().length>0;try{let a;return N1(t.initialized,t.config),t.browserStorage.setInteractionInProgress(!0,"signin"),t.eventHandler.emitEvent(s?"msal:acquireTokenStart":"msal:loginStart",B.Redirect,e),a=t.platformAuthProvider&&t.canUsePlatformBroker(e)?new Rg(t.config,t.browserStorage,t.browserCrypto,t.logger,t.eventHandler,t.navigationClient,861,t.performanceClient,t.platformAuthProvider,t.getNativeAccountId(e),t.nativeInternalStorage,r).acquireTokenRedirect(e,i).catch(l=>{if(l instanceof ri&&dc(l))return t.platformAuthProvider=void 0,t.createRedirectClient(r).acquireToken(e);if(l instanceof Mr)return t.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),t.createRedirectClient(r).acquireToken(e);throw l}):t.createRedirectClient(r).acquireToken(e),yield a}catch(a){throw t.browserStorage.resetRequestCache(),i.end({success:!1},a),t.eventHandler.emitEvent(s?"msal:acquireTokenFailure":"msal:loginFailure",B.Redirect,null,a),a}})()}acquireTokenPopup(e){var t=this;const r=this.getRequestCorrelationId(e),i=this.performanceClient.startMeasurement(g.AcquireTokenPopup,r);i.add({scenarioId:e.scenarioId,accountType:ii(e.account)});try{this.logger.verbose("acquireTokenPopup called",r),Og(this.initialized,i),this.browserStorage.setInteractionInProgress(!0,"signin")}catch(c){return Promise.reject(c)}const o=this.getAllAccounts();let s;this.eventHandler.emitEvent(o.length>0?"msal:acquireTokenStart":"msal:loginStart",B.Popup,e);const a=this.getPreGeneratedPkceCodes(r);return s=this.canUsePlatformBroker(e)?this.acquireTokenNative({...e,correlationId:r},862).then(c=>(i.end({success:!0,isNativeBroker:!0,accountType:ii(c.account)}),c)).catch(c=>{if(c instanceof ri&&dc(c))return this.platformAuthProvider=void 0,this.createPopupClient(r).acquireToken(e,a);if(c instanceof Mr)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(r).acquireToken(e,a);throw c}):this.createPopupClient(r).acquireToken(e,a),s.then(c=>(o.length<this.getAllAccounts().length?this.eventHandler.emitEvent("msal:loginSuccess",B.Popup,c):this.eventHandler.emitEvent("msal:acquireTokenSuccess",B.Popup,c),i.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:ii(c.account)}),c)).catch(c=>(this.eventHandler.emitEvent(o.length>0?"msal:acquireTokenFailure":"msal:loginFailure",B.Popup,null,c),i.end({success:!1},c),Promise.reject(c))).finally(_(function*(){t.browserStorage.setInteractionInProgress(!1),t.config.system.asyncPopups&&(yield t.preGeneratePkceCodes(r))}))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}ssoSilent(e){var t=this;return _(function*(){const r=t.getRequestCorrelationId(e),i={...e,prompt:e.prompt,correlationId:r};let o;return t.ssoSilentMeasurement=t.performanceClient.startMeasurement(g.SsoSilent,r),t.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:ii(e.account)}),Og(t.initialized,t.ssoSilentMeasurement),t.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",t.trackPageVisibilityWithMeasurement),t.logger.verbose("ssoSilent called",r),t.eventHandler.emitEvent("msal:ssoSilentStart",B.Silent,i),o=t.canUsePlatformBroker(i)?t.acquireTokenNative(i,863).catch(s=>{if(s instanceof ri&&dc(s))return t.platformAuthProvider=void 0,t.createSilentIframeClient(i.correlationId).acquireToken(i);throw s}):t.createSilentIframeClient(i.correlationId).acquireToken(i),o.then(s=>(t.eventHandler.emitEvent("msal:ssoSilentSuccess",B.Silent,s),t.ssoSilentMeasurement?.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:ii(s.account)}),s)).catch(s=>{throw t.eventHandler.emitEvent("msal:ssoSilentFailure",B.Silent,null,s),t.ssoSilentMeasurement?.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",t.trackPageVisibilityWithMeasurement)})})()}acquireTokenByCode(e){var t=this;return _(function*(){const r=t.getRequestCorrelationId(e);t.logger.trace("acquireTokenByCode called",r);const i=t.performanceClient.startMeasurement(g.AcquireTokenByCode,r);Og(t.initialized,i),t.eventHandler.emitEvent("msal:acquireTokenByCodeStart",B.Silent,e),i.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw L(Km);if(e.code){const o=e.code;let s=t.hybridAuthCodeResponses.get(o);return s?(t.logger.verbose("Existing acquireTokenByCode request found",r),i.discard()):(t.logger.verbose("Initiating new acquireTokenByCode request",r),s=t.acquireTokenByCodeAsync({...e,correlationId:r}).then(a=>(t.eventHandler.emitEvent("msal:acquireTokenByCodeSuccess",B.Silent,a),t.hybridAuthCodeResponses.delete(o),i.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:ii(a.account)}),a)).catch(a=>{throw t.hybridAuthCodeResponses.delete(o),t.eventHandler.emitEvent("msal:acquireTokenByCodeFailure",B.Silent,null,a),i.end({success:!1},a),a}),t.hybridAuthCodeResponses.set(o,s)),yield s}if(e.nativeAccountId){if(t.canUsePlatformBroker(e,e.nativeAccountId)){const o=yield t.acquireTokenNative({...e,correlationId:r},866,e.nativeAccountId).catch(s=>{throw s instanceof ri&&dc(s)&&(t.platformAuthProvider=void 0),s});return i.end({accountType:ii(o.account),success:!0}),o}throw L(Wm)}throw L(qm)}catch(o){throw t.eventHandler.emitEvent("msal:acquireTokenByCodeFailure",B.Silent,null,o),i.end({success:!1},o),o}})()}acquireTokenByCodeAsync(e){var t=this;return _(function*(){return t.logger.trace("acquireTokenByCodeAsync called",e.correlationId),t.acquireTokenByCodeAsyncMeasurement=t.performanceClient.startMeasurement(g.AcquireTokenByCodeAsync,e.correlationId),t.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",t.trackPageVisibilityWithMeasurement),yield t.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>(t.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker}),o)).catch(o=>{throw t.acquireTokenByCodeAsyncMeasurement?.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",t.trackPageVisibilityWithMeasurement)})})()}acquireTokenFromCache(e,t){var r=this;return _(function*(){switch(r.performanceClient.addQueueMeasurement(g.AcquireTokenFromCache,e.correlationId),t){case 0:case 1:case 2:const i=r.createSilentCacheClient(e.correlationId);return A(i.acquireToken.bind(i),g.SilentCacheClientAcquireToken,r.logger,r.performanceClient,e.correlationId)(e);default:throw M(ei)}})()}acquireTokenByRefreshToken(e,t){var r=this;return _(function*(){switch(r.performanceClient.addQueueMeasurement(g.AcquireTokenByRefreshToken,e.correlationId),t){case 0:case 2:case 3:case 4:const i=r.createSilentRefreshClient(e.correlationId);return A(i.acquireToken.bind(i),g.SilentRefreshClientAcquireToken,r.logger,r.performanceClient,e.correlationId)(e);default:throw M(ei)}})()}acquireTokenBySilentIframe(e){var t=this;return _(function*(){t.performanceClient.addQueueMeasurement(g.AcquireTokenBySilentIframe,e.correlationId);const r=t.createSilentIframeClient(e.correlationId);return A(r.acquireToken.bind(r),g.SilentIframeClientAcquireToken,t.logger,t.performanceClient,e.correlationId)(e)})()}logout(e){var t=this;return _(function*(){const r=t.getRequestCorrelationId(e);return t.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",r),t.logoutRedirect({correlationId:r,...e})})()}logoutRedirect(e){var t=this;return _(function*(){const r=t.getRequestCorrelationId(e);return N1(t.initialized,t.config),t.browserStorage.setInteractionInProgress(!0,"signout"),t.createRedirectClient(r).logout(e)})()}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return oT(this.initialized),this.browserStorage.setInteractionInProgress(!0,"signout"),this.createPopupClient(t).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(t){return Promise.reject(t)}}clearCache(e){var t=this;return _(function*(){if(!t.isBrowserEnvironment)return void t.logger.info("in non-browser environment, returning early.");const r=t.getRequestCorrelationId(e);return t.createSilentCacheClient(r).logout(e)})()}getAllAccounts(e){return function Qre(n,e,t,r){return n.verbose("getAllAccounts called"),t?e.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function Xre(n,e,t){if(e.trace("getAccount called"),0===Object.keys(n).length)return e.warning("getAccount: No accountFilter provided"),null;const r=t.getAccountInfoFilteredBy(n);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function Zre(n,e,t){if(e.trace("getAccountByUsername called"),!n)return e.warning("getAccountByUsername: No username provided"),null;const r=t.getAccountInfoFilteredBy({username:n});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function Jre(n,e,t){if(e.trace("getAccountByHomeId called"),!n)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=t.getAccountInfoFilteredBy({homeAccountId:n});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function eie(n,e,t){if(e.trace("getAccountByLocalId called"),!n)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=t.getAccountInfoFilteredBy({localAccountId:n});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function tie(n,e){e.setActiveAccount(n)}(e,this.browserStorage)}getActiveAccount(){return function nie(n){return n.getActiveAccount()}(this.browserStorage)}hydrateCache(e,t){var r=this;return _(function*(){r.logger.verbose("hydrateCache called");const i=vn.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return yield r.browserStorage.setAccount(i,e.correlationId),e.fromNativeBroker?(r.logger.verbose("Response was from native broker, storing in-memory"),r.nativeInternalStorage.hydrateCache(e,t)):r.browserStorage.hydrateCache(e,t)})()}acquireTokenNative(e,t,r,i){var o=this;return _(function*(){if(o.logger.trace("acquireTokenNative called"),!o.platformAuthProvider)throw L(Bu);return new Rg(o.config,o.browserStorage,o.browserCrypto,o.logger,o.eventHandler,o.navigationClient,t,o.performanceClient,o.platformAuthProvider,r||o.getNativeAccountId(e),o.nativeInternalStorage,e.correlationId).acquireToken(e,i)})()}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Xu(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case zt.NONE:case zt.CONSENT:case zt.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e)&&(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),1))}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Moe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new Ooe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new Boe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,863,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new LB(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new joe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new zoe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,866,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return k1(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===Rt.LocalStorage?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===Rt.LocalStorage?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Ar():S.EMPTY_STRING}loginRedirect(e){var t=this;return _(function*(){const r=t.getRequestCorrelationId(e);return t.logger.verbose("loginRedirect called",r),t.acquireTokenRedirect({correlationId:r,...e||v1})})()}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||v1})}acquireTokenSilent(e){var t=this;return _(function*(){const r=t.getRequestCorrelationId(e),i=t.performanceClient.startMeasurement(g.AcquireTokenSilent,r);i.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Og(t.initialized,i),t.logger.verbose("acquireTokenSilent called",r);const o=e.account||t.getActiveAccount();if(!o)throw L(Um);return i.add({accountType:ii(o)}),t.acquireTokenSilentDeduped(e,o,r).then(s=>(i.end({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length}),{...s,state:e.state,correlationId:r})).catch(s=>{throw s instanceof $e&&s.setCorrelationId(r),i.end({success:!1},s),s})})()}acquireTokenSilentDeduped(e,t,r){var i=this;return _(function*(){const o=bg(i.config.auth.clientId,{...e,authority:e.authority||i.config.auth.authority,correlationId:r},t.homeAccountId),s=JSON.stringify(o),a=i.activeSilentTokenRequests.get(s);if(typeof a>"u"){i.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),i.performanceClient.addFields({deduped:!1},r);const c=A(i.acquireTokenSilentAsync.bind(i),g.AcquireTokenSilentAsync,i.logger,i.performanceClient,r)({...e,correlationId:r},t);return i.activeSilentTokenRequests.set(s,c),c.finally(()=>{i.activeSilentTokenRequests.delete(s)})}return i.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),i.performanceClient.addFields({deduped:!0},r),a})()}acquireTokenSilentAsync(e,t){var r=this;return _(function*(){const i=()=>r.trackPageVisibility(e.correlationId);r.performanceClient.addQueueMeasurement(g.AcquireTokenSilentAsync,e.correlationId),r.eventHandler.emitEvent("msal:acquireTokenStart",B.Silent,e),e.correlationId&&r.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",i);const o=yield A(soe,g.InitializeSilentRequest,r.logger,r.performanceClient,e.correlationId)(e,t,r.config,r.performanceClient,r.logger),s=e.cacheLookupPolicy||0;return r.acquireTokenSilentNoIframe(o,s).catch(function(){var c=_(function*(l){if(function qoe(n,e){const i=!(n instanceof Mr&&n.subError!==ac)&&(n.errorCode===Sn.INVALID_GRANT_ERROR||n.errorCode===ei)||n.errorCode===sc||n.errorCode===wT,o=ine.includes(e);return i&&o}(l,s)){if(r.activeIframeRequest){if(5!==s){const[d,h]=r.activeIframeRequest;r.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${h}`,o.correlationId);const f=r.performanceClient.startMeasurement(g.AwaitConcurrentIframe,o.correlationId);f.add({awaitIframeCorrelationId:h});const p=yield d;if(f.end({success:p}),p)return r.logger.verbose(`Parallel iframe request with correlationId: ${h} succeeded. Retrying cache and/or RT redemption`,o.correlationId),r.acquireTokenSilentNoIframe(o,s);throw r.logger.info(`Iframe request with correlationId: ${h} failed. Interaction is required.`),l}return r.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",o.correlationId),A(r.acquireTokenBySilentIframe.bind(r),g.AcquireTokenBySilentIframe,r.logger,r.performanceClient,o.correlationId)(o)}{let d;return r.activeIframeRequest=[new Promise(h=>{d=h}),o.correlationId],r.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",o.correlationId),A(r.acquireTokenBySilentIframe.bind(r),g.AcquireTokenBySilentIframe,r.logger,r.performanceClient,o.correlationId)(o).then(h=>(d(!0),h)).catch(h=>{throw d(!1),h}).finally(()=>{r.activeIframeRequest=void 0})}}throw l});return function(l){return c.apply(this,arguments)}}()).then(c=>(r.eventHandler.emitEvent("msal:acquireTokenSuccess",B.Silent,c),e.correlationId&&r.performanceClient.addFields({fromCache:c.fromCache,isNativeBroker:c.fromNativeBroker},e.correlationId),c)).catch(c=>{throw r.eventHandler.emitEvent("msal:acquireTokenFailure",B.Silent,null,c),c}).finally(()=>{document.removeEventListener("visibilitychange",i)})})()}acquireTokenSilentNoIframe(e,t){var r=this;return _(function*(){return Xu(r.config,r.logger,r.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(r.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),r.acquireTokenNative(e,61,e.account.nativeAccountId,t).catch(function(){var i=_(function*(o){throw o instanceof ri&&dc(o)?(r.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),r.platformAuthProvider=void 0,M(ei)):o});return function(o){return i.apply(this,arguments)}}())):(r.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),1===t&&r.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),A(r.acquireTokenFromCache.bind(r),g.AcquireTokenFromCache,r.logger,r.performanceClient,e.correlationId)(e,t).catch(i=>{if(1===t)throw i;return r.eventHandler.emitEvent("msal:acquireTokenFromNetworkStart",B.Silent,e),A(r.acquireTokenByRefreshToken.bind(r),g.AcquireTokenByRefreshToken,r.logger,r.performanceClient,e.correlationId)(e,t)}))})()}preGeneratePkceCodes(e){var t=this;return _(function*(){return t.logger.verbose("Generating new PKCE codes"),t.pkceCode=yield A(Mg,g.GeneratePkceCodes,t.logger,t.performanceClient,e)(t.performanceClient,t.logger,e),Promise.resolve()})()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose((t?"Found":"Did not find")+" pre-generated PKCE codes"),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;window&&(window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function Goe(n,e,t){const r=window.msal?.clientIds||[],i=r.length,o=r.filter(s=>s===n).length;o>1&&t.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:i,sameClientIdInstanceCount:o})}(t,e,this.logger))}}function dI(){return(dI=_(function*(n,e){const t=new tB(n);return yield t.initialize(),Ng.createController(t,e)})).apply(this,arguments)}class Zu{static createPublicClientApplication(e){return _(function*(){const t=yield function Koe(n,e){return dI.apply(this,arguments)}(e);return new Zu(e,t)})()}constructor(e,t){this.isBroker=!1,this.controller=t||new Ng(new tB(e))}initialize(e){var t=this;return _(function*(){return t.controller.initialize(e,t.isBroker)})()}acquireTokenPopup(e){var t=this;return _(function*(){return t.controller.acquireTokenPopup(e)})()}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(e,t){var r=this;return _(function*(){return r.controller.hydrateCache(e,t)})()}clearCache(e){return this.controller.clearCache(e)}}const Yoe={auth:{clientId:"cd449933-7380-44f6-8d8c-0b7af5c27bb8",authority:"https://BoraBoraAI.ciamlogin.com/",redirectUri:"/",postLogoutRedirectUri:"/",knownAuthorities:["boraboraai.ciamlogin.com"]},cache:{cacheLocation:Rt.LocalStorage},system:{loggerOptions:{loggerCallback(n,e){console.log(e)},logLevel:Qe.Verbose,piiLoggingEnabled:!1}}},Qoe={scopes:["openid","profile","email"]},VB={production:!0,protectedResourceMap:new Map([["https://boraboraai-api.azurewebsites.net/txt2img",["api://d949f2eb-c6b9-4ff4-a48c-db819ac07578/a1111.post.txt2img"]],["https://boraboraai-api.azurewebsites.net/img2img",["api://d949f2eb-c6b9-4ff4-a48c-db819ac07578/a1111.post.img2img"]]])};var mI;function Xoe(){return gI.apply(this,arguments)}function gI(){return(gI=_(function*(){return mI=yield Zu.createPublicClientApplication(Yoe)})).apply(this,arguments)}function Zoe(){return mI}function Joe(){return{interactionType:B.Redirect,authRequest:Qoe}}function ese(){return{interactionType:B.Redirect,protectedResourceMap:VB.protectedResourceMap}}let tse=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pe({type:n,bootstrap:[Xne,Nne]});static \u0275inj=Ne({providers:[{provide:nf,useValue:Xoe,multi:!0},{provide:bx,useClass:One,multi:!0},{provide:sg,useFactory:Zoe},{provide:qu,useFactory:Joe},{provide:sT,useFactory:ese},us,ls,aT],imports:[qN,XF,Gne,A9,F9,G9,LX,hZ,XF,kZ,DJ,xne]})}return n})();x5().bootstrapModule(tse).catch(n=>console.error(n))}},Pg=>{Pg(Pg.s=359)}]);